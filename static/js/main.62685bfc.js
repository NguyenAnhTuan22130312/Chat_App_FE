/*! For license information please see main.62685bfc.js.LICENSE.txt */
(()=>{"use strict";var e={4(e,t,n){var r=n(853),a=n(43),o=n(950);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(l(e)!==e)throw Error(i(188))}function h(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=h(e)))return t;e=e.sibling}return null}var f=Object.assign,p=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),_=Symbol.for("react.consumer"),x=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),E=Symbol.for("react.lazy");Symbol.for("react.scope");var N=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var T=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var j=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=j&&e[j]||e["@@iterator"])?e:null}var P=Symbol.for("react.client.reference");function I(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===P?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case y:return"Fragment";case b:return"Profiler";case v:return"StrictMode";case k:return"Suspense";case C:return"SuspenseList";case N:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case g:return"Portal";case x:return e.displayName||"Context";case _:return(e._context.displayName||"Context")+".Consumer";case w:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case S:return null!==(t=e.displayName||null)?t:I(e.type)||"Memo";case E:t=e._payload,e=e._init;try{return I(e(t))}catch(n){}}return null}var L=Array.isArray,O=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,A={pending:!1,data:null,method:null,action:null},D=[],z=-1;function F(e){return{current:e}}function W(e){0>z||(e.current=D[z],D[z]=null,z--)}function H(e,t){z++,D[z]=e.current,e.current=t}var U,B,q=F(null),V=F(null),$=F(null),K=F(null);function G(e,t){switch(H($,t),H(V,e),H(q,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?vd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=bd(t=vd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}W(q),H(q,e)}function Q(){W(q),W(V),W($)}function Y(e){null!==e.memoizedState&&H(K,e);var t=q.current,n=bd(t,e.type);t!==n&&(H(V,e),H(q,n))}function X(e){V.current===e&&(W(q),W(V)),K.current===e&&(W(K),dh._currentValue=A)}function J(e){if(void 0===U)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);U=t&&t[1]||"",B=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+U+e+B}var Z=!1;function ee(e,t){if(!e||Z)return"";Z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(a){var r=a}Reflect.construct(e,[],n)}else{try{n.call()}catch(o){r=o}e.call(n.prototype)}}else{try{throw Error()}catch(i){r=i}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(s){if(s&&r&&"string"===typeof s.stack)return[s.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),i=o[0],s=o[1];if(i&&s){var l=i.split("\n"),c=s.split("\n");for(a=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;if(r===l.length||a===c.length)for(r=l.length-1,a=c.length-1;1<=r&&0<=a&&l[r]!==c[a];)a--;for(;1<=r&&0<=a;r--,a--)if(l[r]!==c[a]){if(1!==r||1!==a)do{if(r--,0>--a||l[r]!==c[a]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=a);break}}}finally{Z=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?J(n):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return J(e.type);case 16:return J("Lazy");case 13:return e.child!==t&&null!==t?J("Suspense Fallback"):J("Suspense");case 19:return J("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return J("Activity");default:return""}}function ne(e){try{var t="",n=null;do{t+=te(e,n),n=e,e=e.return}while(e);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}var re=Object.prototype.hasOwnProperty,ae=r.unstable_scheduleCallback,oe=r.unstable_cancelCallback,ie=r.unstable_shouldYield,se=r.unstable_requestPaint,le=r.unstable_now,ce=r.unstable_getCurrentPriorityLevel,ue=r.unstable_ImmediatePriority,de=r.unstable_UserBlockingPriority,he=r.unstable_NormalPriority,fe=r.unstable_LowPriority,pe=r.unstable_IdlePriority,me=r.log,ge=r.unstable_setDisableYieldValue,ye=null,ve=null;function be(e){if("function"===typeof me&&ge(e),ve&&"function"===typeof ve.setStrictMode)try{ve.setStrictMode(ye,e)}catch(t){}}var _e=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(xe(e)/we|0)|0},xe=Math.log,we=Math.LN2;var ke=256,Ce=262144,Se=4194304;function Ee(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ne(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var a=0,o=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var s=134217727&r;return 0!==s?0!==(r=s&~o)?a=Ee(r):0!==(i&=s)?a=Ee(i):n||0!==(n=s&~e)&&(a=Ee(n)):0!==(s=r&~o)?a=Ee(s):0!==i?a=Ee(i):n||0!==(n=r&~e)&&(a=Ee(n)),0===a?0:0!==t&&t!==a&&0===(t&o)&&((o=a&-a)>=(n=t&-t)||32===o&&0!==(4194048&n))?t:a}function Te(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function je(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Re(){var e=Se;return 0===(62914560&(Se<<=1))&&(Se=4194304),e}function Pe(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ie(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Le(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-_e(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function Oe(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-_e(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}function Me(e,t){var n=t&-t;return 0!==((n=0!==(42&n)?1:Ae(n))&(e.suspendedLanes|t))?0:n}function Ae(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function De(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function ze(){var e=M.p;return 0!==e?e:void 0===(e=window.event)?32:Nh(e.type)}function Fe(e,t){var n=M.p;try{return M.p=e,t()}finally{M.p=n}}var We=Math.random().toString(36).slice(2),He="__reactFiber$"+We,Ue="__reactProps$"+We,Be="__reactContainer$"+We,qe="__reactEvents$"+We,Ve="__reactListeners$"+We,$e="__reactHandles$"+We,Ke="__reactResources$"+We,Ge="__reactMarker$"+We;function Qe(e){delete e[He],delete e[Ue],delete e[qe],delete e[Ve],delete e[$e]}function Ye(e){var t=e[He];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Be]||n[He]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Dd(e);null!==e;){if(n=e[He])return n;e=Dd(e)}return t}n=(e=n).parentNode}return null}function Xe(e){if(e=e[He]||e[Be]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Je(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(i(33))}function Ze(e){var t=e[Ke];return t||(t=e[Ke]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Ge]=!0}var tt=new Set,nt={};function rt(e,t){at(e,t),at(e+"Capture",t)}function at(e,t){for(nt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var ot=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),it={},st={};function lt(e,t,n){if(a=t,re.call(st,a)||!re.call(it,a)&&(ot.test(a)?st[a]=!0:(it[a]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var a}function ct(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ut(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ht(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ft(e){if(!e._valueTracker){var t=ht(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var a=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){n=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ht(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function mt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function yt(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function vt(e,t,n,r,a,o,i,s){e.name="",null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i?e.type=i:e.removeAttribute("type"),null!=t?"number"===i?(0===t&&""===e.value||e.value!=t)&&(e.value=""+dt(t)):e.value!==""+dt(t)&&(e.value=""+dt(t)):"submit"!==i&&"reset"!==i||e.removeAttribute("value"),null!=t?_t(e,i,dt(t)):null!=n?_t(e,i,dt(n)):null!=r&&e.removeAttribute("value"),null==a&&null!=o&&(e.defaultChecked=!!o),null!=a&&(e.checked=a&&"function"!==typeof a&&"symbol"!==typeof a),null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.name=""+dt(s):e.removeAttribute("name")}function bt(e,t,n,r,a,o,i,s){if(null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.type=o),null!=t||null!=n){if(!("submit"!==o&&"reset"!==o||void 0!==t&&null!==t))return void ft(e);n=null!=n?""+dt(n):"",t=null!=t?""+dt(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:a)&&"symbol"!==typeof r&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.name=i),ft(e)}function _t(e,t,n){"number"===t&&mt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function xt(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+dt(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function wt(e,t,n){null==t||((t=""+dt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+dt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function kt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(i(92));if(L(r)){if(1<r.length)throw Error(i(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=dt(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r),ft(e)}function Ct(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var St=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Et(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||St.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Nt(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(i(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&Et(e,a,r)}else for(var o in t)t.hasOwnProperty(o)&&Et(e,o,t[o])}function Tt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pt(e){return Rt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function It(){}var Lt=null;function Ot(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Mt=null,At=null;function Dt(e){var t=Xe(e);if(t&&(e=t.stateNode)){var n=e[Ue]||null;e:switch(e=t.stateNode,t.type){case"input":if(vt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+yt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[Ue]||null;if(!a)throw Error(i(90));vt(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&pt(r)}break e;case"textarea":wt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&xt(e,!!n.multiple,t,!1)}}}var zt=!1;function Ft(e,t,n){if(zt)return e(t,n);zt=!0;try{return e(t)}finally{if(zt=!1,(null!==Mt||null!==At)&&(eu(),Mt&&(t=Mt,e=At,At=Mt=null,Dt(t),e)))for(t=0;t<e.length;t++)Dt(e[t])}}function Wt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Ue]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Ht=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Ut=!1;if(Ht)try{var Bt={};Object.defineProperty(Bt,"passive",{get:function(){Ut=!0}}),window.addEventListener("test",Bt,Bt),window.removeEventListener("test",Bt,Bt)}catch(Jh){Ut=!1}var qt=null,Vt=null,$t=null;function Kt(){if($t)return $t;var e,t,n=Vt,r=n.length,a="value"in qt?qt.value:qt.textContent,o=a.length;for(e=0;e<r&&n[e]===a[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===a[o-t];t++);return $t=a.slice(e,1<t?1-t:void 0)}function Gt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Qt(){return!0}function Yt(){return!1}function Xt(e){function t(t,n,r,a,o){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?Qt:Yt,this.isPropagationStopped=Yt,this}return f(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Qt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Qt)},persist:function(){},isPersistent:Qt}),t}var Jt,Zt,en,tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nn=Xt(tn),rn=f({},tn,{view:0,detail:0}),an=Xt(rn),on=f({},rn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&"mousemove"===e.type?(Jt=e.screenX-en.screenX,Zt=e.screenY-en.screenY):Zt=Jt=0,en=e),Jt)},movementY:function(e){return"movementY"in e?e.movementY:Zt}}),sn=Xt(on),ln=Xt(f({},on,{dataTransfer:0})),cn=Xt(f({},rn,{relatedTarget:0})),un=Xt(f({},tn,{animationName:0,elapsedTime:0,pseudoElement:0})),dn=Xt(f({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),hn=Xt(f({},tn,{data:0})),fn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=mn[e])&&!!t[e]}function yn(){return gn}var vn=Xt(f({},rn,{key:function(e){if(e.key){var t=fn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Gt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?pn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yn,charCode:function(e){return"keypress"===e.type?Gt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Gt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),bn=Xt(f({},on,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),_n=Xt(f({},rn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yn})),xn=Xt(f({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0})),wn=Xt(f({},on,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),kn=Xt(f({},tn,{newState:0,oldState:0})),Cn=[9,13,27,32],Sn=Ht&&"CompositionEvent"in window,En=null;Ht&&"documentMode"in document&&(En=document.documentMode);var Nn=Ht&&"TextEvent"in window&&!En,Tn=Ht&&(!Sn||En&&8<En&&11>=En),jn=String.fromCharCode(32),Rn=!1;function Pn(e,t){switch(e){case"keyup":return-1!==Cn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function In(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Ln=!1;var On={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!On[e.type]:"textarea"===t}function An(e,t,n,r){Mt?At?At.push(r):At=[r]:Mt=r,0<(t=ad(t,"onChange")).length&&(n=new nn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Dn=null,zn=null;function Fn(e){Yu(e,0)}function Wn(e){if(pt(Je(e)))return e}function Hn(e,t){if("change"===e)return t}var Un=!1;if(Ht){var Bn;if(Ht){var qn="oninput"in document;if(!qn){var Vn=document.createElement("div");Vn.setAttribute("oninput","return;"),qn="function"===typeof Vn.oninput}Bn=qn}else Bn=!1;Un=Bn&&(!document.documentMode||9<document.documentMode)}function $n(){Dn&&(Dn.detachEvent("onpropertychange",Kn),zn=Dn=null)}function Kn(e){if("value"===e.propertyName&&Wn(zn)){var t=[];An(t,zn,e,Ot(e)),Ft(Fn,t)}}function Gn(e,t,n){"focusin"===e?($n(),zn=n,(Dn=t).attachEvent("onpropertychange",Kn)):"focusout"===e&&$n()}function Qn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Wn(zn)}function Yn(e,t){if("click"===e)return Wn(t)}function Xn(e,t){if("input"===e||"change"===e)return Wn(t)}var Jn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Zn(e,t){if(Jn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!re.call(t,a)||!Jn(e[a],t[a]))return!1}return!0}function er(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tr(e,t){var n,r=er(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=er(r)}}function nr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?nr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function rr(e){for(var t=mt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=mt((e=t.contentWindow).document)}return t}function ar(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var or=Ht&&"documentMode"in document&&11>=document.documentMode,ir=null,sr=null,lr=null,cr=!1;function ur(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;cr||null==ir||ir!==mt(r)||("selectionStart"in(r=ir)&&ar(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},lr&&Zn(lr,r)||(lr=r,0<(r=ad(sr,"onSelect")).length&&(t=new nn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ir)))}function dr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var hr={animationend:dr("Animation","AnimationEnd"),animationiteration:dr("Animation","AnimationIteration"),animationstart:dr("Animation","AnimationStart"),transitionrun:dr("Transition","TransitionRun"),transitionstart:dr("Transition","TransitionStart"),transitioncancel:dr("Transition","TransitionCancel"),transitionend:dr("Transition","TransitionEnd")},fr={},pr={};function mr(e){if(fr[e])return fr[e];if(!hr[e])return e;var t,n=hr[e];for(t in n)if(n.hasOwnProperty(t)&&t in pr)return fr[e]=n[t];return e}Ht&&(pr=document.createElement("div").style,"AnimationEvent"in window||(delete hr.animationend.animation,delete hr.animationiteration.animation,delete hr.animationstart.animation),"TransitionEvent"in window||delete hr.transitionend.transition);var gr=mr("animationend"),yr=mr("animationiteration"),vr=mr("animationstart"),br=mr("transitionrun"),_r=mr("transitionstart"),xr=mr("transitioncancel"),wr=mr("transitionend"),kr=new Map,Cr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sr(e,t){kr.set(e,t),rt(t,[e])}Cr.push("scrollEnd");var Er="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Nr=[],Tr=0,jr=0;function Rr(){for(var e=Tr,t=jr=Tr=0;t<e;){var n=Nr[t];Nr[t++]=null;var r=Nr[t];Nr[t++]=null;var a=Nr[t];Nr[t++]=null;var o=Nr[t];if(Nr[t++]=null,null!==r&&null!==a){var i=r.pending;null===i?a.next=a:(a.next=i.next,i.next=a),r.pending=a}0!==o&&Or(n,a,o)}}function Pr(e,t,n,r){Nr[Tr++]=e,Nr[Tr++]=t,Nr[Tr++]=n,Nr[Tr++]=r,jr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Ir(e,t,n,r){return Pr(e,t,n,r),Mr(e)}function Lr(e,t){return Pr(e,null,null,t),Mr(e)}function Or(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var a=!1,o=e.return;null!==o;)o.childLanes|=n,null!==(r=o.alternate)&&(r.childLanes|=n),22===o.tag&&(null===(e=o.stateNode)||1&e._visibility||(a=!0)),e=o,o=o.return;return 3===e.tag?(o=e.stateNode,a&&null!==t&&(a=31-_e(n),null===(r=(e=o.hiddenUpdates)[a])?e[a]=[t]:r.push(t),t.lane=536870912|n),o):null}function Mr(e){if(50<Vc)throw Vc=0,$c=null,Error(i(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Ar={};function Dr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(e,t,n,r){return new Dr(e,t,n,r)}function Fr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Wr(e,t){var n=e.alternate;return null===n?((n=zr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Hr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ur(e,t,n,r,a,o){var s=0;if(r=e,"function"===typeof e)Fr(e)&&(s=1);else if("string"===typeof e)s=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,q.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case N:return(e=zr(31,n,t,a)).elementType=N,e.lanes=o,e;case y:return Br(n.children,a,o,t);case v:s=8,a|=24;break;case b:return(e=zr(12,n,t,2|a)).elementType=b,e.lanes=o,e;case k:return(e=zr(13,n,t,a)).elementType=k,e.lanes=o,e;case C:return(e=zr(19,n,t,a)).elementType=C,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case x:s=10;break e;case _:s=9;break e;case w:s=11;break e;case S:s=14;break e;case E:s=16,r=null;break e}s=29,n=Error(i(130,null===e?"null":typeof e,"")),r=null}return(t=zr(s,n,t,a)).elementType=e,t.type=r,t.lanes=o,t}function Br(e,t,n,r){return(e=zr(7,e,r,t)).lanes=n,e}function qr(e,t,n){return(e=zr(6,e,null,t)).lanes=n,e}function Vr(e){var t=zr(18,null,null,0);return t.stateNode=e,t}function $r(e,t,n){return(t=zr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Kr=new WeakMap;function Gr(e,t){if("object"===typeof e&&null!==e){var n=Kr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ne(t)},Kr.set(e,t),t)}return{value:e,source:t,stack:ne(t)}}var Qr=[],Yr=0,Xr=null,Jr=0,Zr=[],ea=0,ta=null,na=1,ra="";function aa(e,t){Qr[Yr++]=Jr,Qr[Yr++]=Xr,Xr=e,Jr=t}function oa(e,t,n){Zr[ea++]=na,Zr[ea++]=ra,Zr[ea++]=ta,ta=e;var r=na;e=ra;var a=32-_e(r)-1;r&=~(1<<a),n+=1;var o=32-_e(t)+a;if(30<o){var i=a-a%5;o=(r&(1<<i)-1).toString(32),r>>=i,a-=i,na=1<<32-_e(t)+a|n<<a|r,ra=o+e}else na=1<<o|n<<a|r,ra=e}function ia(e){null!==e.return&&(aa(e,1),oa(e,1,0))}function sa(e){for(;e===Xr;)Xr=Qr[--Yr],Qr[Yr]=null,Jr=Qr[--Yr],Qr[Yr]=null;for(;e===ta;)ta=Zr[--ea],Zr[ea]=null,ra=Zr[--ea],Zr[ea]=null,na=Zr[--ea],Zr[ea]=null}function la(e,t){Zr[ea++]=na,Zr[ea++]=ra,Zr[ea++]=ta,na=t.id,ra=t.overflow,ta=e}var ca=null,ua=null,da=!1,ha=null,fa=!1,pa=Error(i(519));function ma(e){throw xa(Gr(Error(i(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),pa}function ga(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[He]=e,t[Ue]=r,n){case"dialog":Xu("cancel",t),Xu("close",t);break;case"iframe":case"object":case"embed":Xu("load",t);break;case"video":case"audio":for(n=0;n<Gu.length;n++)Xu(Gu[n],t);break;case"source":Xu("error",t);break;case"img":case"image":case"link":Xu("error",t),Xu("load",t);break;case"details":Xu("toggle",t);break;case"input":Xu("invalid",t),bt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Xu("invalid",t);break;case"textarea":Xu("invalid",t),kt(t,r.value,r.defaultValue,r.children)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||ud(t.textContent,n)?(null!=r.popover&&(Xu("beforetoggle",t),Xu("toggle",t)),null!=r.onScroll&&Xu("scroll",t),null!=r.onScrollEnd&&Xu("scrollend",t),null!=r.onClick&&(t.onclick=It),t=!0):t=!1,t||ma(e,!0)}function ya(e){for(ca=e.return;ca;)switch(ca.tag){case 5:case 31:case 13:return void(fa=!1);case 27:case 3:return void(fa=!0);default:ca=ca.return}}function va(e){if(e!==ca)return!1;if(!da)return ya(e),da=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||_d(e.type,e.memoizedProps)),t=!t),t&&ua&&ma(e),ya(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));ua=Ad(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));ua=Ad(e)}else 27===n?(n=ua,Nd(e.type)?(e=Md,Md=null,ua=e):ua=n):ua=ca?Od(e.stateNode.nextSibling):null;return!0}function ba(){ua=ca=null,da=!1}function _a(){var e=ha;return null!==e&&(null===Pc?Pc=e:Pc.push.apply(Pc,e),ha=null),e}function xa(e){null===ha?ha=[e]:ha.push(e)}var wa=F(null),ka=null,Ca=null;function Sa(e,t,n){H(wa,t._currentValue),t._currentValue=n}function Ea(e){e._currentValue=wa.current,W(wa)}function Na(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ta(e,t,n,r){var a=e.child;for(null!==a&&(a.return=e);null!==a;){var o=a.dependencies;if(null!==o){var s=a.child;o=o.firstContext;e:for(;null!==o;){var l=o;o=a;for(var c=0;c<t.length;c++)if(l.context===t[c]){o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Na(o.return,n,e),r||(s=null);break e}o=l.next}}else if(18===a.tag){if(null===(s=a.return))throw Error(i(341));s.lanes|=n,null!==(o=s.alternate)&&(o.lanes|=n),Na(s,n,e),s=null}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===e){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}}function ja(e,t,n,r){e=null;for(var a=t,o=!1;null!==a;){if(!o)if(0!==(524288&a.flags))o=!0;else if(0!==(262144&a.flags))break;if(10===a.tag){var s=a.alternate;if(null===s)throw Error(i(387));if(null!==(s=s.memoizedProps)){var l=a.type;Jn(a.pendingProps.value,s.value)||(null!==e?e.push(l):e=[l])}}else if(a===K.current){if(null===(s=a.alternate))throw Error(i(387));s.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(null!==e?e.push(dh):e=[dh])}a=a.return}null!==e&&Ta(t,e,n,r),t.flags|=262144}function Ra(e){for(e=e.firstContext;null!==e;){if(!Jn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Pa(e){ka=e,Ca=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ia(e){return Oa(ka,e)}function La(e,t){return null===ka&&Pa(e),Oa(e,t)}function Oa(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===Ca){if(null===e)throw Error(i(308));Ca=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ca=Ca.next=t;return n}var Ma="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Aa=r.unstable_scheduleCallback,Da=r.unstable_NormalPriority,za={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fa(){return{controller:new Ma,data:new Map,refCount:0}}function Wa(e){e.refCount--,0===e.refCount&&Aa(Da,function(){e.controller.abort()})}var Ha=null,Ua=0,Ba=0,qa=null;function Va(){if(0===--Ua&&null!==Ha){null!==qa&&(qa.status="fulfilled");var e=Ha;Ha=null,Ba=0,qa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var $a=O.S;O.S=function(e,t){Oc=le(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Ha){var n=Ha=[];Ua=0,Ba=Bu(),qa={status:"pending",value:void 0,then:function(e){n.push(e)}}}Ua++,t.then(Va,Va)}(0,t),null!==$a&&$a(e,t)};var Ka=F(null);function Ga(){var e=Ka.current;return null!==e?e:mc.pooledCache}function Qa(e,t){H(Ka,null===t?Ka.current:t.pool)}function Ya(){var e=Ga();return null===e?null:{parent:za._currentValue,pool:e}}var Xa=Error(i(460)),Ja=Error(i(474)),Za=Error(i(542)),eo={then:function(){}};function to(e){return"fulfilled"===(e=e.status)||"rejected"===e}function no(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(It,It),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw io(e=t.reason),e;default:if("string"===typeof t.status)t.then(It,It);else{if(null!==(e=mc)&&100<e.shellSuspendCounter)throw Error(i(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw io(e=t.reason),e}throw ao=t,Xa}}function ro(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"===typeof t&&"function"===typeof t.then)throw ao=t,Xa;throw t}}var ao=null;function oo(){if(null===ao)throw Error(i(459));var e=ao;return ao=null,e}function io(e){if(e===Xa||e===Za)throw Error(i(483))}var so=null,lo=0;function co(e){var t=lo;return lo+=1,null===so&&(so=[]),no(so,e,t)}function uo(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function ho(e,t){if(t.$$typeof===p)throw Error(i(525));throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function fo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(e,t){return(e=Wr(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=qr(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===y?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===E&&ro(o)===t.type)?(uo(t=a(t,n.props),n),t.return=e,t):(uo(t=Ur(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$r(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Br(n,e.mode,r,o)).return=e,t):((t=a(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=qr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case m:return uo(n=Ur(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case g:return(t=$r(t,e.mode,n)).return=e,t;case E:return h(e,t=ro(t),n)}if(L(t)||R(t))return(t=Br(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,co(t),n);if(t.$$typeof===x)return h(e,La(e,t),n);ho(e,t)}return null}function f(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case m:return n.key===a?c(e,t,n,r):null;case g:return n.key===a?u(e,t,n,r):null;case E:return f(e,t,n=ro(n),r)}if(L(n)||R(n))return null!==a?null:d(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,co(n),r);if(n.$$typeof===x)return f(e,t,La(e,n),r);ho(e,n)}return null}function p(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case m:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case g:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case E:return p(e,t,n,r=ro(r),a)}if(L(r)||R(r))return d(t,e=e.get(n)||null,r,a,null);if("function"===typeof r.then)return p(e,t,n,co(r),a);if(r.$$typeof===x)return p(e,t,n,La(t,r),a);ho(t,r)}return null}function v(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===y&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case m:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===y){if(7===c.tag){n(l,c.sibling),(d=a(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===E&&ro(b)===c.type){n(l,c.sibling),uo(d=a(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===y?((d=Br(u.props.children,l.mode,d,u.key)).return=l,l=d):(uo(d=Ur(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return s(l);case g:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=a(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=$r(u,l.mode,d)).return=l,l=d}return s(l);case E:return v(l,c,u=ro(u),d)}if(L(u))return function(a,i,s,l){for(var c=null,u=null,d=i,m=i=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=f(a,d,s[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(a,d),i=o(y,i,m),null===u?c=y:u.sibling=y,u=y,d=g}if(m===s.length)return n(a,d),da&&aa(a,m),c;if(null===d){for(;m<s.length;m++)null!==(d=h(a,s[m],l))&&(i=o(d,i,m),null===u?c=d:u.sibling=d,u=d);return da&&aa(a,m),c}for(d=r(d);m<s.length;m++)null!==(g=p(d,a,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),i=o(g,i,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(a,e)}),da&&aa(a,m),c}(l,c,u,d);if(R(u)){if("function"!==typeof(b=R(u)))throw Error(i(150));return function(a,s,l,c){if(null==l)throw Error(i(151));for(var u=null,d=null,m=s,g=s=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(a,m,v.value,c);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(a,m),s=o(b,s,g),null===d?u=b:d.sibling=b,d=b,m=y}if(v.done)return n(a,m),da&&aa(a,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=h(a,v.value,c))&&(s=o(v,s,g),null===d?u=v:d.sibling=v,d=v);return da&&aa(a,g),u}for(m=r(m);!v.done;g++,v=l.next())null!==(v=p(m,a,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),s=o(v,s,g),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach(function(e){return t(a,e)}),da&&aa(a,g),u}(l,c,u=b.call(u),d)}if("function"===typeof u.then)return v(l,c,co(u),d);if(u.$$typeof===x)return v(l,c,La(l,u),d);ho(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=a(c,u)).return=l,l=d):(n(l,c),(d=qr(u,l.mode,d)).return=l,l=d),s(l)):n(l,c)}return function(e,t,n,r){try{lo=0;var a=v(e,t,n,r);return so=null,a}catch(i){if(i===Xa||i===Za)throw i;var o=zr(29,i,null,e.mode);return o.lanes=r,o.return=e,o}}}var po=fo(!0),mo=fo(!1),go=!1;function yo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function bo(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function _o(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&pc)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,t=Mr(e),Or(e,null,n),t}return Pr(e,r,t,n),Mr(e)}function xo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Oe(e,n)}}function wo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var i={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===o?a=o=i:o=o.next=i,n=n.next}while(null!==n);null===o?a=o=t:o=o.next=t}else a=o=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ko=!1;function Co(){if(ko){if(null!==qa)throw qa}}function So(e,t,n,r){ko=!1;var a=e.updateQueue;go=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var l=s,c=l.next;l.next=null,null===i?o=c:i.next=c,i=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=a.baseState;for(i=0,u=c=l=null,s=o;;){var h=-536870913&s.lane,p=h!==s.lane;if(p?(yc&h)===h:(r&h)===h){0!==h&&h===Ba&&(ko=!0),null!==u&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var m=e,g=s;h=t;var y=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(y,d,h);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=g.payload)?m.call(y,d,h):m)||void 0===h)break e;d=f({},d,h);break e;case 2:go=!0}}null!==(h=s.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=a.callbacks)?a.callbacks=[h]:p.push(h))}else p={lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,i|=h;if(null===(s=s.next)){if(null===(s=a.shared.pending))break;s=(p=s).next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}null===u&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null===o&&(a.shared.lanes=0),Sc|=i,e.lanes=i,e.memoizedState=d}}function Eo(e,t){if("function"!==typeof e)throw Error(i(191,e));e.call(t)}function No(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Eo(n[e],t)}var To=F(null),jo=F(0);function Ro(e,t){H(jo,e=kc),H(To,t),kc=e|t.baseLanes}function Po(){H(jo,kc),H(To,To.current)}function Io(){kc=jo.current,W(To),W(jo)}var Lo=F(null),Oo=null;function Mo(e){var t=e.alternate;H(Wo,1&Wo.current),H(Lo,e),null===Oo&&(null===t||null!==To.current||null!==t.memoizedState)&&(Oo=e)}function Ao(e){H(Wo,Wo.current),H(Lo,e),null===Oo&&(Oo=e)}function Do(e){22===e.tag?(H(Wo,Wo.current),H(Lo,e),null===Oo&&(Oo=e)):zo()}function zo(){H(Wo,Wo.current),H(Lo,Lo.current)}function Fo(e){W(Lo),Oo===e&&(Oo=null),W(Wo)}var Wo=F(0);function Ho(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Id(n)||Ld(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Uo=0,Bo=null,qo=null,Vo=null,$o=!1,Ko=!1,Go=!1,Qo=0,Yo=0,Xo=null,Jo=0;function Zo(){throw Error(i(321))}function ei(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Jn(e[n],t[n]))return!1;return!0}function ti(e,t,n,r,a,o){return Uo=o,Bo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=null===e||null===e.memoizedState?ys:vs,Go=!1,o=n(r,a),Go=!1,Ko&&(o=ri(t,n,r,a)),ni(e),o}function ni(e){O.H=gs;var t=null!==qo&&null!==qo.next;if(Uo=0,Vo=qo=Bo=null,$o=!1,Yo=0,Xo=null,t)throw Error(i(300));null===e||Os||null!==(e=e.dependencies)&&Ra(e)&&(Os=!0)}function ri(e,t,n,r){Bo=e;var a=0;do{if(Ko&&(Xo=null),Yo=0,Ko=!1,25<=a)throw Error(i(301));if(a+=1,Vo=qo=null,null!=e.updateQueue){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,null!=o.memoCache&&(o.memoCache.index=0)}O.H=bs,o=t(n,r)}while(Ko);return o}function ai(){var e=O.H,t=e.useState()[0];return t="function"===typeof t.then?ui(t):t,e=e.useState()[0],(null!==qo?qo.memoizedState:null)!==e&&(Bo.flags|=1024),t}function oi(){var e=0!==Qo;return Qo=0,e}function ii(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function si(e){if($o){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}$o=!1}Uo=0,Vo=qo=Bo=null,Ko=!1,Yo=Qo=0,Xo=null}function li(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Vo?Bo.memoizedState=Vo=e:Vo=Vo.next=e,Vo}function ci(){if(null===qo){var e=Bo.alternate;e=null!==e?e.memoizedState:null}else e=qo.next;var t=null===Vo?Bo.memoizedState:Vo.next;if(null!==t)Vo=t,qo=e;else{if(null===e){if(null===Bo.alternate)throw Error(i(467));throw Error(i(310))}e={memoizedState:(qo=e).memoizedState,baseState:qo.baseState,baseQueue:qo.baseQueue,queue:qo.queue,next:null},null===Vo?Bo.memoizedState=Vo=e:Vo=Vo.next=e}return Vo}function ui(e){var t=Yo;return Yo+=1,null===Xo&&(Xo=[]),e=no(Xo,e,t),t=Bo,null===(null===Vo?t.memoizedState:Vo.next)&&(t=t.alternate,O.H=null===t||null===t.memoizedState?ys:vs),e}function di(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return ui(e);if(e.$$typeof===x)return Ia(e)}throw Error(i(438,String(e)))}function hi(e){var t=null,n=Bo.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Bo.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Bo.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=T;return t.index++,n}function fi(e,t){return"function"===typeof t?t(e):t}function pi(e){return mi(ci(),qo,e)}function mi(e,t,n){var r=e.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=n;var a=e.baseQueue,o=r.pending;if(null!==o){if(null!==a){var s=a.next;a.next=o.next,o.next=s}t.baseQueue=a=o,r.pending=null}if(o=e.baseState,null===a)e.memoizedState=o;else{var l=s=null,c=null,u=t=a.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(yc&h)===h:(Uo&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Ba&&(d=!0);else{if((Uo&f)===f){u=u.next,f===Ba&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,s=o):c=c.next=h,Bo.lanes|=f,Sc|=f}h=u.action,Go&&n(o,h),o=u.hasEagerState?u.eagerState:n(o,h)}else f={lane:h,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,s=o):c=c.next=f,Bo.lanes|=h,Sc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?s=o:c.next=l,!Jn(o,e.memoizedState)&&(Os=!0,d&&null!==(n=qa)))throw n;e.memoizedState=o,e.baseState=s,e.baseQueue=c,r.lastRenderedState=o}return null===a&&(r.lanes=0),[e.memoizedState,r.dispatch]}function gi(e){var t=ci(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(null!==a){n.pending=null;var s=a=a.next;do{o=e(o,s.action),s=s.next}while(s!==a);Jn(o,t.memoizedState)||(Os=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function yi(e,t,n){var r=Bo,a=ci(),o=da;if(o){if(void 0===n)throw Error(i(407));n=n()}else n=t();var s=!Jn((qo||a).memoizedState,n);if(s&&(a.memoizedState=n,Os=!0),a=a.queue,Ui(_i.bind(null,r,a,e),[e]),a.getSnapshot!==t||s||null!==Vo&&1&Vo.memoizedState.tag){if(r.flags|=2048,Di(9,{destroy:void 0},bi.bind(null,r,a,n,t),null),null===mc)throw Error(i(349));o||0!==(127&Uo)||vi(r,t,n)}return n}function vi(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Bo.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Bo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function bi(e,t,n,r){t.value=n,t.getSnapshot=r,xi(t)&&wi(e)}function _i(e,t,n){return n(function(){xi(t)&&wi(e)})}function xi(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Jn(e,n)}catch(qi){return!0}}function wi(e){var t=Lr(e,2);null!==t&&Qc(t,e,2)}function ki(e){var t=li();if("function"===typeof e){var n=e;if(e=n(),Go){be(!0);try{n()}finally{be(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:e},t}function Ci(e,t,n,r){return e.baseState=n,mi(e,qo,"function"===typeof r?r:fi)}function Si(e,t,n,r,a){if(fs(e))throw Error(i(485));if(null!==(e=t.action)){var o={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};null!==O.T?n(!0):o.isTransition=!1,r(o),null===(n=t.pending)?(o.next=t.pending=o,Ei(t,o)):(o.next=n.next,t.pending=n.next=o)}}function Ei(e,t){var n=t.action,r=t.payload,a=e.state;if(t.isTransition){var o=O.T,i={};O.T=i;try{var s=n(a,r),l=O.S;null!==l&&l(i,s),Ni(e,t,s)}catch(qi){ji(e,t,qi)}finally{null!==o&&null!==i.types&&(o.types=i.types),O.T=o}}else try{Ni(e,t,o=n(a,r))}catch(c){ji(e,t,c)}}function Ni(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){Ti(e,t,n)},function(n){return ji(e,t,n)}):Ti(e,t,n)}function Ti(e,t,n){t.status="fulfilled",t.value=n,Ri(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Ei(e,n)))}function ji(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Ri(t),t=t.next}while(t!==r)}e.action=null}function Ri(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Pi(e,t){return t}function Ii(e,t){if(da){var n=mc.formState;if(null!==n){e:{var r=Bo;if(da){if(ua){t:{for(var a=ua,o=fa;8!==a.nodeType;){if(!o){a=null;break t}if(null===(a=Od(a.nextSibling))){a=null;break t}}a="F!"===(o=a.data)||"F"===o?a:null}if(a){ua=Od(a.nextSibling),r="F!"===a.data;break e}}ma(r)}r=!1}r&&(t=n[0])}}return(n=li()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:t},n.queue=r,n=us.bind(null,Bo,r),r.dispatch=n,r=ki(!1),o=hs.bind(null,Bo,!1,r.queue),a={state:t,dispatch:null,action:e,pending:null},(r=li()).queue=a,n=Si.bind(null,Bo,a,o,n),a.dispatch=n,r.memoizedState=e,[t,n,!1]}function Li(e){return Oi(ci(),qo,e)}function Oi(e,t,n){if(t=mi(e,t,Pi)[0],e=pi(fi)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=ui(t)}catch(i){if(i===Xa)throw Za;throw i}else r=t;var a=(t=ci()).queue,o=a.dispatch;return n!==t.memoizedState&&(Bo.flags|=2048,Di(9,{destroy:void 0},Mi.bind(null,a,n),null)),[r,o,e]}function Mi(e,t){e.action=t}function Ai(e){var t=ci(),n=qo;if(null!==n)return Oi(t,n,e);ci(),t=t.memoizedState;var r=(n=ci()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Di(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=Bo.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Bo.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function zi(){return ci().memoizedState}function Fi(e,t,n,r){var a=li();Bo.flags|=e,a.memoizedState=Di(1|t,{destroy:void 0},n,void 0===r?null:r)}function Wi(e,t,n,r){var a=ci();r=void 0===r?null:r;var o=a.memoizedState.inst;null!==qo&&null!==r&&ei(r,qo.memoizedState.deps)?a.memoizedState=Di(t,o,n,r):(Bo.flags|=e,a.memoizedState=Di(1|t,o,n,r))}function Hi(e,t){Fi(8390656,8,e,t)}function Ui(e,t){Wi(2048,8,e,t)}function Bi(e){var t=ci().memoizedState;return function(e){Bo.flags|=4;var t=Bo.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Bo.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&pc))throw Error(i(440));return t.impl.apply(void 0,arguments)}}function Vi(e,t){return Wi(4,2,e,t)}function $i(e,t){return Wi(4,4,e,t)}function Ki(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Gi(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Wi(4,4,Ki.bind(null,t,e),n)}function Qi(){}function Yi(e,t){var n=ci();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&ei(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xi(e,t){var n=ci();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&ei(t,r[1]))return r[0];if(r=e(),Go){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r}function Ji(e,t,n){return void 0===n||0!==(1073741824&Uo)&&0===(261930&yc)?e.memoizedState=t:(e.memoizedState=n,e=Gc(),Bo.lanes|=e,Sc|=e,n)}function Zi(e,t,n,r){return Jn(n,t)?n:null!==To.current?(e=Ji(e,n,r),Jn(e,t)||(Os=!0),e):0===(42&Uo)||0!==(1073741824&Uo)&&0===(261930&yc)?(Os=!0,e.memoizedState=n):(e=Gc(),Bo.lanes|=e,Sc|=e,t)}function es(e,t,n,r,a){var o=M.p;M.p=0!==o&&8>o?o:8;var i=O.T,s={};O.T=s,hs(e,!1,t,n);try{var l=a(),c=O.S;if(null!==c&&c(s,l),null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r);ds(e,t,u,Kc())}else ds(e,t,r,Kc())}catch(qi){ds(e,t,{then:function(){},status:"rejected",reason:qi},Kc())}finally{M.p=o,null!==i&&null!==s.types&&(i.types=s.types),O.T=i}}function ts(){}function ns(e,t,n,r){if(5!==e.tag)throw Error(i(476));var a=rs(e).queue;es(e,a,t,A,null===n?ts:function(){return as(e),n(r)})}function rs(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:A,baseState:A,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:A},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function as(e){var t=rs(e);null===t.next&&(t=e.alternate.memoizedState),ds(e,t.next.queue,{},Kc())}function os(){return Ia(dh)}function is(){return ci().memoizedState}function ss(){return ci().memoizedState}function ls(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Kc(),r=_o(t,e=bo(n),n);return null!==r&&(Qc(r,t,n),xo(r,t,n)),t={cache:Fa()},void(e.payload=t)}t=t.return}}function cs(e,t,n){var r=Kc();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},fs(e)?ps(t,n):null!==(n=Ir(e,t,n,r))&&(Qc(n,e,r),ms(n,t,r))}function us(e,t,n){ds(e,t,n,Kc())}function ds(e,t,n,r){var a={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(fs(e))ps(t,a);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var i=t.lastRenderedState,s=o(i,n);if(a.hasEagerState=!0,a.eagerState=s,Jn(s,i))return Pr(e,t,a,0),null===mc&&Rr(),!1}catch(qi){}if(null!==(n=Ir(e,t,a,r)))return Qc(n,e,r),ms(n,t,r),!0}return!1}function hs(e,t,n,r){if(r={lane:2,revertLane:Bu(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},fs(e)){if(t)throw Error(i(479))}else null!==(t=Ir(e,n,r,2))&&Qc(t,e,2)}function fs(e){var t=e.alternate;return e===Bo||null!==t&&t===Bo}function ps(e,t){Ko=$o=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ms(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Oe(e,n)}}var gs={readContext:Ia,use:di,useCallback:Zo,useContext:Zo,useEffect:Zo,useImperativeHandle:Zo,useLayoutEffect:Zo,useInsertionEffect:Zo,useMemo:Zo,useReducer:Zo,useRef:Zo,useState:Zo,useDebugValue:Zo,useDeferredValue:Zo,useTransition:Zo,useSyncExternalStore:Zo,useId:Zo,useHostTransitionStatus:Zo,useFormState:Zo,useActionState:Zo,useOptimistic:Zo,useMemoCache:Zo,useCacheRefresh:Zo};gs.useEffectEvent=Zo;var ys={readContext:Ia,use:di,useCallback:function(e,t){return li().memoizedState=[e,void 0===t?null:t],e},useContext:Ia,useEffect:Hi,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Fi(4194308,4,Ki.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Fi(4194308,4,e,t)},useInsertionEffect:function(e,t){Fi(4,2,e,t)},useMemo:function(e,t){var n=li();t=void 0===t?null:t;var r=e();if(Go){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=li();if(void 0!==n){var a=n(t);if(Go){be(!0);try{n(t)}finally{be(!1)}}}else a=t;return r.memoizedState=r.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},r.queue=e,e=e.dispatch=cs.bind(null,Bo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},li().memoizedState=e},useState:function(e){var t=(e=ki(e)).queue,n=us.bind(null,Bo,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Qi,useDeferredValue:function(e,t){return Ji(li(),e,t)},useTransition:function(){var e=ki(!1);return e=es.bind(null,Bo,e.queue,!0,!1),li().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Bo,a=li();if(da){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===mc)throw Error(i(349));0!==(127&yc)||vi(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,Hi(_i.bind(null,r,o,e),[e]),r.flags|=2048,Di(9,{destroy:void 0},bi.bind(null,r,o,n,t),null),n},useId:function(){var e=li(),t=mc.identifierPrefix;if(da){var n=ra;t="_"+t+"R_"+(n=(na&~(1<<32-_e(na)-1)).toString(32)+n),0<(n=Qo++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Jo++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:os,useFormState:Ii,useActionState:Ii,useOptimistic:function(e){var t=li();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=hs.bind(null,Bo,!0,n),n.dispatch=t,[e,t]},useMemoCache:hi,useCacheRefresh:function(){return li().memoizedState=ls.bind(null,Bo)},useEffectEvent:function(e){var t=li(),n={impl:e};return t.memoizedState=n,function(){if(0!==(2&pc))throw Error(i(440));return n.impl.apply(void 0,arguments)}}},vs={readContext:Ia,use:di,useCallback:Yi,useContext:Ia,useEffect:Ui,useImperativeHandle:Gi,useInsertionEffect:Vi,useLayoutEffect:$i,useMemo:Xi,useReducer:pi,useRef:zi,useState:function(){return pi(fi)},useDebugValue:Qi,useDeferredValue:function(e,t){return Zi(ci(),qo.memoizedState,e,t)},useTransition:function(){var e=pi(fi)[0],t=ci().memoizedState;return["boolean"===typeof e?e:ui(e),t]},useSyncExternalStore:yi,useId:is,useHostTransitionStatus:os,useFormState:Li,useActionState:Li,useOptimistic:function(e,t){return Ci(ci(),0,e,t)},useMemoCache:hi,useCacheRefresh:ss};vs.useEffectEvent=Bi;var bs={readContext:Ia,use:di,useCallback:Yi,useContext:Ia,useEffect:Ui,useImperativeHandle:Gi,useInsertionEffect:Vi,useLayoutEffect:$i,useMemo:Xi,useReducer:gi,useRef:zi,useState:function(){return gi(fi)},useDebugValue:Qi,useDeferredValue:function(e,t){var n=ci();return null===qo?Ji(n,e,t):Zi(n,qo.memoizedState,e,t)},useTransition:function(){var e=gi(fi)[0],t=ci().memoizedState;return["boolean"===typeof e?e:ui(e),t]},useSyncExternalStore:yi,useId:is,useHostTransitionStatus:os,useFormState:Ai,useActionState:Ai,useOptimistic:function(e,t){var n=ci();return null!==qo?Ci(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:hi,useCacheRefresh:ss};function _s(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:f({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}bs.useEffectEvent=Bi;var xs={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Kc(),a=bo(r);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=_o(e,a,r))&&(Qc(t,e,r),xo(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Kc(),a=bo(r);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=_o(e,a,r))&&(Qc(t,e,r),xo(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Kc(),r=bo(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=_o(e,r,n))&&(Qc(t,e,n),xo(t,e,n))}};function ws(e,t,n,r,a,o,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,i):!t.prototype||!t.prototype.isPureReactComponent||(!Zn(n,r)||!Zn(a,o))}function ks(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&xs.enqueueReplaceState(t,t.state,null)}function Cs(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var a in n===t&&(n=f({},n)),e)void 0===n[a]&&(n[a]=e[a]);return n}function Ss(e){Er(e)}function Es(e){console.error(e)}function Ns(e){Er(e)}function Ts(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function js(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Rs(e,t,n){return(n=bo(n)).tag=3,n.payload={element:null},n.callback=function(){Ts(e,t)},n}function Ps(e){return(e=bo(e)).tag=3,e}function Is(e,t,n,r){var a=n.type.getDerivedStateFromError;if("function"===typeof a){var o=r.value;e.payload=function(){return a(o)},e.callback=function(){js(t,n,r)}}var i=n.stateNode;null!==i&&"function"===typeof i.componentDidCatch&&(e.callback=function(){js(t,n,r),"function"!==typeof a&&(null===Dc?Dc=new Set([this]):Dc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ls=Error(i(461)),Os=!1;function Ms(e,t,n,r){t.child=null===e?mo(t,null,n,r):po(t,e.child,n,r)}function As(e,t,n,r,a){n=n.render;var o=t.ref;if("ref"in r){var i={};for(var s in r)"ref"!==s&&(i[s]=r[s])}else i=r;return Pa(t),r=ti(e,t,n,i,o,a),s=oi(),null===e||Os?(da&&s&&ia(t),t.flags|=1,Ms(e,t,r,a),t.child):(ii(e,t,a),ol(e,t,a))}function Ds(e,t,n,r,a){if(null===e){var o=n.type;return"function"!==typeof o||Fr(o)||void 0!==o.defaultProps||null!==n.compare?((e=Ur(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,zs(e,t,o,r,a))}if(o=e.child,!il(e,a)){var i=o.memoizedProps;if((n=null!==(n=n.compare)?n:Zn)(i,r)&&e.ref===t.ref)return ol(e,t,a)}return t.flags|=1,(e=Wr(o,r)).ref=t.ref,e.return=t,t.child=e}function zs(e,t,n,r,a){if(null!==e){var o=e.memoizedProps;if(Zn(o,r)&&e.ref===t.ref){if(Os=!1,t.pendingProps=r=o,!il(e,a))return t.lanes=e.lanes,ol(e,t,a);0!==(131072&e.flags)&&(Os=!0)}}return Vs(e,t,n,r,a)}function Fs(e,t,n,r){var a=r.children,o=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(0!==(128&t.flags)){if(o=null!==o?o.baseLanes|n:n,null!==e){for(r=t.child=e.child,a=0;null!==r;)a=a|r.lanes|r.childLanes,r=r.sibling;r=a&~o}else r=0,t.child=null;return Hs(e,t,o,n,r)}if(0===(536870912&n))return r=t.lanes=536870912,Hs(e,t,null!==o?o.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Qa(0,null!==o?o.cachePool:null),null!==o?Ro(t,o):Po(),Do(t)}else null!==o?(Qa(0,o.cachePool),Ro(t,o),zo(),t.memoizedState=null):(null!==e&&Qa(0,null),Po(),zo());return Ms(e,t,a,n),t.child}function Ws(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Hs(e,t,n,r,a){var o=Ga();return o=null===o?null:{parent:za._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},null!==e&&Qa(0,null),Po(),Do(t),null!==e&&ja(e,t,r,!0),t.childLanes=a,null}function Us(e,t){return(t=el({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Bs(e,t,n){return po(t,e.child,null,n),(e=Us(t,t.pendingProps)).flags|=2,Fo(t),t.memoizedState=null,e}function qs(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(i(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Vs(e,t,n,r,a){return Pa(t),n=ti(e,t,n,r,void 0,a),r=oi(),null===e||Os?(da&&r&&ia(t),t.flags|=1,Ms(e,t,n,a),t.child):(ii(e,t,a),ol(e,t,a))}function $s(e,t,n,r,a,o){return Pa(t),t.updateQueue=null,n=ri(t,r,n,a),ni(e),r=oi(),null===e||Os?(da&&r&&ia(t),t.flags|=1,Ms(e,t,n,o),t.child):(ii(e,t,o),ol(e,t,o))}function Ks(e,t,n,r,a){if(Pa(t),null===t.stateNode){var o=Ar,i=n.contextType;"object"===typeof i&&null!==i&&(o=Ia(i)),o=new n(r,o),t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,o.updater=xs,t.stateNode=o,o._reactInternals=t,(o=t.stateNode).props=r,o.state=t.memoizedState,o.refs={},yo(t),i=n.contextType,o.context="object"===typeof i&&null!==i?Ia(i):Ar,o.state=t.memoizedState,"function"===typeof(i=n.getDerivedStateFromProps)&&(_s(t,n,i,r),o.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(i=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),i!==o.state&&xs.enqueueReplaceState(o,o.state,null),So(t,r,o,a),Co(),o.state=t.memoizedState),"function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){o=t.stateNode;var s=t.memoizedProps,l=Cs(n,s);o.props=l;var c=o.context,u=n.contextType;i=Ar,"object"===typeof u&&null!==u&&(i=Ia(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate,s=t.pendingProps!==s,u||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s||c!==i)&&ks(t,o,r,i),go=!1;var h=t.memoizedState;o.state=h,So(t,r,o,a),Co(),c=t.memoizedState,s||h!==c||go?("function"===typeof d&&(_s(t,n,d,r),c=t.memoizedState),(l=go||ws(t,n,l,r,h,c,i))?(u||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=i,r=l):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,vo(e,t),u=Cs(n,i=t.memoizedProps),o.props=u,d=t.pendingProps,h=o.context,c=n.contextType,l=Ar,"object"===typeof c&&null!==c&&(l=Ia(c)),(c="function"===typeof(s=n.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(i!==d||h!==l)&&ks(t,o,r,l),go=!1,h=t.memoizedState,o.state=h,So(t,r,o,a),Co();var f=t.memoizedState;i!==d||h!==f||go||null!==e&&null!==e.dependencies&&Ra(e.dependencies)?("function"===typeof s&&(_s(t,n,s,r),f=t.memoizedState),(u=go||ws(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&Ra(e.dependencies))?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,f,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),o.props=r,o.state=f,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return o=r,qs(e,t),r=0!==(128&t.flags),o||r?(o=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:o.render(),t.flags|=1,null!==e&&r?(t.child=po(t,e.child,null,a),t.child=po(t,null,n,a)):Ms(e,t,n,a),t.memoizedState=o.state,e=t.child):e=ol(e,t,a),e}function Gs(e,t,n,r){return ba(),t.flags|=256,Ms(e,t,n,r),t.child}var Qs={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ys(e){return{baseLanes:e,cachePool:Ya()}}function Xs(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Tc),e}function Js(e,t,n){var r,a=t.pendingProps,o=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&Wo.current)),r&&(o=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(da){if(o?Mo(t):zo(),(e=ua)?null!==(e=null!==(e=Pd(e,fa))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ta?{id:na,overflow:ra}:null,retryLane:536870912,hydrationErrors:null},(n=Vr(e)).return=t,t.child=n,ca=t,ua=null):e=null,null===e)throw ma(t);return Ld(e)?t.lanes=32:t.lanes=536870912,null}var l=a.children;return a=a.fallback,o?(zo(),l=el({mode:"hidden",children:l},o=t.mode),a=Br(a,o,n,null),l.return=t,a.return=t,l.sibling=a,t.child=l,(a=t.child).memoizedState=Ys(n),a.childLanes=Xs(e,r,n),t.memoizedState=Qs,Ws(null,a)):(Mo(t),Zs(t,l))}var c=e.memoizedState;if(null!==c&&null!==(l=c.dehydrated)){if(s)256&t.flags?(Mo(t),t.flags&=-257,t=tl(e,t,n)):null!==t.memoizedState?(zo(),t.child=e.child,t.flags|=128,t=null):(zo(),l=a.fallback,o=t.mode,a=el({mode:"visible",children:a.children},o),(l=Br(l,o,n,null)).flags|=2,a.return=t,l.return=t,a.sibling=l,t.child=a,po(t,e.child,null,n),(a=t.child).memoizedState=Ys(n),a.childLanes=Xs(e,r,n),t.memoizedState=Qs,t=Ws(null,a));else if(Mo(t),Ld(l)){if(r=l.nextSibling&&l.nextSibling.dataset)var u=r.dgst;r=u,(a=Error(i(419))).stack="",a.digest=r,xa({value:a,source:null,stack:null}),t=tl(e,t,n)}else if(Os||ja(e,t,n,!1),r=0!==(n&e.childLanes),Os||r){if(null!==(r=mc)&&(0!==(a=Me(r,n))&&a!==c.retryLane))throw c.retryLane=a,Lr(e,a),Qc(r,e,a),Ls;Id(l)||su(),t=tl(e,t,n)}else Id(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,ua=Od(l.nextSibling),ca=t,da=!0,ha=null,fa=!1,null!==e&&la(t,e),(t=Zs(t,a.children)).flags|=4096);return t}return o?(zo(),l=a.fallback,o=t.mode,u=(c=e.child).sibling,(a=Wr(c,{mode:"hidden",children:a.children})).subtreeFlags=65011712&c.subtreeFlags,null!==u?l=Wr(u,l):(l=Br(l,o,n,null)).flags|=2,l.return=t,a.return=t,a.sibling=l,t.child=a,Ws(null,a),a=t.child,null===(l=e.child.memoizedState)?l=Ys(n):(null!==(o=l.cachePool)?(c=za._currentValue,o=o.parent!==c?{parent:c,pool:c}:o):o=Ya(),l={baseLanes:l.baseLanes|n,cachePool:o}),a.memoizedState=l,a.childLanes=Xs(e,r,n),t.memoizedState=Qs,Ws(e.child,a)):(Mo(t),e=(n=e.child).sibling,(n=Wr(n,{mode:"visible",children:a.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Zs(e,t){return(t=el({mode:"visible",children:t},e.mode)).return=e,e.child=t}function el(e,t){return(e=zr(22,e,null,t)).lanes=0,e}function tl(e,t,n){return po(t,e.child,null,n),(e=Zs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function nl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Na(e.return,t,n)}function rl(e,t,n,r,a,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a,treeForkCount:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a,i.treeForkCount=o)}function al(e,t,n){var r=t.pendingProps,a=r.revealOrder,o=r.tail;r=r.children;var i=Wo.current,s=0!==(2&i);if(s?(i=1&i|2,t.flags|=128):i&=1,H(Wo,i),Ms(e,t,r,n),r=da?Jr:0,!s&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nl(e,n,t);else if(19===e.tag)nl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===Ho(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),rl(t,!1,a,n,o,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===Ho(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}rl(t,!0,n,null,o,r);break;case"together":rl(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function ol(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Sc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(ja(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Wr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Wr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function il(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ra(e))}function sl(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Os=!0;else{if(!il(e,n)&&0===(128&t.flags))return Os=!1,function(e,t,n){switch(t.tag){case 3:G(t,t.stateNode.containerInfo),Sa(0,za,e.memoizedState.cache),ba();break;case 27:case 5:Y(t);break;case 4:G(t,t.stateNode.containerInfo);break;case 10:Sa(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Ao(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Mo(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Js(e,t,n):(Mo(t),null!==(e=ol(e,t,n))?e.sibling:null);Mo(t);break;case 19:var a=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(ja(e,t,n,!1),r=0!==(n&t.childLanes)),a){if(r)return al(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),H(Wo,Wo.current),r)break;return null;case 22:return t.lanes=0,Fs(e,t,n,t.pendingProps);case 24:Sa(0,za,e.memoizedState.cache)}return ol(e,t,n)}(e,t,n);Os=0!==(131072&e.flags)}else Os=!1,da&&0!==(1048576&t.flags)&&oa(t,Jr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=ro(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var a=e.$$typeof;if(a===w){t.tag=11,t=As(null,t,e,r,n);break e}if(a===S){t.tag=14,t=Ds(null,t,e,r,n);break e}}throw t=I(e)||e,Error(i(306,t,""))}Fr(e)?(r=Cs(e,r),t.tag=1,t=Ks(null,t,e,r,n)):(t.tag=0,t=Vs(null,t,e,r,n))}return t;case 0:return Vs(e,t,t.type,t.pendingProps,n);case 1:return Ks(e,t,r=t.type,a=Cs(r,t.pendingProps),n);case 3:e:{if(G(t,t.stateNode.containerInfo),null===e)throw Error(i(387));r=t.pendingProps;var o=t.memoizedState;a=o.element,vo(e,t),So(t,r,null,n);var s=t.memoizedState;if(r=s.cache,Sa(0,za,r),r!==o.cache&&Ta(t,[za],n,!0),Co(),r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Gs(e,t,r,n);break e}if(r!==a){xa(a=Gr(Error(i(424)),t)),t=Gs(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ua=Od(e.firstChild),ca=t,da=!0,ha=null,fa=!0,n=mo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ba(),r===a){t=ol(e,t,n);break e}Ms(e,t,r,n)}t=t.child}return t;case 26:return qs(e,t),null===e?(n=$d(t.type,null,t.pendingProps,null))?t.memoizedState=n:da||(n=t.type,e=t.pendingProps,(r=yd($.current).createElement(n))[He]=t,r[Ue]=e,fd(r,n,e),et(r),t.stateNode=r):t.memoizedState=$d(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Y(t),null===e&&da&&(r=t.stateNode=zd(t.type,t.pendingProps,$.current),ca=t,fa=!0,a=ua,Nd(t.type)?(Md=a,ua=Od(r.firstChild)):ua=a),Ms(e,t,t.pendingProps.children,n),qs(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&da&&((a=r=ua)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ge])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(o=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(o!==a.rel||e.getAttribute("href")!==(null==a.href||""===a.href?null:a.href)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin)||e.getAttribute("title")!==(null==a.title?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((o=e.getAttribute("src"))!==(null==a.src?null:a.src)||e.getAttribute("type")!==(null==a.type?null:a.type)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var o=null==a.name?null:""+a.name;if("hidden"===a.type&&e.getAttribute("name")===o)return e}if(null===(e=Od(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,fa))?(t.stateNode=r,ca=t,ua=Od(r.firstChild),fa=!1,a=!0):a=!1),a||ma(t)),Y(t),a=t.type,o=t.pendingProps,s=null!==e?e.memoizedProps:null,r=o.children,_d(a,o)?r=null:null!==s&&_d(a,s)&&(t.flags|=32),null!==t.memoizedState&&(a=ti(e,t,ai,null,null,n),dh._currentValue=a),qs(e,t),Ms(e,t,r,n),t.child;case 6:return null===e&&da&&((e=n=ua)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Od(e.nextSibling)))return null}return e}(n,t.pendingProps,fa))?(t.stateNode=n,ca=t,ua=null,e=!0):e=!1),e||ma(t)),null;case 13:return Js(e,t,n);case 4:return G(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=po(t,null,r,n):Ms(e,t,r,n),t.child;case 11:return As(e,t,t.type,t.pendingProps,n);case 7:return Ms(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ms(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Sa(0,t.type,r.value),Ms(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,Pa(t),r=r(a=Ia(a)),t.flags|=1,Ms(e,t,r,n),t.child;case 14:return Ds(e,t,t.type,t.pendingProps,n);case 15:return zs(e,t,t.type,t.pendingProps,n);case 19:return al(e,t,n);case 31:return function(e,t,n){var r=t.pendingProps,a=0!==(128&t.flags);if(t.flags&=-129,null===e){if(da){if("hidden"===r.mode)return e=Us(t,r),t.lanes=536870912,Ws(null,e);if(Ao(t),(e=ua)?null!==(e=null!==(e=Pd(e,fa))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ta?{id:na,overflow:ra}:null,retryLane:536870912,hydrationErrors:null},(n=Vr(e)).return=t,t.child=n,ca=t,ua=null):e=null,null===e)throw ma(t);return t.lanes=536870912,null}return Us(t,r)}var o=e.memoizedState;if(null!==o){var s=o.dehydrated;if(Ao(t),a)if(256&t.flags)t.flags&=-257,t=Bs(e,t,n);else{if(null===t.memoizedState)throw Error(i(558));t.child=e.child,t.flags|=128,t=null}else if(Os||ja(e,t,n,!1),a=0!==(n&e.childLanes),Os||a){if(null!==(r=mc)&&0!==(s=Me(r,n))&&s!==o.retryLane)throw o.retryLane=s,Lr(e,s),Qc(r,e,s),Ls;su(),t=Bs(e,t,n)}else e=o.treeContext,ua=Od(s.nextSibling),ca=t,da=!0,ha=null,fa=!1,null!==e&&la(t,e),(t=Us(t,r)).flags|=4096;return t}return(e=Wr(e.child,{mode:r.mode,children:r.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Fs(e,t,n,t.pendingProps);case 24:return Pa(t),r=Ia(za),null===e?(null===(a=Ga())&&(a=mc,o=Fa(),a.pooledCache=o,o.refCount++,null!==o&&(a.pooledCacheLanes|=n),a=o),t.memoizedState={parent:r,cache:a},yo(t),Sa(0,za,a)):(0!==(e.lanes&n)&&(vo(e,t),So(t,null,null,n),Co()),a=e.memoizedState,o=t.memoizedState,a.parent!==r?(a={parent:r,cache:r},t.memoizedState=a,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=a),Sa(0,za,r)):(r=o.cache,Sa(0,za,r),r!==a.cache&&Ta(t,[za],n,!0))),Ms(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function ll(e){e.flags|=4}function cl(e,t,n,r,a){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&a)===a)if(e.stateNode.complete)e.flags|=8192;else{if(!au())throw ao=eo,Ja;e.flags|=8192}}else e.flags&=-16777217}function ul(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!oh(t)){if(!au())throw ao=eo,Ja;e.flags|=8192}}function dl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Re():536870912,e.lanes|=t,jc|=t)}function hl(e,t){if(!da)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function fl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=65011712&a.subtreeFlags,r|=65011712&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function pl(e,t,n){var r=t.pendingProps;switch(sa(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return fl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Ea(za),Q(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(va(t)?ll(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,_a())),fl(t),null;case 26:var a=t.type,o=t.memoizedState;return null===e?(ll(t),null!==o?(fl(t),ul(t,o)):(fl(t),cl(t,a,0,0,n))):o?o!==e.memoizedState?(ll(t),fl(t),ul(t,o)):(fl(t),t.flags&=-16777217):((e=e.memoizedProps)!==r&&ll(t),fl(t),cl(t,a,0,0,n)),null;case 27:if(X(t),n=$.current,a=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ll(t);else{if(!r){if(null===t.stateNode)throw Error(i(166));return fl(t),null}e=q.current,va(t)?ga(t):(e=zd(a,r,n),t.stateNode=e,ll(t))}return fl(t),null;case 5:if(X(t),a=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ll(t);else{if(!r){if(null===t.stateNode)throw Error(i(166));return fl(t),null}if(o=q.current,va(t))ga(t);else{var s=yd($.current);switch(o){case 1:o=s.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:o=s.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":o=s.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":o=s.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":(o=s.createElement("div")).innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o="string"===typeof r.is?s.createElement("select",{is:r.is}):s.createElement("select"),r.multiple?o.multiple=!0:r.size&&(o.size=r.size);break;default:o="string"===typeof r.is?s.createElement(a,{is:r.is}):s.createElement(a)}}o[He]=t,o[Ue]=r;e:for(s=t.child;null!==s;){if(5===s.tag||6===s.tag)o.appendChild(s.stateNode);else if(4!==s.tag&&27!==s.tag&&null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;null===s.sibling;){if(null===s.return||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=o;e:switch(fd(o,a,r),a){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ll(t)}}return fl(t),cl(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&ll(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(e=$.current,va(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(a=ca))switch(a.tag){case 27:case 5:r=a.memoizedProps}e[He]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||ud(e.nodeValue,n)))||ma(t,!0)}else(e=yd(e).createTextNode(r))[He]=t,t.stateNode=e}return fl(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(r=va(t),null!==n){if(null===e){if(!r)throw Error(i(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(i(557));e[He]=t}else ba(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;fl(t),e=!1}else n=_a(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(Fo(t),t):(Fo(t),null);if(0!==(128&t.flags))throw Error(i(558))}return fl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(a=va(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(i(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(i(317));a[He]=t}else ba(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;fl(t),a=!1}else a=_a(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return 256&t.flags?(Fo(t),t):(Fo(t),null)}return Fo(t),0!==(128&t.flags)?(t.lanes=n,t):(n=null!==r,e=null!==e&&null!==e.memoizedState,n&&(a=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(a=r.alternate.memoizedState.cachePool.pool),o=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(o=r.memoizedState.cachePool.pool),o!==a&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),dl(t,t.updateQueue),fl(t),null);case 4:return Q(),null===e&&ed(t.stateNode.containerInfo),fl(t),null;case 10:return Ea(t.type),fl(t),null;case 19:if(W(Wo),null===(r=t.memoizedState))return fl(t),null;if(a=0!==(128&t.flags),null===(o=r.rendering))if(a)hl(r,!1);else{if(0!==Cc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=Ho(e))){for(t.flags|=128,hl(r,!1),e=o.updateQueue,t.updateQueue=e,dl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Hr(n,e),n=n.sibling;return H(Wo,1&Wo.current|2),da&&aa(t,r.treeForkCount),t.child}e=e.sibling}null!==r.tail&&le()>Mc&&(t.flags|=128,a=!0,hl(r,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=Ho(o))){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,dl(t,e),hl(r,!0),null===r.tail&&"hidden"===r.tailMode&&!o.alternate&&!da)return fl(t),null}else 2*le()-r.renderingStartTime>Mc&&536870912!==n&&(t.flags|=128,a=!0,hl(r,!1),t.lanes=4194304);r.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=r.last)?e.sibling=o:t.child=o,r.last=o)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=le(),e.sibling=null,n=Wo.current,H(Wo,a?1&n|2:1&n),da&&aa(t,r.treeForkCount),e):(fl(t),null);case 22:case 23:return Fo(t),Io(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(fl(t),6&t.subtreeFlags&&(t.flags|=8192)):fl(t),null!==(n=t.updateQueue)&&dl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&W(Ka),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ea(za),fl(t),null;case 25:case 30:return null}throw Error(i(156,t.tag))}function ml(e,t){switch(sa(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ea(za),Q(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return X(t),null;case 31:if(null!==t.memoizedState){if(Fo(t),null===t.alternate)throw Error(i(340));ba()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Fo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));ba()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return W(Wo),null;case 4:return Q(),null;case 10:return Ea(t.type),null;case 22:case 23:return Fo(t),Io(),null!==e&&W(Ka),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Ea(za),null;default:return null}}function gl(e,t){switch(sa(t),t.tag){case 3:Ea(za),Q();break;case 26:case 27:case 5:X(t);break;case 4:Q();break;case 31:null!==t.memoizedState&&Fo(t);break;case 13:Fo(t);break;case 19:W(Wo);break;case 10:Ea(t.type);break;case 22:case 23:Fo(t),Io(),null!==e&&W(Ka);break;case 24:Ea(za)}}function yl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var a=r.next;n=a;do{if((n.tag&e)===e){r=void 0;var o=n.create,i=n.inst;r=o(),i.destroy=r}n=n.next}while(n!==a)}}catch(qi){Cu(t,t.return,qi)}}function vl(e,t,n){try{var r=t.updateQueue,a=null!==r?r.lastEffect:null;if(null!==a){var o=a.next;r=o;do{if((r.tag&e)===e){var i=r.inst,s=i.destroy;if(void 0!==s){i.destroy=void 0,a=t;var l=n,c=s;try{c()}catch(qi){Cu(a,l,qi)}}}r=r.next}while(r!==o)}}catch(qi){Cu(t,t.return,qi)}}function bl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{No(t,n)}catch(qi){Cu(e,e.return,qi)}}}function _l(e,t,n){n.props=Cs(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(qi){Cu(e,t,qi)}}function xl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(qi){Cu(e,t,qi)}}function wl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(qi){Cu(e,t,qi)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(a){Cu(e,t,a)}else n.current=null}function kl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(qi){Cu(e,e.return,qi)}}function Cl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,o=null,s=null,l=null,c=null,u=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(p)||dd(e,t,p,null,r,h)}}for(var f in r){var p=r[f];if(h=n[f],r.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":o=p;break;case"name":a=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":s=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(i(137,t));break;default:p!==h&&dd(e,t,f,p,r,h)}}return void vt(e,s,l,c,u,d,o,a);case"select":for(o in p=s=l=f=null,n)if(c=n[o],n.hasOwnProperty(o)&&null!=c)switch(o){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(o)||dd(e,t,o,null,r,c)}for(a in r)if(o=r[a],c=n[a],r.hasOwnProperty(a)&&(null!=o||null!=c))switch(a){case"value":f=o;break;case"defaultValue":l=o;break;case"multiple":s=o;default:o!==c&&dd(e,t,a,o,r,c)}return t=l,n=s,r=p,void(null!=f?xt(e,!!n,f,!1):!!r!==!!n&&(null!=t?xt(e,!!n,t,!0):xt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(a=n[l],n.hasOwnProperty(l)&&null!=a&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:dd(e,t,l,null,r,a)}for(s in r)if(a=r[s],o=n[s],r.hasOwnProperty(s)&&(null!=a||null!=o))switch(s){case"value":f=a;break;case"defaultValue":p=a;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=a)throw Error(i(91));break;default:a!==o&&dd(e,t,s,a,r,o)}return void wt(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else dd(e,t,m,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else dd(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&dd(e,t,g,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(i(137,t));break;default:dd(e,t,u,f,r,p)}return;default:if(Tt(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!r.hasOwnProperty(y)&&hd(e,t,y,void 0,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||hd(e,t,d,f,r,p);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!r.hasOwnProperty(v)&&dd(e,t,v,null,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||null==f&&null==p||dd(e,t,h,f,r,p)}(r,e.type,n,t),r[Ue]=t}catch(qi){Cu(e,e.return,qi)}}function Sl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Nd(e.type)||4===e.tag}function El(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Nd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Nl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=It));else if(4!==r&&(27===r&&Nd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Nl(e,t,n),e=e.sibling;null!==e;)Nl(e,t,n),e=e.sibling}function Tl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&Nd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(Tl(e,t,n),e=e.sibling;null!==e;)Tl(e,t,n),e=e.sibling}function jl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);fd(t,r,n),t[He]=e,t[Ue]=n}catch(qi){Cu(e,e.return,qi)}}var Rl=!1,Pl=!1,Il=!1,Ll="function"===typeof WeakSet?WeakSet:Set,Ol=null;function Ml(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Ql(e,n),4&r&&yl(5,n);break;case 1:if(Ql(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(qi){Cu(n,n.return,qi)}else{var a=Cs(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(i){Cu(n,n.return,i)}}64&r&&bl(n),512&r&&xl(n,n.return);break;case 3:if(Ql(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{No(e,t)}catch(qi){Cu(n,n.return,qi)}}break;case 27:null===t&&4&r&&jl(n);case 26:case 5:Ql(e,n),null===t&&4&r&&kl(n),512&r&&xl(n,n.return);break;case 12:Ql(e,n);break;case 31:Ql(e,n),4&r&&Hl(e,n);break;case 13:Ql(e,n),4&r&&Ul(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=Tu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||Rl)){t=null!==t&&null!==t.memoizedState||Pl,a=Rl;var o=Pl;Rl=r,(Pl=t)&&!o?Xl(e,n,0!==(8772&n.subtreeFlags)):Ql(e,n),Rl=a,Pl=o}break;case 30:break;default:Ql(e,n)}}function Al(e){var t=e.alternate;null!==t&&(e.alternate=null,Al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Qe(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Dl=null,zl=!1;function Fl(e,t,n){for(n=n.child;null!==n;)Wl(e,t,n),n=n.sibling}function Wl(e,t,n){if(ve&&"function"===typeof ve.onCommitFiberUnmount)try{ve.onCommitFiberUnmount(ye,n)}catch(o){}switch(n.tag){case 26:Pl||wl(n,t),Fl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Pl||wl(n,t);var r=Dl,a=zl;Nd(n.type)&&(Dl=n.stateNode,zl=!1),Fl(e,t,n),Fd(n.stateNode),Dl=r,zl=a;break;case 5:Pl||wl(n,t);case 6:if(r=Dl,a=zl,Dl=null,Fl(e,t,n),zl=a,null!==(Dl=r))if(zl)try{(9===Dl.nodeType?Dl.body:"HTML"===Dl.nodeName?Dl.ownerDocument.body:Dl).removeChild(n.stateNode)}catch(qi){Cu(n,t,qi)}else try{Dl.removeChild(n.stateNode)}catch(qi){Cu(n,t,qi)}break;case 18:null!==Dl&&(zl?(Td(9===(e=Dl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Vh(e)):Td(Dl,n.stateNode));break;case 4:r=Dl,a=zl,Dl=n.stateNode.containerInfo,zl=!0,Fl(e,t,n),Dl=r,zl=a;break;case 0:case 11:case 14:case 15:vl(2,n,t),Pl||vl(4,n,t),Fl(e,t,n);break;case 1:Pl||(wl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&_l(n,t,r)),Fl(e,t,n);break;case 21:Fl(e,t,n);break;case 22:Pl=(r=Pl)||null!==n.memoizedState,Fl(e,t,n),Pl=r;break;default:Fl(e,t,n)}}function Hl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Vh(e)}catch(qi){Cu(t,t.return,qi)}}}function Ul(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Vh(e)}catch(qi){Cu(t,t.return,qi)}}function Bl(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Ll),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Ll),t;default:throw Error(i(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=ju.bind(null,e,t);t.then(r,r)}})}function ql(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r],o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 27:if(Nd(l.type)){Dl=l.stateNode,zl=!1;break e}break;case 5:Dl=l.stateNode,zl=!1;break e;case 3:case 4:Dl=l.stateNode.containerInfo,zl=!0;break e}l=l.return}if(null===Dl)throw Error(i(160));Wl(o,s,a),Dl=null,zl=!1,null!==(o=a.alternate)&&(o.return=null),a.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)$l(t,e),t=t.sibling}var Vl=null;function $l(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ql(t,e),Kl(e),4&r&&(vl(3,e,e.return),yl(3,e),vl(5,e,e.return));break;case 1:ql(t,e),Kl(e),512&r&&(Pl||null===n||wl(n,n.return)),64&r&&Rl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var a=Vl;if(ql(t,e),Kl(e),512&r&&(Pl||null===n||wl(n,n.return)),4&r){var o=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;t:switch(r){case"title":(!(o=a.getElementsByTagName("title")[0])||o[Ge]||o[He]||"http://www.w3.org/2000/svg"===o.namespaceURI||o.hasAttribute("itemprop"))&&(o=a.createElement(r),a.head.insertBefore(o,a.querySelector("head > title"))),fd(o,r,n),o[He]=e,et(o),r=o;break e;case"link":var s=rh("link","href",a).get(r+(n.href||""));if(s)for(var l=0;l<s.length;l++)if((o=s[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&o.getAttribute("rel")===(null==n.rel?null:n.rel)&&o.getAttribute("title")===(null==n.title?null:n.title)&&o.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(l,1);break t}fd(o=a.createElement(r),r,n),a.head.appendChild(o);break;case"meta":if(s=rh("meta","content",a).get(r+(n.content||"")))for(l=0;l<s.length;l++)if((o=s[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&o.getAttribute("name")===(null==n.name?null:n.name)&&o.getAttribute("property")===(null==n.property?null:n.property)&&o.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&o.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(l,1);break t}fd(o=a.createElement(r),r,n),a.head.appendChild(o);break;default:throw Error(i(468,r))}o[He]=e,et(o),r=o}e.stateNode=r}else ah(a,e.type,e.stateNode);else e.stateNode=Jd(a,r,e.memoizedProps);else o!==r?(null===o?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):o.count--,null===r?ah(a,e.type,e.stateNode):Jd(a,r,e.memoizedProps)):null===r&&null!==e.stateNode&&Cl(e,e.memoizedProps,n.memoizedProps)}break;case 27:ql(t,e),Kl(e),512&r&&(Pl||null===n||wl(n,n.return)),null!==n&&4&r&&Cl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(ql(t,e),Kl(e),512&r&&(Pl||null===n||wl(n,n.return)),32&e.flags){a=e.stateNode;try{Ct(a,"")}catch(qi){Cu(e,e.return,qi)}}4&r&&null!=e.stateNode&&Cl(e,a=e.memoizedProps,null!==n?n.memoizedProps:a),1024&r&&(Il=!0);break;case 6:if(ql(t,e),Kl(e),4&r){if(null===e.stateNode)throw Error(i(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(qi){Cu(e,e.return,qi)}}break;case 3:if(nh=null,a=Vl,Vl=Ud(t.containerInfo),ql(t,e),Vl=a,Kl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vh(t.containerInfo)}catch(qi){Cu(e,e.return,qi)}Il&&(Il=!1,Gl(e));break;case 4:r=Vl,Vl=Ud(e.stateNode.containerInfo),ql(t,e),Kl(e),Vl=r;break;case 12:default:ql(t,e),Kl(e);break;case 31:case 19:ql(t,e),Kl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Bl(e,r)));break;case 13:ql(t,e),Kl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Lc=le()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Bl(e,r)));break;case 22:a=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=Rl,d=Pl;if(Rl=u||a,Pl=d||c,ql(t,e),Pl=d,Rl=u,Kl(e),8192&r)e:for(t=e.stateNode,t._visibility=a?-2&t._visibility:1|t._visibility,a&&(null===n||c||Rl||Pl||Yl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(o=c.stateNode,a)"function"===typeof(s=o.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,f=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(qi){Cu(c,c.return,qi)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(qi){Cu(c,c.return,qi)}}}else if(18===t.tag){if(null===n){c=t;try{var p=c.stateNode;a?jd(p,!0):jd(c.stateNode,!1)}catch(qi){Cu(c,c.return,qi)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Bl(e,n))));case 30:case 21:}}function Kl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(Sl(r)){n=r;break}r=r.return}if(null==n)throw Error(i(160));switch(n.tag){case 27:var a=n.stateNode;Tl(e,El(e),a);break;case 5:var o=n.stateNode;32&n.flags&&(Ct(o,""),n.flags&=-33),Tl(e,El(e),o);break;case 3:case 4:var s=n.stateNode.containerInfo;Nl(e,El(e),s);break;default:throw Error(i(161))}}catch(qi){Cu(e,e.return,qi)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Gl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Gl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Ql(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Ml(e,t.alternate,t),t=t.sibling}function Yl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:vl(4,t,t.return),Yl(t);break;case 1:wl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&_l(t,t.return,n),Yl(t);break;case 27:Fd(t.stateNode);case 26:case 5:wl(t,t.return),Yl(t);break;case 22:null===t.memoizedState&&Yl(t);break;default:Yl(t)}e=e.sibling}}function Xl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,a=e,o=t,i=o.flags;switch(o.tag){case 0:case 11:case 15:Xl(a,o,n),yl(4,o);break;case 1:if(Xl(a,o,n),"function"===typeof(a=(r=o).stateNode).componentDidMount)try{a.componentDidMount()}catch(qi){Cu(r,r.return,qi)}if(null!==(a=(r=o).updateQueue)){var s=r.stateNode;try{var l=a.shared.hiddenCallbacks;if(null!==l)for(a.shared.hiddenCallbacks=null,a=0;a<l.length;a++)Eo(l[a],s)}catch(qi){Cu(r,r.return,qi)}}n&&64&i&&bl(o),xl(o,o.return);break;case 27:jl(o);case 26:case 5:Xl(a,o,n),n&&null===r&&4&i&&kl(o),xl(o,o.return);break;case 12:Xl(a,o,n);break;case 31:Xl(a,o,n),n&&4&i&&Hl(a,o);break;case 13:Xl(a,o,n),n&&4&i&&Ul(a,o);break;case 22:null===o.memoizedState&&Xl(a,o,n),xl(o,o.return);break;case 30:break;default:Xl(a,o,n)}t=t.sibling}}function Jl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Wa(n))}function Zl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Wa(e))}function ec(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)tc(e,t,n,r),t=t.sibling}function tc(e,t,n,r){var a=t.flags;switch(t.tag){case 0:case 11:case 15:ec(e,t,n,r),2048&a&&yl(9,t);break;case 1:case 31:case 13:default:ec(e,t,n,r);break;case 3:ec(e,t,n,r),2048&a&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Wa(e)));break;case 12:if(2048&a){ec(e,t,n,r),e=t.stateNode;try{var o=t.memoizedProps,i=o.id,s=o.onPostCommit;"function"===typeof s&&s(i,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(qi){Cu(t,t.return,qi)}}else ec(e,t,n,r);break;case 23:break;case 22:o=t.stateNode,i=t.alternate,null!==t.memoizedState?2&o._visibility?ec(e,t,n,r):rc(e,t):2&o._visibility?ec(e,t,n,r):(o._visibility|=2,nc(e,t,n,r,0!==(10256&t.subtreeFlags)||!1)),2048&a&&Jl(i,t);break;case 24:ec(e,t,n,r),2048&a&&Zl(t.alternate,t)}}function nc(e,t,n,r,a){for(a=a&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var o=e,i=t,s=n,l=r,c=i.flags;switch(i.tag){case 0:case 11:case 15:nc(o,i,s,l,a),yl(8,i);break;case 23:break;case 22:var u=i.stateNode;null!==i.memoizedState?2&u._visibility?nc(o,i,s,l,a):rc(o,i):(u._visibility|=2,nc(o,i,s,l,a)),a&&2048&c&&Jl(i.alternate,i);break;case 24:nc(o,i,s,l,a),a&&2048&c&&Zl(i.alternate,i);break;default:nc(o,i,s,l,a)}t=t.sibling}}function rc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,a=r.flags;switch(r.tag){case 22:rc(n,r),2048&a&&Jl(r.alternate,r);break;case 24:rc(n,r),2048&a&&Zl(r.alternate,r);break;default:rc(n,r)}t=t.sibling}}var ac=8192;function oc(e,t,n){if(e.subtreeFlags&ac)for(e=e.child;null!==e;)ic(e,t,n),e=e.sibling}function ic(e,t,n){switch(e.tag){case 26:oc(e,t,n),e.flags&ac&&null!==e.memoizedState&&function(e,t,n,r){if("stylesheet"===n.type&&("string"!==typeof r.media||!1!==matchMedia(r.media).matches)&&0===(4&n.state.loading)){if(null===n.instance){var a=Kd(r.href),o=t.querySelector(Gd(a));if(o)return null!==(t=o._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=sh.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=o,void et(o);o=t.ownerDocument||t,r=Qd(r),(a=Wd.get(a))&&eh(r,a),et(o=o.createElement("link"));var i=o;i._p=new Promise(function(e,t){i.onload=e,i.onerror=t}),fd(o,"link",r),n.instance=o}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&0===(3&n.state.loading)&&(e.count++,n=sh.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Vl,e.memoizedState,e.memoizedProps);break;case 5:default:oc(e,t,n);break;case 3:case 4:var r=Vl;Vl=Ud(e.stateNode.containerInfo),oc(e,t,n),Vl=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=ac,ac=16777216,oc(e,t,n),ac=r):oc(e,t,n))}}function sc(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function lc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Ol=r,dc(r,e)}sc(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)cc(e),e=e.sibling}function cc(e){switch(e.tag){case 0:case 11:case 15:lc(e),2048&e.flags&&vl(9,e,e.return);break;case 3:case 12:default:lc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,uc(e)):lc(e)}}function uc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Ol=r,dc(r,e)}sc(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:vl(8,t,t.return),uc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,uc(t));break;default:uc(t)}e=e.sibling}}function dc(e,t){for(;null!==Ol;){var n=Ol;switch(n.tag){case 0:case 11:case 15:vl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Wa(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Ol=r;else e:for(n=e;null!==Ol;){var a=(r=Ol).sibling,o=r.return;if(Al(r),r===n){Ol=null;break e}if(null!==a){a.return=o,Ol=a;break e}Ol=o}}}var hc={getCacheForType:function(e){var t=Ia(za),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ia(za).controller.signal}},fc="function"===typeof WeakMap?WeakMap:Map,pc=0,mc=null,gc=null,yc=0,vc=0,bc=null,_c=!1,xc=!1,wc=!1,kc=0,Cc=0,Sc=0,Ec=0,Nc=0,Tc=0,jc=0,Rc=null,Pc=null,Ic=!1,Lc=0,Oc=0,Mc=1/0,Ac=null,Dc=null,zc=0,Fc=null,Wc=null,Hc=0,Uc=0,Bc=null,qc=null,Vc=0,$c=null;function Kc(){return 0!==(2&pc)&&0!==yc?yc&-yc:null!==O.T?Bu():ze()}function Gc(){if(0===Tc)if(0===(536870912&yc)||da){var e=Ce;0===(3932160&(Ce<<=1))&&(Ce=262144),Tc=e}else Tc=536870912;return null!==(e=Lo.current)&&(e.flags|=32),Tc}function Qc(e,t,n){(e!==mc||2!==vc&&9!==vc)&&null===e.cancelPendingCommit||(nu(e,0),Zc(e,yc,Tc,!1)),Ie(e,n),0!==(2&pc)&&e===mc||(e===mc&&(0===(2&pc)&&(Ec|=n),4===Cc&&Zc(e,yc,Tc,!1)),Au(e))}function Yc(e,t,n){if(0!==(6&pc))throw Error(i(327));for(var r=!n&&0===(127&t)&&0===(t&e.expiredLanes)||Te(e,t),a=r?function(e,t){var n=pc;pc|=2;var r=ou(),a=iu();mc!==e||yc!==t?(Ac=null,Mc=le()+500,nu(e,t)):xc=Te(e,t);e:for(;;)try{if(0!==vc&&null!==gc){t=gc;var o=bc;t:switch(vc){case 1:vc=0,bc=null,fu(e,t,o,1);break;case 2:case 9:if(to(o)){vc=0,bc=null,hu(t);break}t=function(){2!==vc&&9!==vc||mc!==e||(vc=7),Au(e)},o.then(t,t);break e;case 3:vc=7;break e;case 4:vc=5;break e;case 7:to(o)?(vc=0,bc=null,hu(t)):(vc=0,bc=null,fu(e,t,o,7));break;case 5:var s=null;switch(gc.tag){case 26:s=gc.memoizedState;case 5:case 27:var l=gc;if(s?oh(s):l.stateNode.complete){vc=0,bc=null;var c=l.sibling;if(null!==c)gc=c;else{var u=l.return;null!==u?(gc=u,pu(u)):gc=null}break t}}vc=0,bc=null,fu(e,t,o,5);break;case 6:vc=0,bc=null,fu(e,t,o,6);break;case 8:tu(),Cc=6;break e;default:throw Error(i(462))}}uu();break}catch(d){ru(e,d)}return Ca=ka=null,O.H=r,O.A=a,pc=n,null!==gc?0:(mc=null,yc=0,Rr(),Cc)}(e,t):lu(e,t,!0),o=r;;){if(0===a){xc&&!r&&Zc(e,t,0,!1);break}if(n=e.current.alternate,!o||Jc(n)){if(2===a){if(o=t,e.errorRecoveryDisabledLanes&o)var s=0;else s=0!==(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var l=e;a=Rc;var c=l.current.memoizedState.isDehydrated;if(c&&(nu(l,s).flags|=256),2!==(s=lu(l,s,!1))){if(wc&&!c){l.errorRecoveryDisabledLanes|=o,Ec|=o,a=4;break e}o=Pc,Pc=a,null!==o&&(null===Pc?Pc=o:Pc.push.apply(Pc,o))}a=s}if(o=!1,2!==a)continue}}if(1===a){nu(e,0),Zc(e,t,0,!0);break}e:{switch(r=e,o=a){case 0:case 1:throw Error(i(345));case 4:if((4194048&t)!==t)break;case 6:Zc(r,t,Tc,!_c);break e;case 2:Pc=null;break;case 3:case 5:break;default:throw Error(i(329))}if((62914560&t)===t&&10<(a=Lc+300-le())){if(Zc(r,t,Tc,!_c),0!==Ne(r,0,!0))break e;Hc=t,r.timeoutHandle=wd(Xc.bind(null,r,n,Pc,Ac,Ic,t,Tc,Ec,jc,_c,o,"Throttled",-0,0),a)}else Xc(r,n,Pc,Ac,Ic,t,Tc,Ec,jc,_c,o,null,-0,0)}break}a=lu(e,t,!1),o=!1}Au(e)}function Xc(e,t,n,r,a,o,i,s,l,c,u,d,h,f){if(e.timeoutHandle=-1,8192&(d=t.subtreeFlags)||16785408===(16785408&d)){ic(t,o,d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:It});var p=(62914560&o)===o?Lc-le():(4194048&o)===o?Oc-le():0;if(null!==(p=function(e,t){return e.stylesheets&&0===e.count&&ch(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&ch(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===ih&&(ih=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var a=n[r],o=a.transferSize,i=a.initiatorType,s=a.duration;if(o&&s&&pd(i)){for(i=0,s=a.responseEnd,r+=1;r<n.length;r++){var l=n[r],c=l.startTime;if(c>s)break;var u=l.transferSize,d=l.initiatorType;u&&pd(d)&&(i+=u*((l=l.responseEnd)<s?1:(s-c)/(l-c)))}if(--r,t+=8*(o+i)/(a.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"===typeof(e=navigator.connection.downlink)?e:5}());var a=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&ch(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>ih?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(a)}}:null}(d,p)))return Hc=o,e.cancelPendingCommit=p(gu.bind(null,e,t,o,n,r,a,i,s,l,u,d,null,h,f)),void Zc(e,o,i,!c)}gu(e,t,o,n,r,a,i,s,l)}function Jc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var a=n[r],o=a.getSnapshot;a=a.value;try{if(!Jn(o(),a))return!1}catch(qi){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zc(e,t,n,r){t&=~Nc,t&=~Ec,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var a=t;0<a;){var o=31-_e(a),i=1<<o;r[o]=-1,a&=~i}0!==n&&Le(e,n,t)}function eu(){return 0!==(6&pc)||(Du(0,!1),!1)}function tu(){if(null!==gc){if(0===vc)var e=gc.return;else Ca=ka=null,si(e=gc),so=null,lo=0,e=gc;for(;null!==e;)gl(e.alternate,e),e=e.return;gc=null}}function nu(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,kd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Hc=0,tu(),mc=e,gc=n=Wr(e.current,null),yc=t,vc=0,bc=null,_c=!1,xc=Te(e,t),wc=!1,jc=Tc=Nc=Ec=Sc=Cc=0,Pc=Rc=null,Ic=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var a=31-_e(r),o=1<<a;t|=e[a],r&=~o}return kc=t,Rr(),n}function ru(e,t){Bo=null,O.H=gs,t===Xa||t===Za?(t=oo(),vc=3):t===Ja?(t=oo(),vc=4):vc=t===Ls?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,bc=t,null===gc&&(Cc=1,Ts(e,Gr(t,e.current)))}function au(){var e=Lo.current;return null===e||((4194048&yc)===yc?null===Oo:((62914560&yc)===yc||0!==(536870912&yc))&&e===Oo)}function ou(){var e=O.H;return O.H=gs,null===e?gs:e}function iu(){var e=O.A;return O.A=hc,e}function su(){Cc=4,_c||(4194048&yc)!==yc&&null!==Lo.current||(xc=!0),0===(134217727&Sc)&&0===(134217727&Ec)||null===mc||Zc(mc,yc,Tc,!1)}function lu(e,t,n){var r=pc;pc|=2;var a=ou(),o=iu();mc===e&&yc===t||(Ac=null,nu(e,t)),t=!1;var i=Cc;e:for(;;)try{if(0!==vc&&null!==gc){var s=gc,l=bc;switch(vc){case 8:tu(),i=6;break e;case 3:case 2:case 9:case 6:null===Lo.current&&(t=!0);var c=vc;if(vc=0,bc=null,fu(e,s,l,c),n&&xc){i=0;break e}break;default:c=vc,vc=0,bc=null,fu(e,s,l,c)}}cu(),i=Cc;break}catch(u){ru(e,u)}return t&&e.shellSuspendCounter++,Ca=ka=null,pc=r,O.H=a,O.A=o,null===gc&&(mc=null,yc=0,Rr()),i}function cu(){for(;null!==gc;)du(gc)}function uu(){for(;null!==gc&&!ie();)du(gc)}function du(e){var t=sl(e.alternate,e,kc);e.memoizedProps=e.pendingProps,null===t?pu(e):gc=t}function hu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=$s(n,t,t.pendingProps,t.type,void 0,yc);break;case 11:t=$s(n,t,t.pendingProps,t.type.render,t.ref,yc);break;case 5:si(t);default:gl(n,t),t=sl(n,t=gc=Hr(t,kc),kc)}e.memoizedProps=e.pendingProps,null===t?pu(e):gc=t}function fu(e,t,n,r){Ca=ka=null,si(t),so=null,lo=0;var a=t.return;try{if(function(e,t,n,r,a){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&ja(t,n,a,!0),null!==(n=Lo.current)){switch(n.tag){case 31:case 13:return null===Oo?su():null===n.alternate&&0===Cc&&(Cc=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===eo?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),Su(e,r,a)),!1;case 22:return n.flags|=65536,r===eo?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),Su(e,r,a)),!1}throw Error(i(435,n.tag))}return Su(e,r,a),su(),!1}if(da)return null!==(t=Lo.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==pa&&xa(Gr(e=Error(i(422),{cause:r}),n))):(r!==pa&&xa(Gr(t=Error(i(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,a&=-a,e.lanes|=a,r=Gr(r,n),wo(e,a=Rs(e.stateNode,r,a)),4!==Cc&&(Cc=2)),!1;var o=Error(i(520),{cause:r});if(o=Gr(o,n),null===Rc?Rc=[o]:Rc.push(o),4!==Cc&&(Cc=2),null===t)return!0;r=Gr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,wo(n,e=Rs(n.stateNode,r,e)),!1;case 1:if(t=n.type,o=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==o&&"function"===typeof o.componentDidCatch&&(null===Dc||!Dc.has(o))))return n.flags|=65536,a&=-a,n.lanes|=a,Is(a=Ps(a),e,n,r),wo(n,a),!1}n=n.return}while(null!==n);return!1}(e,a,t,n,yc))return Cc=1,Ts(e,Gr(n,e.current)),void(gc=null)}catch(qi){if(null!==a)throw gc=a,qi;return Cc=1,Ts(e,Gr(n,e.current)),void(gc=null)}32768&t.flags?(da||1===r?e=!0:xc||0!==(536870912&yc)?e=!1:(_c=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=Lo.current)&&13===r.tag&&(r.flags|=16384))),mu(t,e)):pu(t)}function pu(e){var t=e;do{if(0!==(32768&t.flags))return void mu(t,_c);e=t.return;var n=pl(t.alternate,t,kc);if(null!==n)return void(gc=n);if(null!==(t=t.sibling))return void(gc=t);gc=t=e}while(null!==t);0===Cc&&(Cc=5)}function mu(e,t){do{var n=ml(e.alternate,e);if(null!==n)return n.flags&=32767,void(gc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(gc=e);gc=e=n}while(null!==e);Cc=6,gc=null}function gu(e,t,n,r,a,o,s,l,c){e.cancelPendingCommit=null;do{xu()}while(0!==zc);if(0!==(6&pc))throw Error(i(327));if(null!==t){if(t===e.current)throw Error(i(177));if(o=t.lanes|t.childLanes,function(e,t,n,r,a,o){var i=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=i&~n;0<n;){var u=31-_e(n),d=1<<u;s[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&Le(e,r,0),0!==o&&0===a&&0!==e.tag&&(e.suspendedLanes|=o&~(i&~t))}(e,n,o|=jr,s,l,c),e===mc&&(gc=mc=null,yc=0),Wc=t,Fc=e,Hc=n,Uc=o,Bc=a,qc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,ae(he,function(){return wu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=O.T,O.T=null,a=M.p,M.p=2,s=pc,pc|=4;try{!function(e,t){if(e=e.containerInfo,md=_h,ar(e=rr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(g){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==a&&3!==h.nodeType||(l=s+a),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===a&&(l=s),f===o&&++d===r&&(c=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(gd={focusedElem:e,selectionRange:n},_h=!1,Ol=t;null!==Ol;)if(e=(t=Ol).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ol=e;else for(;null!==Ol;){switch(o=(t=Ol).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(a=e[n]).ref.impl=a.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==o){e=void 0,n=t,a=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var m=Cs(n.type,a);e=r.getSnapshotBeforeUpdate(m,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(qi){Cu(n,n.return,qi)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))Rd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Rd(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(i(163))}if(null!==(e=t.sibling)){e.return=t.return,Ol=e;break}Ol=t.return}}(e,t)}finally{pc=s,M.p=a,O.T=r}}zc=1,yu(),vu(),bu()}}function yu(){if(1===zc){zc=0;var e=Fc,t=Wc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=O.T,O.T=null;var r=M.p;M.p=2;var a=pc;pc|=4;try{$l(t,e);var o=gd,i=rr(e.containerInfo),s=o.focusedElem,l=o.selectionRange;if(i!==s&&s&&s.ownerDocument&&nr(s.ownerDocument.documentElement,s)){if(null!==l&&ar(s)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in s)s.selectionStart=c,s.selectionEnd=Math.min(u,s.value.length);else{var d=s.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),p=s.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(i=g,g=m,m=i);var y=tr(s,m),v=tr(s,g);if(y&&v&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==v.node||f.focusOffset!==v.offset)){var b=d.createRange();b.setStart(y.node,y.offset),f.removeAllRanges(),m>g?(f.addRange(b),f.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),f.addRange(b))}}}}for(d=[],f=s;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof s.focus&&s.focus(),s=0;s<d.length;s++){var _=d[s];_.element.scrollLeft=_.left,_.element.scrollTop=_.top}}_h=!!md,gd=md=null}finally{pc=a,M.p=r,O.T=n}}e.current=t,zc=2}}function vu(){if(2===zc){zc=0;var e=Fc,t=Wc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=O.T,O.T=null;var r=M.p;M.p=2;var a=pc;pc|=4;try{Ml(e,t.alternate,t)}finally{pc=a,M.p=r,O.T=n}}zc=3}}function bu(){if(4===zc||3===zc){zc=0,se();var e=Fc,t=Wc,n=Hc,r=qc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?zc=5:(zc=0,Wc=Fc=null,_u(e,e.pendingLanes));var a=e.pendingLanes;if(0===a&&(Dc=null),De(n),t=t.stateNode,ve&&"function"===typeof ve.onCommitFiberRoot)try{ve.onCommitFiberRoot(ye,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=O.T,a=M.p,M.p=2,O.T=null;try{for(var o=e.onRecoverableError,i=0;i<r.length;i++){var s=r[i];o(s.value,{componentStack:s.stack})}}finally{O.T=t,M.p=a}}0!==(3&Hc)&&xu(),Au(e),a=e.pendingLanes,0!==(261930&n)&&0!==(42&a)?e===$c?Vc++:(Vc=0,$c=e):Vc=0,Du(0,!1)}}function _u(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Wa(t)))}function xu(){return yu(),vu(),bu(),wu()}function wu(){if(5!==zc)return!1;var e=Fc,t=Uc;Uc=0;var n=De(Hc),r=O.T,a=M.p;try{M.p=32>n?32:n,O.T=null,n=Bc,Bc=null;var o=Fc,s=Hc;if(zc=0,Wc=Fc=null,Hc=0,0!==(6&pc))throw Error(i(331));var l=pc;if(pc|=4,cc(o.current),tc(o,o.current,s,n),pc=l,Du(0,!1),ve&&"function"===typeof ve.onPostCommitFiberRoot)try{ve.onPostCommitFiberRoot(ye,o)}catch(c){}return!0}finally{M.p=a,O.T=r,_u(e,t)}}function ku(e,t,n){t=Gr(n,t),null!==(e=_o(e,t=Rs(e.stateNode,t,2),2))&&(Ie(e,2),Au(e))}function Cu(e,t,n){if(3===e.tag)ku(e,e,n);else for(;null!==t;){if(3===t.tag){ku(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Dc||!Dc.has(r))){e=Gr(n,e),null!==(r=_o(t,n=Ps(2),2))&&(Is(n,r,t,e),Ie(r,2),Au(r));break}}t=t.return}}function Su(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fc;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(wc=!0,a.add(n),e=Eu.bind(null,e,t,n),t.then(e,e))}function Eu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,mc===e&&(yc&n)===n&&(4===Cc||3===Cc&&(62914560&yc)===yc&&300>le()-Lc?0===(2&pc)&&nu(e,0):Nc|=n,jc===yc&&(jc=0)),Au(e)}function Nu(e,t){0===t&&(t=Re()),null!==(e=Lr(e,t))&&(Ie(e,t),Au(e))}function Tu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Nu(e,n)}function ju(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}null!==r&&r.delete(t),Nu(e,n)}var Ru=null,Pu=null,Iu=!1,Lu=!1,Ou=!1,Mu=0;function Au(e){e!==Pu&&null===e.next&&(null===Pu?Ru=Pu=e:Pu=Pu.next=e),Lu=!0,Iu||(Iu=!0,Sd(function(){0!==(6&pc)?ae(ue,zu):Fu()}))}function Du(e,t){if(!Ou&&Lu){Ou=!0;do{for(var n=!1,r=Ru;null!==r;){if(!t)if(0!==e){var a=r.pendingLanes;if(0===a)var o=0;else{var i=r.suspendedLanes,s=r.pingedLanes;o=(1<<31-_e(42|e)+1)-1,o=201326741&(o&=a&~(i&~s))?201326741&o|1:o?2|o:0}0!==o&&(n=!0,Uu(r,o))}else o=yc,0===(3&(o=Ne(r,r===mc?o:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Te(r,o)||(n=!0,Uu(r,o));r=r.next}}while(n);Ou=!1}}function zu(){Fu()}function Fu(){Lu=Iu=!1;var e=0;0!==Mu&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==xd&&(xd=e,!0);return xd=null,!1}()&&(e=Mu);for(var t=le(),n=null,r=Ru;null!==r;){var a=r.next,o=Wu(r,t);0===o?(r.next=null,null===n?Ru=a:n.next=a,null===a&&(Pu=n)):(n=r,(0!==e||0!==(3&o))&&(Lu=!0)),r=a}0!==zc&&5!==zc||Du(e,!1),0!==Mu&&(Mu=0)}function Wu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,o=-62914561&e.pendingLanes;0<o;){var i=31-_e(o),s=1<<i,l=a[i];-1===l?0!==(s&n)&&0===(s&r)||(a[i]=je(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}if(n=yc,n=Ne(e,e===(t=mc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===vc||9===vc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&oe(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Te(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&oe(r),De(n)){case 2:case 8:n=de;break;case 32:default:n=he;break;case 268435456:n=pe}return r=Hu.bind(null,e),n=ae(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&oe(r),e.callbackPriority=2,e.callbackNode=null,2}function Hu(e,t){if(0!==zc&&5!==zc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(xu()&&e.callbackNode!==n)return null;var r=yc;return 0===(r=Ne(e,e===mc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Yc(e,r,t),Wu(e,le()),null!=e.callbackNode&&e.callbackNode===n?Hu.bind(null,e):null)}function Uu(e,t){if(xu())return null;Yc(e,t,!0)}function Bu(){if(0===Mu){var e=Ba;0===e&&(e=ke,0===(261888&(ke<<=1))&&(ke=256)),Mu=e}return Mu}function qu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Pt(""+e)}function Vu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var $u=0;$u<Cr.length;$u++){var Ku=Cr[$u];Sr(Ku.toLowerCase(),"on"+(Ku[0].toUpperCase()+Ku.slice(1)))}Sr(gr,"onAnimationEnd"),Sr(yr,"onAnimationIteration"),Sr(vr,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(br,"onTransitionRun"),Sr(_r,"onTransitionStart"),Sr(xr,"onTransitionCancel"),Sr(wr,"onTransitionEnd"),at("onMouseEnter",["mouseout","mouseover"]),at("onMouseLeave",["mouseout","mouseover"]),at("onPointerEnter",["pointerout","pointerover"]),at("onPointerLeave",["pointerout","pointerover"]),rt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rt("onBeforeInput",["compositionend","keypress","textInput","paste"]),rt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gu));function Yu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var s=r[i],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&a.isPropagationStopped())break e;o=s,a.currentTarget=c;try{o(a)}catch(qi){Er(qi)}a.currentTarget=null,o=l}else for(i=0;i<r.length;i++){if(l=(s=r[i]).instance,c=s.currentTarget,s=s.listener,l!==o&&a.isPropagationStopped())break e;o=s,a.currentTarget=c;try{o(a)}catch(qi){Er(qi)}a.currentTarget=null,o=l}}}}function Xu(e,t){var n=t[qe];void 0===n&&(n=t[qe]=new Set);var r=e+"__bubble";n.has(r)||(td(t,e,2,!1),n.add(r))}function Ju(e,t,n){var r=0;t&&(r|=4),td(n,e,r,t)}var Zu="_reactListening"+Math.random().toString(36).slice(2);function ed(e){if(!e[Zu]){e[Zu]=!0,tt.forEach(function(t){"selectionchange"!==t&&(Qu.has(t)||Ju(t,!1,e),Ju(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Zu]||(t[Zu]=!0,Ju("selectionchange",!1,t))}}function td(e,t,n,r){switch(Nh(t)){case 2:var a=xh;break;case 8:a=wh;break;default:a=kh}n=a.bind(null,t,n,e),a=void 0,!Ut||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function nd(e,t,n,r,a){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var s=r.stateNode.containerInfo;if(s===a)break;if(4===i)for(i=r.return;null!==i;){var c=i.tag;if((3===c||4===c)&&i.stateNode.containerInfo===a)return;i=i.return}for(;null!==s;){if(null===(i=Ye(s)))return;if(5===(c=i.tag)||6===c||26===c||27===c){r=o=i;continue e}s=s.parentNode}}r=r.return}Ft(function(){var r=o,a=Ot(n),i=[];e:{var s=kr.get(e);if(void 0!==s){var c=nn,u=e;switch(e){case"keypress":if(0===Gt(n))break e;case"keydown":case"keyup":c=vn;break;case"focusin":u="focus",c=cn;break;case"focusout":u="blur",c=cn;break;case"beforeblur":case"afterblur":c=cn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=sn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=ln;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=_n;break;case gr:case yr:case vr:c=un;break;case wr:c=xn;break;case"scroll":case"scrollend":c=an;break;case"wheel":c=wn;break;case"copy":case"cut":case"paste":c=dn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=bn;break;case"toggle":case"beforetoggle":c=kn}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==s?s+"Capture":null:s;d=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=Wt(m,f))&&d.push(rd(m,g,p)),h)break;m=m.return}0<d.length&&(s=new c(s,u,null,n,a),i.push({event:s,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===Lt||!(u=n.relatedTarget||n.fromElement)||!Ye(u)&&!u[Be])&&(c||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Ye(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=sn,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=bn,g="onPointerLeave",f="onPointerEnter",m="pointer"),h=null==c?s:Je(c),p=null==u?s:Je(u),(s=new d(g,m+"leave",c,n,a)).target=h,s.relatedTarget=p,g=null,Ye(a)===r&&((d=new d(f,m+"enter",u,n,a)).target=p,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(d=od,m=u,p=0,g=f=c;g;g=d(g))p++;g=0;for(var y=m;y;y=d(y))g++;for(;0<p-g;)f=d(f),p--;for(;0<g-p;)m=d(m),g--;for(;p--;){if(f===m||null!==m&&f===m.alternate){d=f;break e}f=d(f),m=d(m)}d=null}else d=null;null!==c&&id(i,s,c,d,!1),null!==u&&null!==h&&id(i,h,u,d,!0)}if("select"===(c=(s=r?Je(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var v=Hn;else if(Mn(s))if(Un)v=Xn;else{v=Qn;var b=Gn}else!(c=s.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?r&&Tt(r.elementType)&&(v=Hn):v=Yn;switch(v&&(v=v(e,r))?An(i,v,n,a):(b&&b(e,s,r),"focusout"===e&&r&&"number"===s.type&&null!=r.memoizedProps.value&&_t(s,"number",s.value)),b=r?Je(r):window,e){case"focusin":(Mn(b)||"true"===b.contentEditable)&&(ir=b,sr=r,lr=null);break;case"focusout":lr=sr=ir=null;break;case"mousedown":cr=!0;break;case"contextmenu":case"mouseup":case"dragend":cr=!1,ur(i,n,a);break;case"selectionchange":if(or)break;case"keydown":case"keyup":ur(i,n,a)}var _;if(Sn)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Ln?Pn(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(Tn&&"ko"!==n.locale&&(Ln||"onCompositionStart"!==x?"onCompositionEnd"===x&&Ln&&(_=Kt()):(Vt="value"in(qt=a)?qt.value:qt.textContent,Ln=!0)),0<(b=ad(r,x)).length&&(x=new hn(x,e,null,n,a),i.push({event:x,listeners:b}),_?x.data=_:null!==(_=In(n))&&(x.data=_))),(_=Nn?function(e,t){switch(e){case"compositionend":return In(t);case"keypress":return 32!==t.which?null:(Rn=!0,jn);case"textInput":return(e=t.data)===jn&&Rn?null:e;default:return null}}(e,n):function(e,t){if(Ln)return"compositionend"===e||!Sn&&Pn(e,t)?(e=Kt(),$t=Vt=qt=null,Ln=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Tn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(x=ad(r,"onBeforeInput")).length&&(b=new hn("onBeforeInput","beforeinput",null,n,a),i.push({event:b,listeners:x}),b.data=_)),function(e,t,n,r,a){if("submit"===t&&n&&n.stateNode===a){var o=qu((a[Ue]||null).action),i=r.submitter;i&&null!==(t=(t=i[Ue]||null)?qu(t.formAction):i.getAttribute("formAction"))&&(o=t,i=null);var s=new nn("action","action",null,r,a);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Mu){var e=i?Vu(a,i):new FormData(a);ns(n,{pending:!0,data:e,method:a.method,action:o},null,e)}}else"function"===typeof o&&(s.preventDefault(),e=i?Vu(a,i):new FormData(a),ns(n,{pending:!0,data:e,method:a.method,action:o},o,e))},currentTarget:a}]})}}(i,e,r,n,a)}Yu(i,t)})}function rd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ad(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,o=a.stateNode;if(5!==(a=a.tag)&&26!==a&&27!==a||null===o||(null!=(a=Wt(e,n))&&r.unshift(rd(e,a,o)),null!=(a=Wt(e,t))&&r.push(rd(e,a,o))),3===e.tag)return r;e=e.return}return[]}function od(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function id(e,t,n,r,a){for(var o=t._reactName,i=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(s=s.tag,null!==l&&l===r)break;5!==s&&26!==s&&27!==s||null===c||(l=c,a?null!=(c=Wt(n,o))&&i.unshift(rd(n,c,l)):a||null!=(c=Wt(n,o))&&i.push(rd(n,c,l))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var sd=/\r\n?/g,ld=/\u0000|\uFFFD/g;function cd(e){return("string"===typeof e?e:""+e).replace(sd,"\n").replace(ld,"")}function ud(e,t){return t=cd(t),cd(e)===t}function dd(e,t,n,r,a,o){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||Ct(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&Ct(e,""+r);break;case"className":ct(e,"class",r);break;case"tabIndex":ct(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ct(e,n,r);break;case"style":Nt(e,r,o);break;case"data":if("object"!==t){ct(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Pt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof o&&("formAction"===n?("input"!==t&&dd(e,t,"name",a.name,a,null),dd(e,t,"formEncType",a.formEncType,a,null),dd(e,t,"formMethod",a.formMethod,a,null),dd(e,t,"formTarget",a.formTarget,a,null)):(dd(e,t,"encType",a.encType,a,null),dd(e,t,"method",a.method,a,null),dd(e,t,"target",a.target,a,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Pt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=It);break;case"onScroll":null!=r&&Xu("scroll",e);break;case"onScrollEnd":null!=r&&Xu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(i(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(i(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Pt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Xu("beforetoggle",e),Xu("toggle",e),lt(e,"popover",r);break;case"xlinkActuate":ut(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ut(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ut(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ut(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ut(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ut(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ut(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ut(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ut(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":lt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&lt(e,n=jt.get(n)||n,r)}}function hd(e,t,n,r,a,o){switch(n){case"style":Nt(e,r,o);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(i(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(i(60));e.innerHTML=n}}break;case"children":"string"===typeof r?Ct(e,r):("number"===typeof r||"bigint"===typeof r)&&Ct(e,""+r);break;case"onScroll":null!=r&&Xu("scroll",e);break;case"onScrollEnd":null!=r&&Xu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=It);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:nt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),"function"===typeof(o=null!=(o=e[Ue]||null)?o[n]:null)&&e.removeEventListener(t,o,a),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):lt(e,n,r):("function"!==typeof o&&null!==o&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a)))}}function fd(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xu("error",e),Xu("load",e);var r,a=!1,o=!1;for(r in n)if(n.hasOwnProperty(r)){var s=n[r];if(null!=s)switch(r){case"src":a=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:dd(e,t,r,s,n,null)}}return o&&dd(e,t,"srcSet",n.srcSet,n,null),void(a&&dd(e,t,"src",n.src,n,null));case"input":Xu("invalid",e);var l=r=s=o=null,c=null,u=null;for(a in n)if(n.hasOwnProperty(a)){var d=n[a];if(null!=d)switch(a){case"name":o=d;break;case"type":s=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(i(137,t));break;default:dd(e,t,a,d,n,null)}}return void bt(e,r,l,c,u,s,o,!1);case"select":for(o in Xu("invalid",e),a=s=r=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":r=l;break;case"defaultValue":s=l;break;case"multiple":a=l;default:dd(e,t,o,l,n,null)}return t=r,n=s,e.multiple=!!a,void(null!=t?xt(e,!!a,t,!1):null!=n&&xt(e,!!a,n,!0));case"textarea":for(s in Xu("invalid",e),r=o=a=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":a=l;break;case"defaultValue":o=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(i(91));break;default:dd(e,t,s,l,n,null)}return void kt(e,a,o,r);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(a=n[c]))if("selected"===c)e.selected=a&&"function"!==typeof a&&"symbol"!==typeof a;else dd(e,t,c,a,n,null);return;case"dialog":Xu("beforetoggle",e),Xu("toggle",e),Xu("cancel",e),Xu("close",e);break;case"iframe":case"object":Xu("load",e);break;case"video":case"audio":for(a=0;a<Gu.length;a++)Xu(Gu[a],e);break;case"image":Xu("error",e),Xu("load",e);break;case"details":Xu("toggle",e);break;case"embed":case"source":case"link":Xu("error",e),Xu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(a=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:dd(e,t,u,a,n,null)}return;default:if(Tt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(a=n[d])&&hd(e,t,d,a,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(a=n[l])&&dd(e,t,l,a,n,null))}function pd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var md=null,gd=null;function yd(e){return 9===e.nodeType?e:e.ownerDocument}function vd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function _d(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var xd=null;var wd="function"===typeof setTimeout?setTimeout:void 0,kd="function"===typeof clearTimeout?clearTimeout:void 0,Cd="function"===typeof Promise?Promise:void 0,Sd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof Cd?function(e){return Cd.resolve(null).then(e).catch(Ed)}:wd;function Ed(e){setTimeout(function(){throw e})}function Nd(e){return"head"===e}function Td(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)||"/&"===n){if(0===r)return e.removeChild(a),void Vh(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)Fd(e.ownerDocument.documentElement);else if("head"===n){Fd(n=e.ownerDocument.head);for(var o=n.firstChild;o;){var i=o.nextSibling,s=o.nodeName;o[Ge]||"SCRIPT"===s||"STYLE"===s||"LINK"===s&&"stylesheet"===o.rel.toLowerCase()||n.removeChild(o),o=i}}else"body"===n&&Fd(e.ownerDocument.body);n=a}while(n);Vh(t)}function jd(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Rd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Rd(n),Qe(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Pd(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Od(e.nextSibling)))return null}return e}function Id(e){return"$?"===e.data||"$~"===e.data}function Ld(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Od(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Md=null;function Ad(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Od(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Dd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function zd(e,t,n){switch(t=yd(n),e){case"html":if(!(e=t.documentElement))throw Error(i(452));return e;case"head":if(!(e=t.head))throw Error(i(453));return e;case"body":if(!(e=t.body))throw Error(i(454));return e;default:throw Error(i(451))}}function Fd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Qe(e)}var Wd=new Map,Hd=new Set;function Ud(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Bd=M.d;M.d={f:function(){var e=Bd.f(),t=eu();return e||t},r:function(e){var t=Xe(e);null!==t&&5===t.tag&&"form"===t.type?as(t):Bd.r(e)},D:function(e){Bd.D(e),Vd("dns-prefetch",e,null)},C:function(e,t){Bd.C(e,t),Vd("preconnect",e,t)},L:function(e,t,n){Bd.L(e,t,n);var r=qd;if(r&&e&&t){var a='link[rel="preload"][as="'+yt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(a+='[imagesrcset="'+yt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(a+='[imagesizes="'+yt(n.imageSizes)+'"]')):a+='[href="'+yt(e)+'"]';var o=a;switch(t){case"style":o=Kd(e);break;case"script":o=Yd(e)}Wd.has(o)||(e=f({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Wd.set(o,e),null!==r.querySelector(a)||"style"===t&&r.querySelector(Gd(o))||"script"===t&&r.querySelector(Xd(o))||(fd(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}},m:function(e,t){Bd.m(e,t);var n=qd;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",a='link[rel="modulepreload"][as="'+yt(r)+'"][href="'+yt(e)+'"]',o=a;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Yd(e)}if(!Wd.has(o)&&(e=f({rel:"modulepreload",href:e},t),Wd.set(o,e),null===n.querySelector(a))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Xd(o)))return}fd(r=n.createElement("link"),"link",e),et(r),n.head.appendChild(r)}}},X:function(e,t){Bd.X(e,t);var n=qd;if(n&&e){var r=Ze(n).hoistableScripts,a=Yd(e),o=r.get(a);o||((o=n.querySelector(Xd(a)))||(e=f({src:e,async:!0},t),(t=Wd.get(a))&&th(e,t),et(o=n.createElement("script")),fd(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(a,o))}},S:function(e,t,n){Bd.S(e,t,n);var r=qd;if(r&&e){var a=Ze(r).hoistableStyles,o=Kd(e);t=t||"default";var i=a.get(o);if(!i){var s={loading:0,preload:null};if(i=r.querySelector(Gd(o)))s.loading=5;else{e=f({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Wd.get(o))&&eh(e,n);var l=i=r.createElement("link");et(l),fd(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){s.loading|=1}),l.addEventListener("error",function(){s.loading|=2}),s.loading|=4,Zd(i,t,r)}i={type:"stylesheet",instance:i,count:1,state:s},a.set(o,i)}}},M:function(e,t){Bd.M(e,t);var n=qd;if(n&&e){var r=Ze(n).hoistableScripts,a=Yd(e),o=r.get(a);o||((o=n.querySelector(Xd(a)))||(e=f({src:e,async:!0,type:"module"},t),(t=Wd.get(a))&&th(e,t),et(o=n.createElement("script")),fd(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(a,o))}}};var qd="undefined"===typeof document?null:document;function Vd(e,t,n){var r=qd;if(r&&"string"===typeof t&&t){var a=yt(t);a='link[rel="'+e+'"][href="'+a+'"]',"string"===typeof n&&(a+='[crossorigin="'+n+'"]'),Hd.has(a)||(Hd.add(a),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(a)&&(fd(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}}function $d(e,t,n,r){var a,o,s,l,c=(c=$.current)?Ud(c):null;if(!c)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Kd(n.href),(r=(n=Ze(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Kd(n.href);var u=Ze(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Gd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),Wd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Wd.set(e,n),u||(a=c,o=e,s=n,l=d.state,a.querySelector('link[rel="preload"][as="style"]['+o+"]")?l.loading=1:(o=a.createElement("link"),l.preload=o,o.addEventListener("load",function(){return l.loading|=1}),o.addEventListener("error",function(){return l.loading|=2}),fd(o,"link",s),et(o),a.head.appendChild(o))))),t&&null===r)throw Error(i(528,""));return d}if(t&&null!==r)throw Error(i(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Yd(n),(r=(n=Ze(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Kd(e){return'href="'+yt(e)+'"'}function Gd(e){return'link[rel="stylesheet"]['+e+"]"}function Qd(e){return f({},e,{"data-precedence":e.precedence,precedence:null})}function Yd(e){return'[src="'+yt(e)+'"]'}function Xd(e){return"script[async]"+e}function Jd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+yt(n.href)+'"]');if(r)return t.instance=r,et(r),r;var a=f({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return et(r=(e.ownerDocument||e).createElement("style")),fd(r,"style",a),Zd(r,n.precedence,e),t.instance=r;case"stylesheet":a=Kd(n.href);var o=e.querySelector(Gd(a));if(o)return t.state.loading|=4,t.instance=o,et(o),o;r=Qd(n),(a=Wd.get(a))&&eh(r,a),et(o=(e.ownerDocument||e).createElement("link"));var s=o;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),fd(o,"link",r),t.state.loading|=4,Zd(o,n.precedence,e),t.instance=o;case"script":return o=Yd(n.src),(a=e.querySelector(Xd(o)))?(t.instance=a,et(a),a):(r=n,(a=Wd.get(o))&&th(r=f({},n),a),et(a=(e=e.ownerDocument||e).createElement("script")),fd(a,"link",r),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(i(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Zd(r,n.precedence,e));return t.instance}function Zd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=r.length?r[r.length-1]:null,o=a,i=0;i<r.length;i++){var s=r[i];if(s.dataset.precedence===t)o=s;else if(o!==a)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function eh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function th(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var nh=null;function rh(e,t,n){if(null===nh){var r=new Map,a=nh=new Map;a.set(n,r)}else(r=(a=nh).get(n))||(r=new Map,a.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var o=n[a];if(!(o[Ge]||o[He]||"link"===e&&"stylesheet"===o.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==o.namespaceURI){var i=o.getAttribute(t)||"";i=e+i;var s=r.get(i);s?s.push(o):r.set(i,[o])}}return r}function ah(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function oh(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var ih=0;function sh(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)ch(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var lh=null;function ch(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,lh=new Map,t.forEach(uh,e),lh=null,sh.call(e))}function uh(e,t){if(!(4&t.state.loading)){var n=lh.get(e);if(n)var r=n.get(null);else{n=new Map,lh.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<a.length;o++){var i=a[o];"LINK"!==i.nodeName&&"not all"===i.getAttribute("media")||(n.set(i.dataset.precedence,i),r=i)}r&&n.set(null,r)}i=(a=t.instance).getAttribute("data-precedence"),(o=n.get(i)||r)===r&&n.set(null,a),n.set(i,a),this.count++,r=sh.bind(this),a.addEventListener("load",r),a.addEventListener("error",r),o?o.parentNode.insertBefore(a,o.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(a,e.firstChild),t.state.loading|=4}}var dh={$$typeof:x,Provider:null,Consumer:null,_currentValue:A,_currentValue2:A,_threadCount:0};function hh(e,t,n,r,a,o,i,s,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pe(0),this.hiddenUpdates=Pe(null),this.identifierPrefix=r,this.onUncaughtError=a,this.onCaughtError=o,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function fh(e,t,n,r,a,o,i,s,l,c,u,d){return e=new hh(e,t,n,i,l,c,u,d,s),t=1,!0===o&&(t|=24),o=zr(3,null,null,t),e.current=o,o.stateNode=e,(t=Fa()).refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:r,isDehydrated:n,cache:t},yo(o),e}function ph(e){return e?e=Ar:Ar}function mh(e,t,n,r,a,o){a=ph(a),null===r.context?r.context=a:r.pendingContext=a,(r=bo(t)).payload={element:n},null!==(o=void 0===o?null:o)&&(r.callback=o),null!==(n=_o(e,r,t))&&(Qc(n,0,t),xo(n,e,t))}function gh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function yh(e,t){gh(e,t),(e=e.alternate)&&gh(e,t)}function vh(e){if(13===e.tag||31===e.tag){var t=Lr(e,67108864);null!==t&&Qc(t,0,67108864),yh(e,67108864)}}function bh(e){if(13===e.tag||31===e.tag){var t=Kc(),n=Lr(e,t=Ae(t));null!==n&&Qc(n,0,t),yh(e,t)}}var _h=!0;function xh(e,t,n,r){var a=O.T;O.T=null;var o=M.p;try{M.p=2,kh(e,t,n,r)}finally{M.p=o,O.T=a}}function wh(e,t,n,r){var a=O.T;O.T=null;var o=M.p;try{M.p=8,kh(e,t,n,r)}finally{M.p=o,O.T=a}}function kh(e,t,n,r){if(_h){var a=Ch(r);if(null===a)nd(e,t,r,Sh,n),Ah(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return jh=Dh(jh,e,t,n,r,a),!0;case"dragenter":return Rh=Dh(Rh,e,t,n,r,a),!0;case"mouseover":return Ph=Dh(Ph,e,t,n,r,a),!0;case"pointerover":var o=a.pointerId;return Ih.set(o,Dh(Ih.get(o)||null,e,t,n,r,a)),!0;case"gotpointercapture":return o=a.pointerId,Lh.set(o,Dh(Lh.get(o)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Ah(e,r),4&t&&-1<Mh.indexOf(e)){for(;null!==a;){var o=Xe(a);if(null!==o)switch(o.tag){case 3:if((o=o.stateNode).current.memoizedState.isDehydrated){var i=Ee(o.pendingLanes);if(0!==i){var s=o;for(s.pendingLanes|=2,s.entangledLanes|=2;i;){var l=1<<31-_e(i);s.entanglements[1]|=l,i&=~l}Au(o),0===(6&pc)&&(Mc=le()+500,Du(0,!1))}}break;case 31:case 13:null!==(s=Lr(o,2))&&Qc(s,0,2),eu(),yh(o,2)}if(null===(o=Ch(r))&&nd(e,t,r,Sh,n),o===a)break;a=o}null!==a&&r.stopPropagation()}else nd(e,t,r,null,n)}}function Ch(e){return Eh(e=Ot(e))}var Sh=null;function Eh(e){if(Sh=null,null!==(e=Ye(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(31===n){if(null!==(e=u(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Sh=e,null}function Nh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ue:return 2;case de:return 8;case he:case fe:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Th=!1,jh=null,Rh=null,Ph=null,Ih=new Map,Lh=new Map,Oh=[],Mh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ah(e,t){switch(e){case"focusin":case"focusout":jh=null;break;case"dragenter":case"dragleave":Rh=null;break;case"mouseover":case"mouseout":Ph=null;break;case"pointerover":case"pointerout":Ih.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lh.delete(t.pointerId)}}function Dh(e,t,n,r,a,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[a]},null!==t&&(null!==(t=Xe(t))&&vh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function zh(e){var t=Ye(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void Fe(e.priority,function(){bh(n)})}else if(31===t){if(null!==(t=u(n)))return e.blockedOn=t,void Fe(e.priority,function(){bh(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Fh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ch(e.nativeEvent);if(null!==n)return null!==(t=Xe(n))&&vh(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Lt=r,n.target.dispatchEvent(r),Lt=null,t.shift()}return!0}function Wh(e,t,n){Fh(e)&&n.delete(t)}function Hh(){Th=!1,null!==jh&&Fh(jh)&&(jh=null),null!==Rh&&Fh(Rh)&&(Rh=null),null!==Ph&&Fh(Ph)&&(Ph=null),Ih.forEach(Wh),Lh.forEach(Wh)}function Uh(e,t){e.blockedOn===t&&(e.blockedOn=null,Th||(Th=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Hh)))}var Bh=null;function qh(e){Bh!==e&&(Bh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Bh===e&&(Bh=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],a=e[t+2];if("function"!==typeof r){if(null===Eh(r||n))continue;break}var o=Xe(n);null!==o&&(e.splice(t,3),t-=3,ns(o,{pending:!0,data:a,method:n.method,action:r},r,a))}}))}function Vh(e){function t(t){return Uh(t,e)}null!==jh&&Uh(jh,e),null!==Rh&&Uh(Rh,e),null!==Ph&&Uh(Ph,e),Ih.forEach(t),Lh.forEach(t);for(var n=0;n<Oh.length;n++){var r=Oh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Oh.length&&null===(n=Oh[0]).blockedOn;)zh(n),null===n.blockedOn&&Oh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var a=n[r],o=n[r+1],i=a[Ue]||null;if("function"===typeof o)i||qh(n);else if(i){var s=null;if(o&&o.hasAttribute("formAction")){if(a=o,i=o[Ue]||null)s=i.formAction;else if(null!==Eh(a))continue}else s=i.action;"function"===typeof s?n[r+1]=s:(n.splice(r,3),r-=3),qh(n)}}}function $h(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return a=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==a&&(a(),a=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var r=!1,a=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==a&&(a(),a=null)}}}function Kh(e){this._internalRoot=e}function Gh(e){this._internalRoot=e}Gh.prototype.render=Kh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));mh(t.current,Kc(),e,t,null,null)},Gh.prototype.unmount=Kh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;mh(e.current,2,null,e,null,null),eu(),t[Be]=null}},Gh.prototype.unstable_scheduleHydration=function(e){if(e){var t=ze();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Oh.length&&0!==t&&t<Oh[n].priority;n++);Oh.splice(n,0,e),0===n&&zh(e)}};var Qh=a.version;if("19.2.3"!==Qh)throw Error(i(527,Qh,"19.2.3"));M.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(r=a.return)){n=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return d(a),e;if(o===r)return d(a),t;o=o.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=o;else{for(var s=!1,c=a.child;c;){if(c===n){s=!0,n=a,r=o;break}if(c===r){s=!0,r=a,n=o;break}c=c.sibling}if(!s){for(c=o.child;c;){if(c===n){s=!0,n=o,r=a;break}if(c===r){s=!0,r=o,n=a;break}c=c.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?h(e):null)?null:e.stateNode};var Yh={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.3"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Xh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xh.isDisabled&&Xh.supportsFiber)try{ye=Xh.inject(Yh),ve=Xh}catch(Zh){}}t.createRoot=function(e,t){if(!s(e))throw Error(i(299));var n=!1,r="",a=Ss,o=Es,l=Ns;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(a=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=fh(e,1,!1,null,0,n,r,null,a,o,l,$h),e[Be]=t.current,ed(e),new Kh(t)},t.hydrateRoot=function(e,t,n){if(!s(e))throw Error(i(299));var r=!1,a="",o=Ss,l=Es,c=Ns,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onUncaughtError&&(o=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.formState&&(u=n.formState)),(t=fh(e,1,!0,t,0,r,a,u,o,l,c,$h)).context=ph(null),n=t.current,(a=bo(r=Ae(r=Kc()))).callback=null,_o(n,a,r),n=r,t.current.lanes=n,Ie(t,n),Au(t),e[Be]=t.current,ed(e),new Gh(t)},t.version="19.2.3"},43(e,t,n){e.exports=n(288)},237(e,t,n){e.exports=n(365)},288(e,t){var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),p=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,y={};function v(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||m}function b(){}function _(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||m}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=v.prototype;var x=_.prototype=new b;x.constructor=_,g(x,v.prototype),x.isPureReactComponent=!0;var w=Array.isArray;function k(){}var C={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function E(e,t,r){var a=r.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==a?a:null,props:r}}function N(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function j(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function R(e,t,a,o,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(s){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return R((u=e._init)(e._payload),t,a,o,i)}}if(u)return i=i(e),u=""===o?"."+j(e,0):o,w(i)?(a="",null!=u&&(a=u.replace(T,"$&/")+"/"),R(i,t,a,"",function(e){return e})):null!=i&&(N(i)&&(l=i,c=a+(null==i.key||e&&e.key===i.key?"":(""+i.key).replace(T,"$&/")+"/")+u,i=E(l.type,c,l.props)),t.push(i)),1;u=0;var d,f=""===o?".":o+":";if(w(e))for(var m=0;m<e.length;m++)u+=R(o=e[m],t,a,s=f+j(o,m),i);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=p&&d[p]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(o=e.next()).done;)u+=R(o=o.value,t,a,s=f+j(o,m++),i);else if("object"===s){if("function"===typeof e.then)return R(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(k,k):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,a,o,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function P(e,t,n){if(null==e)return e;var r=[],a=0;return R(e,r,"","",function(e){return t.call(n,e,a++)}),r}function I(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var L="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},O={map:P,forEach:function(e,t,n){P(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!N(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=f,t.Children=O,t.Component=v,t.Fragment=a,t.Profiler=i,t.PureComponent=_,t.StrictMode=o,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return C.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=g({},e.props),a=e.key;if(null!=t)for(o in void 0!==t.key&&(a=""+t.key),t)!S.call(t,o)||"key"===o||"__self"===o||"__source"===o||"ref"===o&&void 0===t.ref||(r[o]=t[o]);var o=arguments.length-2;if(1===o)r.children=n;else if(1<o){for(var i=Array(o),s=0;s<o;s++)i[s]=arguments[s+2];r.children=i}return E(e.type,a,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},t.createElement=function(e,t,n){var r,a={},o=null;if(null!=t)for(r in void 0!==t.key&&(o=""+t.key),t)S.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(a[r]=t[r]);var i=arguments.length-2;if(1===i)a.children=n;else if(1<i){for(var s=Array(i),l=0;l<i;l++)s[l]=arguments[l+2];a.children=s}if(e&&e.defaultProps)for(r in i=e.defaultProps)void 0===a[r]&&(a[r]=i[r]);return E(e,o,a)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=N,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=C.T,n={};C.T=n;try{var r=e(),a=C.S;null!==a&&a(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(k,L)}catch(qi){L(qi)}finally{null!==t&&null!==n.types&&(t.types=n.types),C.T=t}},t.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},t.use=function(e){return C.H.use(e)},t.useActionState=function(e,t,n){return C.H.useActionState(e,t,n)},t.useCallback=function(e,t){return C.H.useCallback(e,t)},t.useContext=function(e){return C.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return C.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return C.H.useEffect(e,t)},t.useEffectEvent=function(e){return C.H.useEffectEvent(e)},t.useId=function(){return C.H.useId()},t.useImperativeHandle=function(e,t,n){return C.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return C.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return C.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return C.H.useMemo(e,t)},t.useOptimistic=function(e,t){return C.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return C.H.useReducer(e,t,n)},t.useRef=function(e){return C.H.useRef(e)},t.useState=function(e){return C.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return C.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return C.H.useTransition()},t.version="19.2.3"},365(e,t,n){var r=n(43);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=r.useSyncExternalStore,i=r.useRef,s=r.useEffect,l=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,u){var d=i(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=l(function(){function e(e){if(!s){if(s=!0,o=e,e=r(e),void 0!==u&&h.hasValue){var t=h.value;if(u(t,e))return i=t}return i=e}if(t=i,a(o,e))return t;var n=r(e);return void 0!==u&&u(t,n)?(o=e,t):(o=e,i=n)}var o,i,s=!1,l=void 0===n?null:n;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]},[t,n,r,u]);var f=o(e,d[0],d[1]);return s(function(){h.hasValue=!0,h.value=f},[f]),c(f),f}},391(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579(e,t,n){e.exports=n(799)},672(e,t,n){var r=n(43);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var i={d:{f:o,r:function(){throw Error(a(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},s=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(a(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=i.p;try{if(l.T=null,i.p=2,e)return e()}finally{l.T=t,i.p=n,i.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,i.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&i.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),a="string"===typeof t.integrity?t.integrity:void 0,o="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?i.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:o}):"script"===n&&i.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:o,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);i.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&i.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);i.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);i.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else i.d.m(e)},t.requestFormReset=function(e){i.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.2.3"},799(e,t){var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(e,t,r){var a=null;if(void 0!==r&&(a=""+r),void 0!==t.key&&(a=""+t.key),"key"in t)for(var o in r={},t)"key"!==o&&(r[o]=t[o]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:a,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=a,t.jsxs=a},853(e,t,n){e.exports=n(896)},896(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<o(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,i=a>>>1;r<i;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>o(l,n))c<a&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<a&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,x(e),!m)if(null!==r(c))m=!0,C||(C=!0,k());else{var t=r(u);null!==t&&I(w,t.startTime-e)}}var k,C=!1,S=-1,E=5,N=-1;function T(){return!!y||!(t.unstable_now()-N<E)}function j(){if(y=!1,C){var e=t.unstable_now();N=e;var n=!0;try{e:{m=!1,g&&(g=!1,b(S),S=-1),p=!0;var o=f;try{t:{for(x(e),h=r(c);null!==h&&!(h.expirationTime>e&&T());){var i=h.callback;if("function"===typeof i){h.callback=null,f=h.priorityLevel;var s=i(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof s){h.callback=s,x(e),n=!0;break t}h===r(c)&&a(c),x(e)}else a(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&I(w,l.startTime-e),n=!1}}break e}finally{h=null,f=o,p=!1}n=void 0}}finally{n?k():C=!1}}}if("function"===typeof _)k=function(){_(j)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,P=R.port2;R.port1.onmessage=j,k=function(){P.postMessage(null)}}else k=function(){v(j,0)};function I(e,n){S=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,a,o){var i=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?i+o:i:o=i,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>i?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(b(S),S=-1):g=!0,I(w,o-i))):(e.sortIndex=s,n(c,e),m||p||(m=!0,C||(C=!0,k()))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},950(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var i={};e=e||[null,t({}),t([]),t(t)];for(var s=2&a&&r;("object"==typeof s||"function"==typeof s)&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach(e=>i[e]=()=>r[e]);return i.default=()=>r,n.d(o,i),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r=n(43),a=n.t(r,2),o=n(391);function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}function c(e,t,n){return(t=l(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){c(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const h=["sri"],f=["page"],p=["page","matches"],m=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition","unstable_defaultShouldRevalidate"],g=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],y=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition","unstable_defaultShouldRevalidate"];var v="popstate";function b(){return E(function(e,t){let{pathname:n="/",search:r="",hash:a=""}=S(e.location.hash.substring(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),k("",{pathname:n,search:r,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:C(t))},function(e,t){x("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push(".concat(JSON.stringify(t),")"))},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function _(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function x(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function w(e,t){return{usr:e.state,key:e.key,idx:t}}function k(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return d(d({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?S(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function C(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function S(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function E(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:a=document.defaultView,v5Compat:o=!1}=r,i=a.history,s="POP",l=null,c=u();function u(){return(i.state||{idx:null}).idx}function h(){s="POP";let e=u(),t=null==e?null:e-c;c=e,l&&l({action:s,location:p.location,delta:t})}function f(e){return N(e)}null==c&&(c=0,i.replaceState(d(d({},i.state),{},{idx:c}),""));let p={get action(){return s},get location(){return e(a,i)},listen(e){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(v,h),l=e,()=>{a.removeEventListener(v,h),l=null}},createHref:e=>t(a,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){s="PUSH";let r=k(p.location,e,t);n&&n(r,e),c=u()+1;let d=w(r,c),h=p.createHref(r);try{i.pushState(d,"",h)}catch(qi){if(qi instanceof DOMException&&"DataCloneError"===qi.name)throw qi;a.location.assign(h)}o&&l&&l({action:s,location:p.location,delta:1})},replace:function(e,t){s="REPLACE";let r=k(p.location,e,t);n&&n(r,e),c=u();let a=w(r,c),d=p.createHref(r);i.replaceState(a,"",d),o&&l&&l({action:s,location:p.location,delta:0})},go:e=>i.go(e)};return p}function N(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),_(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:C(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function T(e,t){return j(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function j(e,t,n,r){let a=q(("string"===typeof t?S(t):t).pathname||"/",n);if(null==a)return null;let o=R(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(o);let i=null;for(let s=0;null==i&&s<o.length;++s){let e=B(a);i=W(o[s],e,r)}return i}function R(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=function(e,o){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a,s=arguments.length>3?arguments[3]:void 0,l={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:o,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(r)&&i)return;_(l.relativePath.startsWith(r),'Absolute route path "'.concat(l.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),l.relativePath=l.relativePath.slice(r.length)}let c=J([r,l.relativePath]),u=n.concat(l);e.children&&e.children.length>0&&(_(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(c,'".')),R(e.children,t,u,c,i)),(null!=e.path||e.index)&&t.push({path:c,score:F(c,e.index),routesMeta:u})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of P(e.path))o(e,t,!0,r);else o(e,t)}),t}function P(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return a?[o,""]:[o];let i=P(r.join("/")),s=[];return s.push(...i.map(e=>""===e?o:[o,e].join("/"))),a&&s.push(...i),s.map(t=>e.startsWith("/")&&""===t?"/":t)}var I=/^:[\w-]+$/,L=3,O=2,M=1,A=10,D=-2,z=e=>"*"===e;function F(e,t){let n=e.split("/"),r=n.length;return n.some(z)&&(r+=D),t&&(r+=O),n.filter(e=>!z(e)).reduce((e,t)=>e+(I.test(t)?L:""===t?M:A),r)}function W(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,a={},o="/",i=[];for(let s=0;s<r.length;++s){let e=r[s],l=s===r.length-1,c="/"===o?t:t.slice(o.length)||"/",u=H({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=H({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(a,u.params),i.push({params:a,pathname:J([o,u.pathname]),pathnameBase:Z(J([o,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(o=J([o,u.pathnameBase]))}return i}function H(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=U(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let o=a[0],i=o.replace(/(.)\/+$/,"$1"),s=a.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:a}=t;if("*"===r){let e=s[n]||"";i=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:o,pathnameBase:i,pattern:e}}function U(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];x("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function B(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(qi){return x(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(qi,").")),e}}function q(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}var V=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$=e=>V.test(e);function K(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}function G(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function Q(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function Y(e){let t=Q(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function X(e,t,n){let r,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=S(e):(r=d({},e),_(!r.pathname||!r.pathname.includes("?"),G("?","pathname","search",r)),_(!r.pathname||!r.pathname.includes("#"),G("#","pathname","hash",r)),_(!r.search||!r.search.includes("#"),G("#","search","hash",r)));let o,i=""===e||""===r.pathname,s=i?"/":r.pathname;if(null==s)o=n;else{let e=t.length-1;if(!a&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=function(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:r,search:a="",hash:o=""}="string"===typeof e?S(e):e;if(r)if($(r))t=r;else{if(r.includes("//")){let e=r;r=r.replace(/\/\/+/g,"/"),x(!1,"Pathnames cannot have embedded double slashes - normalizing ".concat(e," -> ").concat(r))}t=r.startsWith("/")?K(r.substring(1),"/"):K(r,n)}else t=n;return{pathname:t,search:ee(a),hash:te(o)}}(r,o),c=s&&"/"!==s&&s.endsWith("/"),u=(i||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}var J=e=>e.join("/").replace(/\/\/+/g,"/"),Z=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ee=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",te=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";var ne=class{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function re(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}function ae(e){return e.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var oe="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;function ie(e,t){let n=e;if("string"!==typeof n||!V.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,a=!1;if(oe)try{let e=new URL(window.location.href),r=n.startsWith("//")?new URL(e.protocol+n):new URL(n),o=q(r.pathname,t);r.origin===e.origin&&null!=o?n=o+r.search+r.hash:a=!0}catch(o){x(!1,'<Link to="'.concat(n,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}return{absoluteURL:r,isExternal:a,to:n}}Symbol("Uninstrumented");Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var se=["POST","PUT","PATCH","DELETE"],le=(new Set(se),["GET",...se]);new Set(le),Symbol("ResetLoaderData");var ce=r.createContext(null);ce.displayName="DataRouter";var ue=r.createContext(null);ue.displayName="DataRouterState";var de=r.createContext(!1);function he(){return r.useContext(de)}var fe=r.createContext({isTransitioning:!1});fe.displayName="ViewTransition";var pe=r.createContext(new Map);pe.displayName="Fetchers";var me=r.createContext(null);me.displayName="Await";var ge=r.createContext(null);ge.displayName="Navigation";var ye=r.createContext(null);ye.displayName="Location";var ve=r.createContext({outlet:null,matches:[],isDataRoute:!1});ve.displayName="Route";var be=r.createContext(null);be.displayName="RouteError";var _e="REACT_ROUTER_ERROR";function xe(){return null!=r.useContext(ye)}function we(){return _(xe(),"useLocation() may be used only in the context of a <Router> component."),r.useContext(ye).location}var ke="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ce(e){r.useContext(ge).static||r.useLayoutEffect(e)}function Se(){let{isDataRoute:e}=r.useContext(ve);return e?function(){let{router:e}=Ae("useNavigate"),t=ze("useNavigate"),n=r.useRef(!1);Ce(()=>{n.current=!0});let a=r.useCallback(async function(r){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};x(n.current,ke),n.current&&("number"===typeof r?await e.navigate(r):await e.navigate(r,d({fromRouteId:t},a)))},[e,t]);return a}():function(){_(xe(),"useNavigate() may be used only in the context of a <Router> component.");let e=r.useContext(ce),{basename:t,navigator:n}=r.useContext(ge),{matches:a}=r.useContext(ve),{pathname:o}=we(),i=JSON.stringify(Y(a)),s=r.useRef(!1);Ce(()=>{s.current=!0});let l=r.useCallback(function(r){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(x(s.current,ke),!s.current)return;if("number"===typeof r)return void n.go(r);let l=X(r,JSON.parse(i),o,"path"===a.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:J([t,l.pathname])),(a.replace?n.replace:n.push)(l,a.state,a)},[t,n,i,o,e]);return l}()}r.createContext(null);function Ee(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=r.useContext(ve),{pathname:a}=we(),o=JSON.stringify(Y(n));return r.useMemo(()=>X(e,JSON.parse(o),a,"path"===t),[e,o,a,t])}function Ne(e,t,n,a,o){_(xe(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=r.useContext(ge),{matches:s}=r.useContext(ve),l=s[s.length-1],c=l?l.params:{},u=l?l.pathname:"/",h=l?l.pathnameBase:"/",f=l&&l.route;{let e=f&&f.path||"";He(u,!f||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(u,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let p,m=we();if(t){var g;let e="string"===typeof t?S(t):t;_("/"===h||(null===(g=e.pathname)||void 0===g?void 0:g.startsWith(h)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(h,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),p=e}else p=m;let y=p.pathname||"/",v=y;if("/"!==h){let e=h.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=T(e,{pathname:v});x(f||null!=b,'No routes matched location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" ')),x(null==b||void 0!==b[b.length-1].route.element||void 0!==b[b.length-1].route.Component||void 0!==b[b.length-1].route.lazy,'Matched leaf route at location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let w=Oe(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:J([h,i.encodeLocation?i.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:J([h,i.encodeLocation?i.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),s,n,a,o);return t&&w?r.createElement(ye.Provider,{value:{location:d({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:"POP"}},w):w}function Te(){let e=Fe(),t=re(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},i={padding:"2px 4px",backgroundColor:a},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=r.createElement(r.Fragment,null,r.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",r.createElement("code",{style:i},"ErrorBoundary")," or"," ",r.createElement("code",{style:i},"errorElement")," prop on your route.")),r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:o},n):null,s)}var je=r.createElement(Te,null),Re=class extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&"object"===typeof e&&e&&"digest"in e&&"string"===typeof e.digest){const t=function(e){if(e.startsWith("".concat(_e,":").concat("ROUTE_ERROR_RESPONSE",":{")))try{let t=JSON.parse(e.slice(40));if("object"===typeof t&&t&&"number"===typeof t.status&&"string"===typeof t.statusText)return new ne(t.status,t.statusText,t.data)}catch(t){}}(e.digest);t&&(e=t)}let t=void 0!==e?r.createElement(ve.Provider,{value:this.props.routeContext},r.createElement(be.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?r.createElement(Ie,{error:e},t):t}};Re.contextType=de;var Pe=new WeakMap;function Ie(e){let{children:t,error:n}=e,{basename:a}=r.useContext(ge);if("object"===typeof n&&n&&"digest"in n&&"string"===typeof n.digest){let e=function(e){if(e.startsWith("".concat(_e,":").concat("REDIRECT",":{")))try{let t=JSON.parse(e.slice(28));if("object"===typeof t&&t&&"number"===typeof t.status&&"string"===typeof t.statusText&&"string"===typeof t.location&&"boolean"===typeof t.reloadDocument&&"boolean"===typeof t.replace)return t}catch(t){}}(n.digest);if(e){let t=Pe.get(n);if(t)throw t;let o=ie(e.location,a);if(oe&&!Pe.get(n)){if(!o.isExternal&&!e.reloadDocument){const t=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:e.replace}));throw Pe.set(n,t),t}window.location.href=o.absoluteURL||o.to}return r.createElement("meta",{httpEquiv:"refresh",content:"0;url=".concat(o.absoluteURL||o.to)})}}return t}function Le(e){let{routeContext:t,match:n,children:a}=e,o=r.useContext(ce);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(ve.Provider,{value:t},a)}function Oe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let o=e,i=null===n||void 0===n?void 0:n.errors;if(null!=i){let e=o.findIndex(e=>e.route.id&&void 0!==(null===i||void 0===i?void 0:i[e.route.id]));_(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(i).join(","))),o=o.slice(0,Math.min(o.length,e+1))}let s=!1,l=-1;if(n)for(let r=0;r<o.length;r++){let e=o[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=r),e.route.id){let{loaderData:t,errors:r}=n,a=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||a){s=!0,o=l>=0?o.slice(0,l+1):[o[0]];break}}}let c=n&&a?(e,t)=>{var r,o;a(e,{location:n.location,params:null!==(r=null===(o=n.matches)||void 0===o||null===(o=o[0])||void 0===o?void 0:o.params)&&void 0!==r?r:{},unstable_pattern:ae(n.matches),errorInfo:t})}:void 0;return o.reduceRight((e,a,u)=>{let d,h=!1,f=null,p=null;n&&(d=i&&a.route.id?i[a.route.id]:void 0,f=a.route.errorElement||je,s&&(l<0&&0===u?(He("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,p=null):l===u&&(h=!0,p=a.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,u+1)),g=()=>{let t;return t=d?f:h?p:a.route.Component?r.createElement(a.route.Component,null):a.route.element?a.route.element:e,r.createElement(Le,{match:a,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(a.route.ErrorBoundary||a.route.errorElement||0===u)?r.createElement(Re,{location:n.location,revalidation:n.revalidation,component:f,error:d,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0},onError:c}):g()},null)}function Me(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Ae(e){let t=r.useContext(ce);return _(t,Me(e)),t}function De(e){let t=r.useContext(ue);return _(t,Me(e)),t}function ze(e){let t=function(e){let t=r.useContext(ve);return _(t,Me(e)),t}(e),n=t.matches[t.matches.length-1];return _(n.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),n.route.id}function Fe(){var e;let t=r.useContext(be),n=De("useRouteError"),a=ze("useRouteError");return void 0!==t?t:null===(e=n.errors)||void 0===e?void 0:e[a]}var We={};function He(e,t,n){t||We[e]||(We[e]=!0,x(!1,n))}var Ue={};function Be(e,t){e||Ue[t]||(Ue[t]=!0,console.warn(t))}a.useOptimistic;r.memo(function(e){let{routes:t,future:n,state:r,onError:a}=e;return Ne(t,void 0,r,a,n)});function qe(e){let{to:t,replace:n,state:a,relative:o}=e;_(xe(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=r.useContext(ge);x(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=r.useContext(ve),{pathname:l}=we(),c=Se(),u=X(t,Y(s),l,"path"===o),d=JSON.stringify(u);return r.useEffect(()=>{c(JSON.parse(d),{replace:n,state:a,relative:o})},[c,d,o,n,a]),null}function Ve(e){_(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function $e(e){let{basename:t="/",children:n=null,location:a,navigationType:o="POP",navigator:i,static:s=!1,unstable_useTransitions:l}=e;_(!xe(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),u=r.useMemo(()=>({basename:c,navigator:i,static:s,unstable_useTransitions:l,future:{}}),[c,i,s,l]);"string"===typeof a&&(a=S(a));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:m="default"}=a,g=r.useMemo(()=>{let e=q(d,c);return null==e?null:{location:{pathname:e,search:h,hash:f,state:p,key:m},navigationType:o}},[c,d,h,f,p,m,o]);return x(null!=g,'<Router basename="'.concat(c,'"> is not able to match the URL "').concat(d).concat(h).concat(f,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==g?null:r.createElement(ge.Provider,{value:u},r.createElement(ye.Provider,{children:n,value:g}))}function Ke(e){let{children:t,location:n}=e;return Ne(Ge(t),n)}r.Component;function Ge(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return r.Children.forEach(e,(e,a)=>{if(!r.isValidElement(e))return;let o=[...t,a];if(e.type===r.Fragment)return void n.push.apply(n,Ge(e.props.children,o));_(e.type===Ve,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),_(!e.props.index||!e.props.children,"An index route cannot have child routes.");let i={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=Ge(e.props.children,o)),n.push(i)}),n}var Qe="get",Ye="application/x-www-form-urlencoded";function Xe(e){return"undefined"!==typeof HTMLElement&&e instanceof HTMLElement}var Je=null;var Ze=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function et(e){return null==e||Ze.has(e)?e:(x(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Ye,'"')),null)}function tt(e,t){let n,r,a,o,i;if(Xe(s=e)&&"form"===s.tagName.toLowerCase()){let i=e.getAttribute("action");r=i?q(i,t):null,n=e.getAttribute("method")||Qe,a=et(e.getAttribute("enctype"))||Ye,o=new FormData(e)}else if(function(e){return Xe(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Xe(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let i=e.form;if(null==i)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let s=e.getAttribute("formaction")||i.getAttribute("action");if(r=s?q(s,t):null,n=e.getAttribute("formmethod")||i.getAttribute("method")||Qe,a=et(e.getAttribute("formenctype"))||et(i.getAttribute("enctype"))||Ye,o=new FormData(i,e),!function(){if(null===Je)try{new FormData(document.createElement("form"),0),Je=!1}catch(e){Je=!0}return Je}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";o.append("".concat(e,"x"),"0"),o.append("".concat(e,"y"),"0")}else t&&o.append(t,r)}}else{if(Xe(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Qe,r=null,a=Ye,i=e}var s;return o&&"text/plain"===a&&(i=o,o=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:o,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function nt(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function rt(e,t,n){let r="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname="_root.".concat(n):t&&"/"===q(r.pathname,t)?r.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(n):r.pathname="".concat(r.pathname.replace(/\/$/,""),".").concat(n),r}async function at(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(qi){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(qi),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ot(e){return null!=e&&"string"===typeof e.page}function it(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function st(e,t,n,r,a,o){let i=(e,t)=>!n[t]||e.route.id!==n[t].route.id,s=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===o?t.filter((e,t)=>i(e,t)||s(e,t)):"data"===o?t.filter((t,o)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(i(t,o)||s(t,o))return!0;if(t.route.shouldRevalidate){var c;let r=t.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0}):[]}function lt(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let a=[r.module];return r.clientActionModule&&(a=a.concat(r.clientActionModule)),r.clientLoaderModule&&(a=a.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(a=a.concat(r.hydrateFallbackModule)),r.imports&&(a=a.concat(r.imports)),a}).flat(1),[...new Set(r)];var r}function ct(e,t){let n=new Set,r=new Set(t);return e.reduce((e,a)=>{if(t&&!ot(a)&&"script"===a.as&&a.href&&r.has(a.href))return e;let o=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(a));return n.has(o)||(n.add(o),e.push({key:o,link:a})),e},[])}function ut(e,t){return"lazy"===e.mode&&!0===t}function dt(){let e=r.useContext(ce);return nt(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function ht(){let e=r.useContext(ue);return nt(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var ft=r.createContext(void 0);function pt(){let e=r.useContext(ft);return nt(e,"You must render this element inside a <HydratedRouter> element"),e}function mt(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function gt(e,t,n){if(n&&!_t)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}ft.displayName="FrameworkContext";function yt(e){let{page:t}=e,n=i(e,f),{router:a}=dt(),o=r.useMemo(()=>T(a.routes,t,a.basename),[a.routes,t,a.basename]);return o?r.createElement(bt,d({page:t,matches:o},n)):null}function vt(e){let{manifest:t,routeModules:n}=pt(),[a,o]=r.useState([]);return r.useEffect(()=>{let r=!1;return async function(e,t,n){return ct((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await at(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(it).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?d(d({},e),{},{rel:"prefetch",as:"style"}):d(d({},e),{},{rel:"prefetch"})))}(e,t,n).then(e=>{r||o(e)}),()=>{r=!0}},[e,t,n]),a}function bt(e){let{page:t,matches:n}=e,a=i(e,p),o=we(),{manifest:s,routeModules:l}=pt(),{basename:c}=dt(),{loaderData:u,matches:h}=ht(),f=r.useMemo(()=>st(t,n,h,s,o,"data"),[t,n,h,s,o]),m=r.useMemo(()=>st(t,n,h,s,o,"assets"),[t,n,h,s,o]),g=r.useMemo(()=>{if(t===o.pathname+o.search+o.hash)return[];let e=new Set,r=!1;if(n.forEach(t=>{var n;let a=s.routes[t.route.id];a&&a.hasLoader&&(!f.some(e=>e.route.id===t.route.id)&&t.route.id in u&&null!==(n=l[t.route.id])&&void 0!==n&&n.shouldRevalidate||a.hasClientLoader?r=!0:e.add(t.route.id))}),0===e.size)return[];let a=rt(t,c,"data");return r&&e.size>0&&a.searchParams.set("_routes",n.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[a.pathname+a.search]},[c,u,o,s,f,n,t,l]),y=r.useMemo(()=>lt(m,s),[m,s]),v=vt(m);return r.createElement(r.Fragment,null,g.map(e=>r.createElement("link",d({key:e,rel:"prefetch",as:"fetch",href:e},a))),y.map(e=>r.createElement("link",d({key:e,rel:"modulepreload",href:e},a))),v.map(e=>{let{key:t,link:n}=e;return r.createElement("link",d({key:t,nonce:a.nonce},n))}))}var _t=!1;function xt(e){let{manifest:t,serverHandoffString:n,isSpaMode:a,renderMeta:o,routeDiscovery:s,ssr:l}=pt(),{router:c,static:u,staticContext:f}=dt(),{matches:p}=ht(),m=he(),g=ut(s,l);o&&(o.didRenderScripts=!0);let y=gt(p,null,a);r.useEffect(()=>{_t=!0},[]);let v=r.useMemo(()=>{var a;if(m)return null;let o=f?"window.__reactRouterContext = ".concat(n,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",s=u?"".concat(null!==(a=t.hmr)&&void 0!==a&&a.runtime?"import ".concat(JSON.stringify(t.hmr.runtime),";"):"").concat(g?"":"import ".concat(JSON.stringify(t.url)),";\n").concat(y.map((e,n)=>{let r="route".concat(n),a=t.routes[e.route.id];nt(a,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:o,clientLoaderModule:i,clientMiddlewareModule:s,hydrateFallbackModule:l,module:c}=a,u=[...o?[{module:o,varName:"".concat(r,"_clientAction")}]:[],...i?[{module:i,varName:"".concat(r,"_clientLoader")}]:[],...s?[{module:s,varName:"".concat(r,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(r,"_HydrateFallback")}]:[],{module:c,varName:"".concat(r,"_main")}];return 1===u.length?"import * as ".concat(r," from ").concat(JSON.stringify(c),";"):[u.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(r," = {").concat(u.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(g?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,r=i(e,h),a=new Set(t.state.matches.map(e=>e.route.id)),o=t.state.location.pathname.split("/").filter(Boolean),s=["/"];for(o.pop();o.length>0;)s.push("/".concat(o.join("/"))),o.pop();s.forEach(e=>{let n=T(t.routes,e,t.basename);n&&n.forEach(e=>a.add(e.route.id))});let l=[...a].reduce((e,t)=>Object.assign(e,{[t]:r.routes[t]}),{});return d(d({},r),{},{routes:l,sri:!!n||void 0})}(t,c),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(y.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(t.entry.module),");"):" ";return r.createElement(r.Fragment,null,r.createElement("script",d(d({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:o},type:void 0})),r.createElement("script",d(d({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:s},type:"module",async:!0})))},[]),b=_t||m?[]:(_=t.entry.imports.concat(lt(y,t,{includeHydrateFallback:!0})),[...new Set(_)]);var _;let x="object"===typeof t.sri?t.sri:{};return Be(!m,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),_t||m?null:r.createElement(r.Fragment,null,"object"===typeof t.sri?r.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:x})}}):null,g?null:r.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:x[t.url],suppressHydrationWarning:!0}),r.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:x[t.entry.module],suppressHydrationWarning:!0}),b.map(t=>r.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:x[t],suppressHydrationWarning:!0})),v)}function wt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}r.Component;function kt(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let a,o=r.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(re(t))return r.createElement(Ct,{title:"Unhandled Thrown Response!"},r.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),o);if(t instanceof Error)a=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);a=new Error(e)}return r.createElement(Ct,{title:"Application Error!",isOutsideRemixApp:n},r.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),r.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},a.stack),o)}function Ct(e){var t;let{title:n,renderScripts:a,isOutsideRemixApp:o,children:i}=e,{routeModules:s}=pt();return null!==(t=s.root)&&void 0!==t&&t.Layout&&!o?i:r.createElement("html",{lang:"en"},r.createElement("head",null,r.createElement("meta",{charSet:"utf-8"}),r.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),r.createElement("title",null,n)),r.createElement("body",null,r.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},i,a?r.createElement(xt,null):null)))}var St="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{St&&(window.__reactRouterVersion="7.11.0")}catch(cp){}function Et(e){let{basename:t,children:n,unstable_useTransitions:a,window:o}=e,i=r.useRef();null==i.current&&(i.current=b({window:o,v5Compat:!0}));let s=i.current,[l,c]=r.useState({action:s.action,location:s.location}),u=r.useCallback(e=>{!1===a?c(e):r.startTransition(()=>c(e))},[a]);return r.useLayoutEffect(()=>s.listen(u),[s,u]),r.createElement($e,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:s,unstable_useTransitions:a})}var Nt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tt=r.forwardRef(function(e,t){let{onClick:n,discover:a="render",prefetch:o="none",relative:s,reloadDocument:l,replace:c,state:u,target:h,to:f,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:y}=e,v=i(e,m),{basename:b,unstable_useTransitions:x}=r.useContext(ge),w="string"===typeof f&&Nt.test(f),k=ie(f,b);f=k.to;let S=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_(xe(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=r.useContext(ge),{hash:o,pathname:i,search:s}=Ee(e,{relative:t}),l=i;return"/"!==n&&(l="/"===i?n:J([n,i])),a.createHref({pathname:l,search:s,hash:o})}(f,{relative:s}),[E,N,T]=function(e,t){let n=r.useContext(ft),[a,o]=r.useState(!1),[i,s]=r.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=t,f=r.useRef(null);r.useEffect(()=>{if("render"===e&&s(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{s(e.isIntersecting)})},{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}},[e]),r.useEffect(()=>{if(a){let e=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(e)}}},[a]);let p=()=>{o(!0)},m=()=>{o(!1),s(!1)};return n?"intent"!==e?[i,f,{}]:[i,f,{onFocus:mt(l,p),onBlur:mt(c,m),onMouseEnter:mt(u,p),onMouseLeave:mt(d,m),onTouchStart:mt(h,p)}]:[!1,f,{}]}(o,v),j=function(e){let{target:t,replace:n,state:a,preventScrollReset:o,relative:i,viewTransition:s,unstable_defaultShouldRevalidate:l,unstable_useTransitions:c}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=Se(),d=we(),h=Ee(e,{relative:i});return r.useCallback(f=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(f,t)){f.preventDefault();let t=void 0!==n?n:C(d)===C(h),p=()=>u(e,{replace:t,state:a,preventScrollReset:o,relative:i,viewTransition:s,unstable_defaultShouldRevalidate:l});c?r.startTransition(()=>p()):p()}},[d,u,h,n,a,t,e,o,i,s,l,c])}(f,{replace:c,state:u,target:h,preventScrollReset:p,relative:s,viewTransition:g,unstable_defaultShouldRevalidate:y,unstable_useTransitions:x});let R=r.createElement("a",d(d(d({},v),T),{},{href:k.absoluteURL||S,onClick:k.isExternal||l?n:function(e){n&&n(e),e.defaultPrevented||j(e)},ref:wt(t,N),target:h,"data-discover":w||"render"!==a?void 0:"true"}));return E&&!w?r.createElement(r.Fragment,null,R,r.createElement(yt,{page:S})):R});Tt.displayName="Link";var jt=r.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:a=!1,className:o="",end:s=!1,style:l,to:c,viewTransition:u,children:h}=e,f=i(e,g),p=Ee(c,{relative:f.relative}),m=we(),y=r.useContext(ue),{navigator:v,basename:b}=r.useContext(ge),x=null!=y&&function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.useContext(fe);_(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=It("useViewTransitionState"),o=Ee(e,{relative:t});if(!n.isTransitioning)return!1;let i=q(n.currentLocation.pathname,a)||n.currentLocation.pathname,s=q(n.nextLocation.pathname,a)||n.nextLocation.pathname;return null!=H(o.pathname,s)||null!=H(o.pathname,i)}(p)&&!0===u,w=v.encodeLocation?v.encodeLocation(p).pathname:p.pathname,k=m.pathname,C=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;a||(k=k.toLowerCase(),C=C?C.toLowerCase():null,w=w.toLowerCase()),C&&b&&(C=q(C,b)||C);const S="/"!==w&&w.endsWith("/")?w.length-1:w.length;let E,N=k===w||!s&&k.startsWith(w)&&"/"===k.charAt(S),T=null!=C&&(C===w||!s&&C.startsWith(w)&&"/"===C.charAt(w.length)),j={isActive:N,isPending:T,isTransitioning:x},R=N?n:void 0;E="function"===typeof o?o(j):[o,N?"active":null,T?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let P="function"===typeof l?l(j):l;return r.createElement(Tt,d(d({},f),{},{"aria-current":R,className:E,ref:t,style:P,to:c,viewTransition:u}),"function"===typeof h?h(j):h)});jt.displayName="NavLink";var Rt=r.forwardRef((e,t)=>{let{discover:n="render",fetcherKey:a,navigate:o,reloadDocument:s,replace:l,state:c,method:u=Qe,action:h,onSubmit:f,relative:p,preventScrollReset:m,viewTransition:g,unstable_defaultShouldRevalidate:v}=e,b=i(e,y),{unstable_useTransitions:x}=r.useContext(ge),w=Mt(),k=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=r.useContext(ge),a=r.useContext(ve);_(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),i=d({},Ee(e||".",{relative:t})),s=we();if(null==e){i.search=s.search;let e=new URLSearchParams(i.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();i.search=n?"?".concat(n):""}}e&&"."!==e||!o.route.index||(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(i.pathname="/"===i.pathname?n:J([n,i.pathname]));return C(i)}(h,{relative:p}),S="get"===u.toLowerCase()?"get":"post",E="string"===typeof h&&Nt.test(h);return r.createElement("form",d(d({ref:t,method:S,action:k,onSubmit:s?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||u,i=()=>w(t||e.currentTarget,{fetcherKey:a,method:n,navigate:o,replace:l,state:c,relative:p,preventScrollReset:m,viewTransition:g,unstable_defaultShouldRevalidate:v});x&&!1!==o?r.startTransition(()=>i()):i()}},b),{},{"data-discover":E||"render"!==n?void 0:"true"}))});function Pt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function It(e){let t=r.useContext(ce);return _(t,Pt(e)),t}Rt.displayName="Form";var Lt=0,Ot=()=>"__".concat(String(++Lt),"__");function Mt(){let{router:e}=It("useSubmit"),{basename:t}=r.useContext(ge),n=ze("useRouteId"),a=e.fetch,o=e.navigate;return r.useCallback(async function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:i,method:s,encType:l,formData:c,body:u}=tt(e,t);if(!1===r.navigate){let e=r.fetcherKey||Ot();await a(e,n,r.action||i,{unstable_defaultShouldRevalidate:r.unstable_defaultShouldRevalidate,preventScrollReset:r.preventScrollReset,formData:c,body:u,formMethod:r.method||s,formEncType:r.encType||l,flushSync:r.flushSync})}else await o(r.action||i,{unstable_defaultShouldRevalidate:r.unstable_defaultShouldRevalidate,preventScrollReset:r.preventScrollReset,formData:c,body:u,formMethod:r.method||s,formEncType:r.encType||l,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[a,o,t,n])}var At=n(579);const Dt=()=>{const e=e=>{let{top:t,left:n,delay:r}=e;return(0,At.jsx)("div",{className:"absolute w-1.5 h-1.5 rounded-full bg-white/60 animate-float-particle",style:{top:t,left:n,animationDelay:"".concat(r,"s")}})};return(0,At.jsxs)("div",{className:"relative w-1/2 h-screen flex flex-col items-center justify-center bg-gradient-to-br from-blue-400 to-primary overflow-hidden",children:[(0,At.jsx)("div",{className:"absolute w-[300px] h-[300px] rounded-full border-2 border-white/20 -top-[100px] -left-[100px] opacity-10"}),(0,At.jsx)("div",{className:"absolute w-[250px] h-[250px] rounded-full border-2 border-white/20 -bottom-[80px] -right-[80px] opacity-12"}),(0,At.jsx)("div",{className:"absolute w-[180px] h-[180px] rounded-full border-2 border-white/20 top-[20%] left-[10%] opacity-8"}),(0,At.jsx)("div",{className:"absolute w-[200px] h-[200px] rounded-full border-2 border-white/20 bottom-[25%] right-[15%] opacity-9"}),(0,At.jsx)(e,{top:"25%",left:"20%",delay:0}),(0,At.jsx)(e,{top:"45%",left:"80%",delay:1}),(0,At.jsx)(e,{top:"65%",left:"15%",delay:2}),(0,At.jsx)(e,{top:"75%",left:"70%",delay:1.5}),(0,At.jsxs)("div",{className:"relative text-center z-10 max-w-[500px] px-10",children:[(0,At.jsx)("h1",{className:"text-[56px] font-semibold text-white m-0 mb-4 tracking-tight",children:"Xin Ch\xe0o B\u1ea1n!"}),(0,At.jsx)("p",{className:"text-xl text-white/95 m-0 leading-relaxed",children:"Nh\u1eadp th\xf4ng tin c\xe1 nh\xe2n c\u1ee7a b\u1ea1n v\xe0 b\u1eaft \u0111\u1ea7u chat tr\xean kh\u1eafp th\u1ebf gi\u1edbi!"})]})]})};var zt=n(237);function Ft(e){e()}var Wt={notify(){},get:()=>[]};function Ht(e,t){let n,r=Wt,a=0,o=!1;function i(){c.onStateChange&&c.onStateChange()}function s(){a++,n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Ft(()=>{let t=e;for(;t;)t.callback(),t=t.next})},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let r=!0;const a=t={callback:n,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){r&&null!==e&&(r=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}())}function l(){a--,n&&0===a&&(n(),n=void 0,r.clear(),r=Wt)}const c={addNestedSub:function(e){s();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),l())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return o},trySubscribe:function(){o||(o=!0,s())},tryUnsubscribe:function(){o&&(o=!1,l())},getListeners:()=>r};return c}var Ut=(()=>!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement))(),Bt=(()=>"undefined"!==typeof navigator&&"ReactNative"===navigator.product)(),qt=(()=>Ut||Bt?r.useLayoutEffect:r.useEffect)();Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var Vt=Symbol.for("react-redux-context"),$t="undefined"!==typeof globalThis?globalThis:{};function Kt(){var e;if(!r.createContext)return{};const t=null!==(e=$t[Vt])&&void 0!==e?e:$t[Vt]=new Map;let n=t.get(r.createContext);return n||(n=r.createContext(null),t.set(r.createContext,n)),n}var Gt=Kt();var Qt=function(e){const{children:t,context:n,serverState:a,store:o}=e,i=r.useMemo(()=>{const e=Ht(o);return{store:o,subscription:e,getServerState:a?()=>a:void 0}},[o,a]),s=r.useMemo(()=>o.getState(),[o]);qt(()=>{const{subscription:e}=i;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==o.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}},[i,s]);const l=n||Gt;return r.createElement(l.Provider,{value:i},t)};function Yt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt;return function(){return r.useContext(e)}}var Xt=Yt();function Jt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt;const t=e===Gt?Xt:Yt(e),n=()=>{const{store:e}=t();return e};return Object.assign(n,{withTypes:()=>n}),n}var Zt=Jt();function en(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt;const t=e===Gt?Zt:Jt(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var tn=en(),nn=(e,t)=>e===t;function rn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt;const t=e===Gt?Xt:Yt(e),n=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{equalityFn:a=nn}="function"===typeof n?{equalityFn:n}:n;const o=t(),{store:i,subscription:s,getServerState:l}=o,c=(r.useRef(!0),r.useCallback({[e.name]:t=>e(t)}[e.name],[e])),u=(0,zt.useSyncExternalStoreWithSelector)(s.addNestedSub,i.getState,l||i.getState,c,a);return r.useDebugValue(u),u};return Object.assign(n,{withTypes:()=>n}),n}var an=rn();const on=tn.withTypes(),sn=an.withTypes();var ln=Symbol.for("immer-nothing"),cn=Symbol.for("immer-draftable"),un=Symbol.for("immer-state");function dn(e){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var hn=Object,fn=hn.getPrototypeOf,pn="constructor",mn="prototype",gn="configurable",yn="enumerable",vn="writable",bn="value",_n=e=>!!e&&!!e[un];function xn(e){var t;return!!e&&(Cn(e)||Rn(e)||!!e[cn]||!(null===(t=e[pn])||void 0===t||!t[cn])||Pn(e)||In(e))}var wn=hn[mn][pn].toString(),kn=new WeakMap;function Cn(e){if(!e||!Ln(e))return!1;const t=fn(e);if(null===t||t===hn[mn])return!0;const n=hn.hasOwnProperty.call(t,pn)&&t[pn];if(n===Object)return!0;if(!On(n))return!1;let r=kn.get(n);return void 0===r&&(r=Function.toString.call(n),kn.set(n,r)),r===wn}function Sn(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(0===En(e)){(n?Reflect.ownKeys(e):hn.keys(e)).forEach(n=>{t(n,e[n],e)})}else e.forEach((n,r)=>t(r,n,e))}function En(e){const t=e[un];return t?t.type_:Rn(e)?1:Pn(e)?2:In(e)?3:0}var Nn=function(e,t){return 2===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:En(e))?e.has(t):hn[mn].hasOwnProperty.call(e,t)},Tn=function(e,t){return 2===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:En(e))?e.get(t):e[t]},jn=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:En(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n};var Rn=Array.isArray,Pn=e=>e instanceof Map,In=e=>e instanceof Set,Ln=e=>"object"===typeof e,On=e=>"function"===typeof e,Mn=e=>"boolean"===typeof e;var An=e=>e.copy_||e.base_,Dn=e=>e.modified_?e.copy_:e.base_;function zn(e,t){if(Pn(e))return new Map(e);if(In(e))return new Set(e);if(Rn(e))return Array[mn].slice.call(e);const n=Cn(e);if(!0===t||"class_only"===t&&!n){const t=hn.getOwnPropertyDescriptors(e);delete t[un];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const a=n[r],o=t[a];!1===o[vn]&&(o[vn]=!0,o[gn]=!0),(o.get||o.set)&&(t[a]={[gn]:!0,[vn]:!0,[yn]:o[yn],[bn]:e[a]})}return hn.create(fn(e),t)}{const t=fn(e);if(null!==t&&n)return d({},e);const r=hn.create(t);return hn.assign(r,e)}}function Fn(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Hn(e)||_n(e)||!xn(e)||(En(e)>1&&hn.defineProperties(e,{set:Wn,add:Wn,clear:Wn,delete:Wn}),hn.freeze(e),t&&Sn(e,(e,t)=>{Fn(t,!0)},!1)),e}var Wn={[bn]:function(){dn(2)}};function Hn(e){return null===e||!Ln(e)||hn.isFrozen(e)}var Un="MapSet",Bn="Patches",qn="ArrayMethods",Vn={};function $n(e){const t=Vn[e];return t||dn(0),t}var Kn,Gn=e=>!!Vn[e];var Qn=()=>Kn;function Yn(e,t){t&&(e.patchPlugin_=$n(Bn),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Xn(e){Jn(e),e.drafts_.forEach(er),e.drafts_=null}function Jn(e){e===Kn&&(Kn=e.parent_)}var Zn=e=>Kn={drafts_:[],parent_:Kn,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Gn(Un)?$n(Un):void 0,arrayMethodsPlugin_:Gn(qn)?$n(qn):void 0};function er(e){const t=e[un];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function tr(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(void 0!==e&&e!==n){n[un].modified_&&(Xn(t),dn(4)),xn(e)&&(e=nr(t,e));const{patchPlugin_:r}=t;r&&r.generateReplacementPatches_(n[un].base_,e,t)}else e=nr(t,n);return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Fn(t,n)}(t,e,!0),Xn(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==ln?e:void 0}function nr(e,t){if(Hn(t))return t;const n=t[un];if(!n){return cr(t,e.handledSet_,e)}if(!ar(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:t}=n;if(t)for(;t.length>0;){t.pop()(e)}sr(n,e)}return n.copy_}function rr(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var ar=(e,t)=>e.scope_===t,or=[];function ir(e,t,n,r){var a;const o=An(e),i=e.type_;if(void 0!==r){if(Tn(o,r,i)===t)return void jn(o,r,n,i)}if(!e.draftLocations_){const t=e.draftLocations_=new Map;Sn(o,(e,n)=>{if(_n(n)){const r=t.get(n)||[];r.push(e),t.set(n,r)}})}const s=null!==(a=e.draftLocations_.get(t))&&void 0!==a?a:or;for(const l of s)jn(o,l,n,i)}function sr(e,t){var n,r;if(e.modified_&&!e.finalized_&&(3===e.type_||1===e.type_&&e.allIndicesReassigned_||(null!==(n=null===(r=e.assigned_)||void 0===r?void 0:r.size)&&void 0!==n?n:0)>0)){const{patchPlugin_:n}=t;if(n){const r=n.getPath(e);r&&n.generatePatches_(e,r,t)}rr(e)}}function lr(e,t,n){const{scope_:r}=e;if(_n(n)){const a=n[un];ar(a,r)&&a.callbacks_.push(function(){mr(e);const r=Dn(a);ir(e,n,r,t)})}else xn(n)&&e.callbacks_.push(function(){const a=An(e);var o;3===e.type_?a.has(n)&&cr(n,r.handledSet_,r):Tn(a,t,e.type_)===n&&r.drafts_.length>1&&!0===(null!==(o=e.assigned_.get(t))&&void 0!==o&&o)&&e.copy_&&cr(Tn(e.copy_,t,e.type_),r.handledSet_,r)})}function cr(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||_n(e)||t.has(e)||!xn(e)||Hn(e)||(t.add(e),Sn(e,(r,a)=>{if(_n(a)){const t=a[un];if(ar(t,n)){const n=Dn(t);jn(e,r,n,e.type_),rr(t)}}else xn(a)&&cr(a,t,n)})),e}var ur={get(e,t){if(t===un)return e;let n=e.scope_.arrayMethodsPlugin_;const r=1===e.type_&&"string"===typeof t;if(r&&null!==n&&void 0!==n&&n.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const a=An(e);if(!Nn(a,t,e.type_))return function(e,t,n){var r;const a=fr(t,n);return a?bn in a?a[bn]:null===(r=a.get)||void 0===r?void 0:r.call(e.draft_):void 0}(e,a,t);const o=a[t];if(e.finalized_||!xn(o))return o;if(r&&e.operationMethod&&null!==n&&void 0!==n&&n.isMutatingArrayMethod(e.operationMethod)&&function(e){const t=+e;return Number.isInteger(t)&&String(t)===e}(t))return o;if(o===hr(e.base_,t)){mr(e);const n=1===e.type_?+t:t,r=gr(e.scope_,o,e,n);return e.copy_[n]=r}return o},has:(e,t)=>t in An(e),ownKeys:e=>Reflect.ownKeys(An(e)),set(e,t,n){const r=fr(An(e),t);if(null!==r&&void 0!==r&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=hr(An(e),t),i=null===r||void 0===r?void 0:r[un];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(((a=n)===(o=r)?0!==a||1/a===1/o:a!==a&&o!==o)&&(void 0!==n||Nn(e.base_,t,e.type_)))return!0;mr(e),pr(e)}var a,o;return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),lr(e,t,n)),!0},deleteProperty:(e,t)=>(mr(e),void 0!==hr(e.base_,t)||t in e.base_?(e.assigned_.set(t,!1),pr(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=An(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{[vn]:!0,[gn]:1!==e.type_||"length"!==t,[yn]:r[yn],[bn]:n[t]}:r},defineProperty(){dn(11)},getPrototypeOf:e=>fn(e.base_),setPrototypeOf(){dn(12)}},dr={};for(let up in ur){let e=ur[up];dr[up]=function(){const t=arguments;return t[0]=t[0][0],e.apply(this,t)}}function hr(e,t){const n=e[un];return(n?An(n):e)[t]}function fr(e,t){if(!(t in e))return;let n=fn(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=fn(n)}}function pr(e){e.modified_||(e.modified_=!0,e.parent_&&pr(e.parent_))}function mr(e){e.copy_||(e.assigned_=new Map,e.copy_=zn(e.base_,e.scope_.immer_.useStrictShallowCopy_))}dr.deleteProperty=function(e,t){return dr.set.call(this,e,t,void 0)},dr.set=function(e,t,n){return ur.set.call(this,e[0],t,n,e[0])};function gr(e,t,n,r){var a,o;const[i,s]=Pn(t)?$n(Un).proxyMap_(t,n):In(t)?$n(Un).proxySet_(t,n):function(e,t){const n=Rn(e),r={type_:n?1:0,scope_:t?t.scope_:Qn(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=r,o=ur;n&&(a=[r],o=dr);const{revoke:i,proxy:s}=Proxy.revocable(a,o);return r.draft_=s,r.revoke_=i,[s,r]}(t,n);return(null!==(a=null===n||void 0===n?void 0:n.scope_)&&void 0!==a?a:Qn()).drafts_.push(i),s.callbacks_=null!==(o=null===n||void 0===n?void 0:n.callbacks_)&&void 0!==o?o:[],s.key_=r,n&&void 0!==r?function(e,t,n){e.callbacks_.push(function(r){var a,o;const i=t;if(!i||!ar(i,r))return;null===(a=r.mapSetPlugin_)||void 0===a||a.fixSetContents(i);const s=Dn(i);ir(e,null!==(o=i.draft_)&&void 0!==o?o:i,s,n),sr(i,r)})}(n,s,r):s.callbacks_.push(function(e){var t;null===(t=e.mapSetPlugin_)||void 0===t||t.fixSetContents(s);const{patchPlugin_:n}=e;s.modified_&&n&&n.generatePatches_(s,[],e)}),i}function yr(e){if(!xn(e)||Hn(e))return e;const t=e[un];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=zn(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=zn(e,!0);return Sn(n,(e,t)=>{jn(n,e,yr(t))},r),t&&(t.finalized_=!1),n}var vr=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(e,t,n)=>{if(On(e)&&!On(t)){const n=t;t=e;const r=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;for(var a=arguments.length,o=new Array(a>1?a-1:0),i=1;i<a;i++)o[i-1]=arguments[i];return r.produce(e,e=>t.call(this,e,...o))}}let r;if(On(t)||dn(6),void 0===n||On(n)||dn(7),xn(e)){const a=Zn(this),o=gr(a,e,void 0);let i=!0;try{r=t(o),i=!1}finally{i?Xn(a):Jn(a)}return Yn(a,n),tr(r,a)}if(!e||!Ln(e)){if(r=t(e),void 0===r&&(r=e),r===ln&&(r=void 0),this.autoFreeze_&&Fn(r,!0),n){const t=[],a=[];$n(Bn).generateReplacementPatches_(e,r,{patches_:t,inversePatches_:a}),n(t,a)}return r}dn(1)},this.produceWithPatches=(e,n)=>{if(On(e))return function(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];return t.produceWithPatches(n,t=>e(t,...a))};let r,a;return[this.produce(e,n,(e,t)=>{r=e,a=t}),r,a]},Mn(null===e||void 0===e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),Mn(null===e||void 0===e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),Mn(null===e||void 0===e?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){xn(e)||dn(8),_n(e)&&(e=function(e){_n(e)||dn(10);return yr(e)}(e));const t=Zn(this),n=gr(t,e,void 0);return n[un].isManual_=!0,Jn(t),n}finishDraft(e,t){const n=e&&e[un];n&&n.isManual_||dn(9);const{scope_:r}=n;return Yn(r,t),tr(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=$n(Bn).applyPatches_;return _n(e)?r(e,t):this.produce(e,e=>r(e,t))}},br=vr.produce;function _r(e){return"Minified Redux error #".concat(e,"; visit https://redux.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}var xr=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),wr=()=>Math.random().toString(36).substring(7).split("").join("."),kr={INIT:"@@redux/INIT".concat(wr()),REPLACE:"@@redux/REPLACE".concat(wr()),PROBE_UNKNOWN_ACTION:()=>"@@redux/PROBE_UNKNOWN_ACTION".concat(wr())};function Cr(e){if("object"!==typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function Sr(e,t,n){if("function"!==typeof e)throw new Error(_r(2));if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(_r(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(_r(1));return n(Sr)(e,t)}let r=e,a=t,o=new Map,i=o,s=0,l=!1;function c(){i===o&&(i=new Map,o.forEach((e,t)=>{i.set(t,e)}))}function u(){if(l)throw new Error(_r(3));return a}function d(e){if("function"!==typeof e)throw new Error(_r(4));if(l)throw new Error(_r(5));let t=!0;c();const n=s++;return i.set(n,e),function(){if(t){if(l)throw new Error(_r(6));t=!1,c(),i.delete(n),o=null}}}function h(e){if(!Cr(e))throw new Error(_r(7));if("undefined"===typeof e.type)throw new Error(_r(8));if("string"!==typeof e.type)throw new Error(_r(17));if(l)throw new Error(_r(9));try{l=!0,a=r(a,e)}finally{l=!1}return(o=i).forEach(e=>{e()}),e}h({type:kr.INIT});return{dispatch:h,subscribe:d,getState:u,replaceReducer:function(e){if("function"!==typeof e)throw new Error(_r(10));r=e,h({type:kr.REPLACE})},[xr]:function(){const e=d;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error(_r(11));function n(){const e=t;e.next&&e.next(u())}n();return{unsubscribe:e(n)}},[xr](){return this}}}}}function Er(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const r=t[o];0,"function"===typeof e[r]&&(n[r]=e[r])}const r=Object.keys(n);let a;try{!function(e){Object.keys(e).forEach(t=>{const n=e[t];if("undefined"===typeof n(void 0,{type:kr.INIT}))throw new Error(_r(12));if("undefined"===typeof n(void 0,{type:kr.PROBE_UNKNOWN_ACTION()}))throw new Error(_r(13))})}(n)}catch(cp){a=cp}return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(a)throw a;let o=!1;const i={};for(let a=0;a<r.length;a++){const s=r[a],l=n[s],c=e[s],u=l(c,t);if("undefined"===typeof u){t&&t.type;throw new Error(_r(14))}i[s]=u,o=o||u!==c}return o=o||r.length!==Object.keys(e).length,o?i:e}}function Nr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?e=>e:1===t.length?t[0]:t.reduce((e,t)=>function(){return e(t(...arguments))})}function Tr(e){return t=>{let{dispatch:n,getState:r}=t;return t=>a=>"function"===typeof a?a(n,r,e):t(a)}}var jr=Tr(),Rr=Tr;const Pr=["reducerPath"];var Ir="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?Nr:Nr.apply(null,arguments)},Lr=("undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__,e=>e&&"function"===typeof e.match);function Or(e,t){function n(){if(t){let n=t(...arguments);if(!n)throw new Error(da(0));return d(d({type:e,payload:n.payload},"meta"in n&&{meta:n.meta}),"error"in n&&{error:n.error})}return{type:e,payload:arguments.length<=0?void 0:arguments[0]}}return n.toString=()=>"".concat(e),n.type=e,n.match=t=>function(e){return Cr(e)&&"type"in e&&"string"===typeof e.type}(t)&&t.type===e,n}var Mr=class e extends Array{constructor(){super(...arguments),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return super.concat.apply(this,t)}prepend(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return 1===n.length&&Array.isArray(n[0])?new e(...n[0].concat(this)):new e(...n.concat(this))}};function Ar(e){return xn(e)?br(e,()=>{}):e}function Dr(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}var zr="RTK_autoBatch",Fr=e=>t=>{setTimeout(t,e)},Wr=e=>function(t){const{autoBatch:n=!0}=null!==t&&void 0!==t?t:{};let r=new Mr(e);return n&&r.push(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"raf"};return t=>function(){const n=t(...arguments);let r=!0,a=!1,o=!1;const i=new Set,s="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:Fr(10):"callback"===e.type?e.queueNotification:Fr(e.timeout),l=()=>{o=!1,a&&(a=!1,i.forEach(e=>e()))};return Object.assign({},n,{subscribe(e){const t=n.subscribe(()=>r&&e());return i.add(e),()=>{t(),i.delete(e)}},dispatch(e){try{var t;return r=!(null!==e&&void 0!==e&&null!==(t=e.meta)&&void 0!==t&&t[zr]),a=!r,a&&(o||(o=!0,s(l))),n.dispatch(e)}finally{r=!0}}})}}("object"===typeof n?n:void 0)),r};function Hr(e){const t={},n=[];let r;const a={addCase(e,n){const r="string"===typeof e?e:e.type;if(!r)throw new Error(da(28));if(r in t)throw new Error(da(29));return t[r]=n,a},addAsyncThunk:(e,r)=>(r.pending&&(t[e.pending.type]=r.pending),r.rejected&&(t[e.rejected.type]=r.rejected),r.fulfilled&&(t[e.fulfilled.type]=r.fulfilled),r.settled&&n.push({matcher:e.settled,reducer:r.settled}),a),addMatcher:(e,t)=>(n.push({matcher:e,reducer:t}),a),addDefaultCase:e=>(r=e,a)};return e(a),[t,n,r]}var Ur=(e,t)=>Lr(e)?e.match(t):e(t);function Br(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>t.some(t=>Ur(t,e))}var qr=function(){let e="",t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;for(;t--;)e+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return e},Vr=["name","message","stack","code"],$r=class{constructor(e,t){c(this,"_type",void 0),this.payload=e,this.meta=t}},Kr=class{constructor(e,t){c(this,"_type",void 0),this.payload=e,this.meta=t}},Gr=e=>{if("object"===typeof e&&null!==e){const t={};for(const n of Vr)"string"===typeof e[n]&&(t[n]=e[n]);return t}return{message:String(e)}},Qr="External signal was aborted",Yr=(()=>{function e(e,t,n){const r=Or(e+"/fulfilled",(e,t,n,r)=>({payload:e,meta:d(d({},r||{}),{},{arg:n,requestId:t,requestStatus:"fulfilled"})})),a=Or(e+"/pending",(e,t,n)=>({payload:void 0,meta:d(d({},n||{}),{},{arg:t,requestId:e,requestStatus:"pending"})})),o=Or(e+"/rejected",(e,t,r,a,o)=>({payload:a,error:(n&&n.serializeError||Gr)(e||"Rejected"),meta:d(d({},o||{}),{},{arg:r,requestId:t,rejectedWithValue:!!a,requestStatus:"rejected",aborted:"AbortError"===(null===e||void 0===e?void 0:e.name),condition:"ConditionError"===(null===e||void 0===e?void 0:e.name)})}));return Object.assign(function(e){let{signal:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(s,l,c)=>{const u=null!==n&&void 0!==n&&n.idGenerator?n.idGenerator(e):qr(),d=new AbortController;let h,f;function p(e){f=e,d.abort()}i&&(i.aborted?p(Qr):i.addEventListener("abort",()=>p(Qr),{once:!0}));const m=async function(){let i;try{var m,g;let o=null===n||void 0===n||null===(m=n.condition)||void 0===m?void 0:m.call(n,e,{getState:l,extra:c});if(null!==(y=o)&&"object"===typeof y&&"function"===typeof y.then&&(o=await o),!1===o||d.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const v=new Promise((e,t)=>{h=()=>{t({name:"AbortError",message:f||"Aborted"})},d.signal.addEventListener("abort",h,{once:!0})});s(a(u,e,null===n||void 0===n||null===(g=n.getPendingMeta)||void 0===g?void 0:g.call(n,{requestId:u,arg:e},{getState:l,extra:c}))),i=await Promise.race([v,Promise.resolve(t(e,{dispatch:s,getState:l,extra:c,requestId:u,signal:d.signal,abort:p,rejectWithValue:(e,t)=>new $r(e,t),fulfillWithValue:(e,t)=>new Kr(e,t)})).then(t=>{if(t instanceof $r)throw t;return t instanceof Kr?r(t.payload,u,e,t.meta):r(t,u,e)})])}catch(v){i=v instanceof $r?o(null,u,e,v.payload,v.meta):o(v,u,e)}finally{h&&d.signal.removeEventListener("abort",h)}var y;return n&&!n.dispatchConditionRejection&&o.match(i)&&i.meta.condition||s(i),i}();return Object.assign(m,{abort:p,requestId:u,arg:e,unwrap:()=>m.then(Xr)})}},{pending:a,rejected:o,fulfilled:r,settled:Br(o,r),typePrefix:e})}return e.withTypes=()=>e,e})();function Xr(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}var Jr=Symbol.for("rtk-slice-createasyncthunk");function Zr(e,t){return"".concat(e,"/").concat(t)}function ea(){var e;let{creators:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=null===t||void 0===t||null===(e=t.asyncThunk)||void 0===e?void 0:e[Jr];return function(e){const{name:t,reducerPath:r=t}=e;if(!t)throw new Error(da(11));const a=("function"===typeof e.reducers?e.reducers(function(){function e(e,t){return d({_reducerDefinitionType:"asyncThunk",payloadCreator:e},t)}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name](){return e(...arguments)}}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},o=Object.keys(a),s={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},l={addCase(e,t){const n="string"===typeof e?e:e.type;if(!n)throw new Error(da(12));if(n in s.sliceCaseReducersByType)throw new Error(da(13));return s.sliceCaseReducersByType[n]=t,l},addMatcher:(e,t)=>(s.sliceMatchers.push({matcher:e,reducer:t}),l),exposeAction:(e,t)=>(s.actionCreators[e]=t,l),exposeCaseReducer:(e,t)=>(s.sliceCaseReducersByName[e]=t,l)};function c(){const[t={},n=[],r]="function"===typeof e.extraReducers?Hr(e.extraReducers):[e.extraReducers],a=d(d({},t),s.sliceCaseReducersByType);return function(e,t){let n,[r,a,o]=Hr(t);if("function"===typeof e)n=()=>Ar(e());else{const t=Ar(e);n=()=>t}function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n(),t=arguments.length>1?arguments[1]:void 0,i=[r[t.type],...a.filter(e=>{let{matcher:n}=e;return n(t)}).map(e=>{let{reducer:t}=e;return t})];return 0===i.filter(e=>!!e).length&&(i=[o]),i.reduce((e,n)=>{if(n){if(_n(e)){const r=n(e,t);return void 0===r?e:r}if(xn(e))return br(e,e=>n(e,t));{const r=n(e,t);if(void 0===r){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}}return e},e)}return i.getInitialState=n,i}(e.initialState,e=>{for(let t in a)e.addCase(t,a[t]);for(let t of s.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of n)e.addMatcher(t.matcher,t.reducer);r&&e.addDefaultCase(r)})}o.forEach(r=>{const o=a[r],i={reducerName:r,type:Zr(t,r),createNotation:"function"===typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(o)?function(e,t,n){let r,a,{type:o,reducerName:i,createNotation:s}=e;if("reducer"in t){if(s&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(t))throw new Error(da(17));r=t.reducer,a=t.prepare}else r=t;n.addCase(o,r).exposeCaseReducer(i,r).exposeAction(i,a?Or(o,a):Or(o))}(i,o,l):function(e,t,n,r){let{type:a,reducerName:o}=e;if(!r)throw new Error(da(18));const{payloadCreator:i,fulfilled:s,pending:l,rejected:c,settled:u,options:d}=t,h=r(a,i,d);n.exposeAction(o,h),s&&n.addCase(h.fulfilled,s);l&&n.addCase(h.pending,l);c&&n.addCase(h.rejected,c);u&&n.addMatcher(h.settled,u);n.exposeCaseReducer(o,{fulfilled:s||ra,pending:l||ra,rejected:c||ra,settled:u||ra})}(i,o,l,n)});const u=e=>e,h=new Map,f=new WeakMap;let p;function m(e,t){return p||(p=c()),p(e,t)}function g(){return p||(p=c()),p.getInitialState()}function y(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function r(e){let a=e[t];return"undefined"===typeof a&&n&&(a=Dr(f,r,g)),a}function a(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;const r=Dr(h,n,()=>new WeakMap);return Dr(r,t,()=>{const r={};for(const[o,i]of Object.entries(null!==(a=e.selectors)&&void 0!==a?a:{})){var a;r[o]=ta(i,t,()=>Dr(f,t,g),n)}return r})}return{reducerPath:t,getSelectors:a,get selectors(){return a(r)},selectSlice:r}}const v=d(d({name:t,reducer:m,actions:s.actionCreators,caseReducers:s.sliceCaseReducersByName,getInitialState:g},y(r)),{},{injectInto(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reducerPath:n}=t,a=i(t,Pr);const o=null!==n&&void 0!==n?n:r;return e.inject({reducerPath:o,reducer:m},a),d(d({},v),y(o,!0))}});return v}}function ta(e,t,n,r){function a(a){let o=t(a);"undefined"===typeof o&&r&&(o=n());for(var i=arguments.length,s=new Array(i>1?i-1:0),l=1;l<i;l++)s[l-1]=arguments[l];return e(o,...s)}return a.unwrapped=e,a}var na=ea();function ra(){}var aa="listener",oa="completed",ia="cancelled";"task-".concat(ia),"task-".concat(oa),"".concat(aa,"-").concat(ia),"".concat(aa,"-").concat(oa);var{assign:sa}=Object,la="listenerMiddleware",ca=sa(Or("".concat(la,"/add")),{withTypes:()=>ca}),ua=("".concat(la,"/removeAll"),sa(Or("".concat(la,"/remove")),{withTypes:()=>ua}));Symbol.for("rtk-state-proxy-original");function da(e){return"Minified Redux Toolkit error #".concat(e,"; visit https://redux-toolkit.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}const ha=!1,fa=!1,pa="${JSCORE_VERSION}",ma=function(e,t){if(!e)throw ga(t)},ga=function(e){return new Error("Firebase Database ("+pa+") INTERNAL ASSERT FAILED: "+e)},ya=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let a=e.charCodeAt(r);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=63&a|128):55296===(64512&a)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++r)),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=63&a|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=63&a|128)}return t},va={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<e.length;a+=3){const t=e[a],o=a+1<e.length,i=o?e[a+1]:0,s=a+2<e.length,l=s?e[a+2]:0,c=t>>2,u=(3&t)<<4|i>>4;let d=(15&i)<<2|l>>6,h=63&l;s||(h=64,o||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ya(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const a=e[n++];if(a<128)t[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=e[n++];t[r++]=String.fromCharCode((31&a)<<6|63&o)}else if(a>239&&a<365){const o=((7&a)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],i=e[n++];t[r++]=String.fromCharCode((15&a)<<12|(63&o)<<6|63&i)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<e.length;){const t=n[e.charAt(a++)],o=a<e.length?n[e.charAt(a)]:0;++a;const i=a<e.length?n[e.charAt(a)]:64;++a;const s=a<e.length?n[e.charAt(a)]:64;if(++a,null==t||null==o||null==i||null==s)throw new ba;const l=t<<2|o>>4;if(r.push(l),64!==i){const e=o<<4&240|i>>2;if(r.push(e),64!==s){const e=i<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class ba extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _a=function(e){const t=ya(e);return va.encodeByteArray(t,!0)},xa=function(e){return _a(e).replace(/\./g,"")},wa=function(e){try{return va.decodeString(e,!0)}catch(cp){console.error("base64Decode failed: ",cp)}return null};function ka(e){return Ca(void 0,e)}function Ca(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&Sa(n)&&(e[n]=Ca(e[n],t[n]));return e}function Sa(e){return"__proto__"!==e}const Ea=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Na=()=>{try{return Ea()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/Chat_App_FE",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(cp){return}const t=e&&wa(e[1]);return t&&JSON.parse(t)})()}catch(cp){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(cp))}},Ta=e=>{const t=(e=>{var t;return null===(t=Na())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},ja=()=>{var e;return null===(e=Na())||void 0===e?void 0:e.config};class Ra{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function Pa(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}const Ia={};let La=!1;function Oa(e,t){if("undefined"===typeof window||"undefined"===typeof document||!Pa(window.location.host)||Ia[e]===t||Ia[e]||La)return;function n(e){return"__firebase__banner__".concat(e)}Ia[e]=t;const r="__firebase__banner",a=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(Ia))Ia[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function o(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{La=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function i(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),i=document.getElementById(t)||document.createElement("span"),s=n("learnmore"),l=document.getElementById(s)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,s);const n=o();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,i,l,n),document.body.appendChild(t)}a?(i.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',i.innerText="Preview backend running in this workspace."),i.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",i):i()}function Ma(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Aa(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ma())}function Da(){return!0===ha||!0===fa}class za extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,za.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fa.prototype.create)}}class Fa{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],a=r?function(e,t){return e.replace(Wa,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",o="".concat(this.serviceName,": ").concat(a," (").concat(n,").");return new za(n,o,t)}}const Wa=/\{\$([^}]+)}/g;function Ha(e){return JSON.parse(e)}function Ua(e){return JSON.stringify(e)}const Ba=function(e){let t={},n={},r={},a="";try{const o=e.split(".");t=Ha(wa(o[0])||""),n=Ha(wa(o[1])||""),a=o[2],r=n.d||{},delete n.d}catch(cp){}return{header:t,claims:n,data:r,signature:a}};function qa(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Va(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function $a(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ka(e,t,n){const r={};for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=t.call(n,e[a],a,e));return r}function Ga(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const a of n){if(!r.includes(a))return!1;const n=e[a],o=t[a];if(Qa(n)&&Qa(o)){if(!Ga(n,o))return!1}else if(n!==o)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function Qa(e){return null!==e&&"object"===typeof e}class Ya{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let u=0;u<16;u++)n[u]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let u=0;u<16;u++)n[u]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let u=16;u<80;u++){const e=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(e<<1|e>>>31)}let r,a,o=this.chain_[0],i=this.chain_[1],s=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(r=l^i&(s^l),a=1518500249):(r=i^s^l,a=1859775393):u<60?(r=i&s|l&(i|s),a=2400959708):(r=i^s^l,a=3395469782);const e=(o<<5|o>>>27)+r+c+a+n[u]&4294967295;c=l,l=s,s=4294967295&(i<<30|i>>>2),i=o,o=e}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const a=this.buf_;let o=this.inbuf_;for(;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(a[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(a),o=0;break}}else for(;r<t;)if(a[o]=e[r],++o,++r,o===this.blockSize){this.compress_(a),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}}function Xa(e,t){return"".concat(e," failed: ").concat(t," argument ")}const Ja=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function Za(e){return e&&e._delegate?e._delegate:e}class eo{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const to="[DEFAULT]";class no{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Ra;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(cp){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(cp){if(r)return null;throw cp}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:to})}catch(cp){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(cp){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:to;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:to;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:to;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[a,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(a)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),a=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;a.add(e),this.onInitCallbacks.set(r,a);const o=this.instances.get(r);return o&&e(o,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const a of n)try{a(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(a=t,a===to?void 0:a),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}var a;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:to;return this.component?this.component.multipleInstances?e:to:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ro{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new no(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const ao=[];var oo;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(oo||(oo={}));const io={debug:oo.DEBUG,verbose:oo.VERBOSE,info:oo.INFO,warn:oo.WARN,error:oo.ERROR,silent:oo.SILENT},so=oo.INFO,lo={[oo.DEBUG]:"log",[oo.VERBOSE]:"log",[oo.INFO]:"info",[oo.WARN]:"warn",[oo.ERROR]:"error"},co=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=lo[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var a=arguments.length,o=new Array(a>2?a-2:0),i=2;i<a;i++)o[i-2]=arguments[i];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class uo{constructor(e){this.name=e,this._logLevel=so,this._logHandler=co,this._userLogHandler=null,ao.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in oo))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?io[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,oo.DEBUG,...t),this._logHandler(this,oo.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,oo.VERBOSE,...t),this._logHandler(this,oo.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,oo.INFO,...t),this._logHandler(this,oo.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,oo.WARN,...t),this._logHandler(this,oo.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,oo.ERROR,...t),this._logHandler(this,oo.ERROR,...t)}}let ho,fo;const po=new WeakMap,mo=new WeakMap,go=new WeakMap,yo=new WeakMap,vo=new WeakMap;let bo={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return mo.get(e);if("objectStoreNames"===t)return e.objectStoreNames||go.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wo(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function _o(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(fo||(fo=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(ko(this),n),wo(po.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return wo(e.apply(ko(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];const o=e.call(ko(this),t,...r);return go.set(o,t.sort?t.sort():[t]),wo(o)}}function xo(e){return"function"===typeof e?_o(e):(e instanceof IDBTransaction&&function(e){if(mo.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",o),e.removeEventListener("abort",o)},a=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",a),e.addEventListener("error",o),e.addEventListener("abort",o)});mo.set(e,t)}(e),t=e,(ho||(ho=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,bo):e);var t}function wo(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",a),e.removeEventListener("error",o)},a=()=>{t(wo(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",a),e.addEventListener("error",o)});return t.then(t=>{t instanceof IDBCursor&&po.set(t,e)}).catch(()=>{}),vo.set(t,e),t}(e);if(yo.has(e))return yo.get(e);const t=xo(e);return t!==e&&(yo.set(e,t),vo.set(t,e)),t}const ko=e=>vo.get(e);const Co=["get","getKey","getAll","getAllKeys","count"],So=["put","add","delete","clear"],Eo=new Map;function No(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Eo.get(t))return Eo.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,a=So.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!a&&!Co.includes(n))return;const o=async function(e){const t=this.transaction(e,a?"readwrite":"readonly");let o=t.store;for(var i=arguments.length,s=new Array(i>1?i-1:0),l=1;l<i;l++)s[l-1]=arguments[l];return r&&(o=o.index(s.shift())),(await Promise.all([o[n](...s),a&&t.done]))[0]};return Eo.set(t,o),o}bo=(e=>d(d({},e),{},{get:(t,n,r)=>No(t,n)||e.get(t,n,r),has:(t,n)=>!!No(t,n)||e.has(t,n)}))(bo);class To{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const jo="@firebase/app",Ro="0.14.6",Po=new uo("@firebase/app"),Io="@firebase/app-compat",Lo="@firebase/analytics-compat",Oo="@firebase/analytics",Mo="@firebase/app-check-compat",Ao="@firebase/app-check",Do="@firebase/auth",zo="@firebase/auth-compat",Fo="@firebase/database",Wo="@firebase/data-connect",Ho="@firebase/database-compat",Uo="@firebase/functions",Bo="@firebase/functions-compat",qo="@firebase/installations",Vo="@firebase/installations-compat",$o="@firebase/messaging",Ko="@firebase/messaging-compat",Go="@firebase/performance",Qo="@firebase/performance-compat",Yo="@firebase/remote-config",Xo="@firebase/remote-config-compat",Jo="@firebase/storage",Zo="@firebase/storage-compat",ei="@firebase/firestore",ti="@firebase/ai",ni="@firebase/firestore-compat",ri="firebase",ai="[DEFAULT]",oi={[jo]:"fire-core",[Io]:"fire-core-compat",[Oo]:"fire-analytics",[Lo]:"fire-analytics-compat",[Ao]:"fire-app-check",[Mo]:"fire-app-check-compat",[Do]:"fire-auth",[zo]:"fire-auth-compat",[Fo]:"fire-rtdb",[Wo]:"fire-data-connect",[Ho]:"fire-rtdb-compat",[Uo]:"fire-fn",[Bo]:"fire-fn-compat",[qo]:"fire-iid",[Vo]:"fire-iid-compat",[$o]:"fire-fcm",[Ko]:"fire-fcm-compat",[Go]:"fire-perf",[Qo]:"fire-perf-compat",[Yo]:"fire-rc",[Xo]:"fire-rc-compat",[Jo]:"fire-gcs",[Zo]:"fire-gcs-compat",[ei]:"fire-fst",[ni]:"fire-fst-compat",[ti]:"fire-vertex","fire-js":"fire-js",[ri]:"fire-js-all"},ii=new Map,si=new Map,li=new Map;function ci(e,t){try{e.container.addComponent(t)}catch(cp){Po.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),cp)}}function ui(e){const t=e.name;if(li.has(t))return Po.debug("There were multiple attempts to register component ".concat(t,".")),!1;li.set(t,e);for(const n of ii.values())ci(n,e);for(const n of si.values())ci(n,e);return!0}function di(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const hi=new Fa("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class fi{constructor(e,t,n){this._isDeleted=!1,this._options=d({},e),this._config=d({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new eo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hi.create("app-deleted",{appName:this._name})}}function pi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=d({name:ai,automaticDataCollectionEnabled:!0},t),a=r.name;if("string"!==typeof a||!a)throw hi.create("bad-app-name",{appName:String(a)});if(n||(n=ja()),!n)throw hi.create("no-options");const o=ii.get(a);if(o){if(Ga(n,o.options)&&Ga(r,o.config))return o;throw hi.create("duplicate-app",{appName:a})}const i=new ro(a);for(const l of li.values())i.addComponent(l);const s=new fi(n,r,i);return ii.set(a,s),s}function mi(e,t,n){var r;let a=null!==(r=oi[e])&&void 0!==r?r:e;n&&(a+="-".concat(n));const o=a.match(/\s|\//),i=t.match(/\s|\//);if(o||i){const e=['Unable to register library "'.concat(a,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(a,'" contains illegal characters (whitespace or "/")')),o&&i&&e.push("and"),i&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Po.warn(e.join(" "))}ui(new eo("".concat(a,"-version"),()=>({library:a,version:t}),"VERSION"))}const gi="firebase-heartbeat-store";let yi=null;function vi(){return yi||(yi=function(e,t){let{blocked:n,upgrade:r,blocking:a,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=indexedDB.open(e,t),s=wo(i);return r&&i.addEventListener("upgradeneeded",e=>{r(wo(i.result),e.oldVersion,e.newVersion,wo(i.transaction),e)}),n&&i.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),s.then(e=>{o&&e.addEventListener("close",()=>o()),a&&e.addEventListener("versionchange",e=>a(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(gi)}catch(cp){console.warn(cp)}}}).catch(e=>{throw hi.create("idb-open",{originalErrorMessage:e.message})})),yi}async function bi(e,t){try{const n=(await vi()).transaction(gi,"readwrite"),r=n.objectStore(gi);await r.put(t,_i(e)),await n.done}catch(cp){if(cp instanceof za)Po.warn(cp.message);else{const t=hi.create("idb-set",{originalErrorMessage:null===cp||void 0===cp?void 0:cp.message});Po.warn(t.message)}}}function _i(e){return"".concat(e.name,"!").concat(e.options.appId)}class xi{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ki(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=wi();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(cp){Po.warn(cp)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=wi(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const a of e){const e=n.find(e=>e.agent===a.agent);if(e){if(e.dates.push(a.date),Ci(n)>t){e.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Ci(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),a=xa(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(cp){return Po.warn(cp),""}}}function wi(){return(new Date).toISOString().substring(0,10)}class ki{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"===typeof indexedDB}catch(cp){return!1}}()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var e;t((null===(e=a.error)||void 0===e?void 0:e.message)||"")}}catch(qi){t(qi)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await vi()).transaction(gi),n=await t.objectStore(gi).get(_i(e));return await t.done,n}catch(cp){if(cp instanceof za)Po.warn(cp.message);else{const t=hi.create("idb-get",{originalErrorMessage:null===cp||void 0===cp?void 0:cp.message});Po.warn(t.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return bi(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return bi(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Ci(e){return xa(JSON.stringify({version:2,heartbeats:e})).length}var Si;Si="",ui(new eo("platform-logger",e=>new To(e),"PRIVATE")),ui(new eo("heartbeat",e=>new xi(e),"PRIVATE")),mi(jo,Ro,Si),mi(jo,Ro,"esm2020"),mi("fire-js","");mi("firebase","12.7.0","app");const Ei="@firebase/database",Ni="1.1.0";let Ti="";function ji(e){Ti=e}class Ri{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ua(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Ha(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Pi{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return qa(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const Ii=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Ri(t)}}catch(cp){}return new Pi},Li=Ii("localStorage"),Oi=Ii("sessionStorage"),Mi=new uo("@firebase/database"),Ai=function(){let e=1;return function(){return e++}}(),Di=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let a=e.charCodeAt(r);if(a>=55296&&a<=56319){const t=a-55296;r++,ma(r<e.length,"Surrogate pair missing trail surrogate."),a=65536+(t<<10)+(e.charCodeAt(r)-56320)}a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=63&a|128):a<65536?(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=63&a|128):(t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=63&a|128)}return t}(e),n=new Ya;n.update(t);const r=n.digest();return va.encodeByteArray(r)},zi=function(){let e="";for(let t=0;t<arguments.length;t++){const n=t<0||arguments.length<=t?void 0:arguments[t];Array.isArray(n)||n&&"object"===typeof n&&"number"===typeof n.length?e+=zi.apply(null,n):e+="object"===typeof n?Ua(n):n,e+=" "}return e};let Fi=null,Wi=!0;const Hi=function(e,t){ma(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Mi.logLevel=oo.VERBOSE,Fi=Mi.log.bind(Mi),t&&Oi.set("logging_enabled",!0)):"function"===typeof e?Fi=e:(Fi=null,Oi.remove("logging_enabled"))},Ui=function(){if(!0===Wi&&(Wi=!1,null===Fi&&!0===Oi.get("logging_enabled")&&Hi(!0)),Fi){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=zi.apply(null,t);Fi(r)}},Bi=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Ui(e,...n)}},qi=function(){const e="FIREBASE INTERNAL ERROR: "+zi(...arguments);Mi.error(e)},Vi=function(){const e="FIREBASE FATAL ERROR: ".concat(zi(...arguments));throw Mi.error(e),new Error(e)},$i=function(){const e="FIREBASE WARNING: "+zi(...arguments);Mi.warn(e)},Ki=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Gi="[MIN_NAME]",Qi="[MAX_NAME]",Yi=function(e,t){if(e===t)return 0;if(e===Gi||t===Qi)return-1;if(t===Gi||e===Qi)return 1;{const n=as(e),r=as(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},Xi=function(e,t){return e===t?0:e<t?-1:1},Ji=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Ua(t))},Zi=function(e){if("object"!==typeof e||null===e)return Ua(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=Ua(t[r]),n+=":",n+=Zi(e[t[r]]);return n+="}",n},es=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let a=0;a<n;a+=t)a+t>n?r.push(e.substring(a,n)):r.push(e.substring(a,a+t));return r};function ts(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const ns=function(e){ma(!Ki(e),"Invalid JSON number");const t=1023;let n,r,a,o,i;0===e?(r=0,a=0,n=1/e===-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(o=Math.min(Math.floor(Math.log(e)/Math.LN2),t),r=o+t,a=Math.round(e*Math.pow(2,52-o)-Math.pow(2,52))):(r=0,a=Math.round(e/Math.pow(2,-1074))));const s=[];for(i=52;i;i-=1)s.push(a%2?1:0),a=Math.floor(a/2);for(i=11;i;i-=1)s.push(r%2?1:0),r=Math.floor(r/2);s.push(n?1:0),s.reverse();const l=s.join("");let c="";for(i=0;i<64;i+=8){let e=parseInt(l.substr(i,8),2).toString(16);1===e.length&&(e="0"+e),c+=e}return c.toLowerCase()};const rs=new RegExp("^-?(0*)\\d{1,10}$"),as=function(e){if(rs.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},os=function(e){try{e()}catch(cp){setTimeout(()=>{const t=cp.stack||"";throw $i("Exception was thrown by user callback.",t),cp},Math.floor(0))}},is=function(e,t){const n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n};class ss{constructor(e,t){var n;this.appCheckProvider=t,this.appName=e.name,null!==(n=e)&&void 0!==n&&void 0!==n.settings&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then(e=>this.appCheck=e)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,n)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(t=>t.addTokenListener(e))}notifyForInvalidToken(){$i('Provided AppCheck credentials for the app named "'.concat(this.appName,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}class ls{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(e=>this.auth_=e)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(e=>e&&"auth/token-not-initialized"===e.code?(Ui("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((t,n)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',$i(e)}}class cs{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}cs.OWNER="owner";const us="5",ds=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,hs="ac",fs="websocket",ps="long_polling";class ms{constructor(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",i=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null;this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=i,this.isUsingEmulator=s,this.emulatorOptions=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Li.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Li.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}function gs(e,t,n){let r;if(ma("string"===typeof t,"typeof type must == string"),ma("object"===typeof n,"typeof params must == object"),t===fs)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==ps)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const a=[];return ts(n,(e,t)=>{a.push(e+"="+t)}),r+a.join("&")}class ys{constructor(){this.counters_={}}incrementCounter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;qa(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return ka(this.counters_)}}const vs={},bs={};function _s(e){const t=e.toString();return vs[t]||(vs[t]=new ys),vs[t]}class xs{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&os(()=>{this.onMessage_(e[t])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const ws="start";class ks{constructor(e,t,n,r,a,o,i){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=a,this.transportSessionId=o,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Bi(e),this.stats_=_s(t),this.urlFn=e=>(this.appCheckToken&&(e[hs]=this.appCheckToken),gs(t,ps,e))}open(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new xs(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if(Da()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Cs(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[a,o,i,s,l]=t;if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,a===ws)n.id=o,n.password=i;else{if("close"!==a)throw new Error("Unrecognized command received: "+a);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,()=>{n.onClosed_()})):n.onClosed_()}},function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[a,o]=t;n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(a,o)},()=>{this.onClosed_()},this.urlFn);const e={};e[ws]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=us,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[hs]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&ds.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ks.forceAllow_=!0}static forceDisallow(){ks.forceDisallow_=!0}static isAvailable(){return!Da()&&(!!ks.forceAllow_||!ks.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Ua(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=_a(t),r=es(n,1840);for(let a=0;a<r.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[a]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(Da())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Ua(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Cs{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Da())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=Ai(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=Cs.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(cp){Ui("frame writing exception"),cp.stack&&Ui(cp.stack),Ui(cp)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Ui("No IE domain setting required")}catch(cp){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),n()})}addTag(e,t){Da()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{Ui("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(cp){}},Math.floor(1))}}let Ss=null;"undefined"!==typeof MozWebSocket?Ss=MozWebSocket:"undefined"!==typeof WebSocket&&(Ss=WebSocket);class Es{constructor(e,t,n,r,a,o,i){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Bi(this.connId),this.stats_=_s(t),this.connURL=Es.connectionURL_(t,o,i,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,a){const o={};return o.v=us,!Da()&&"undefined"!==typeof location&&location.hostname&&ds.test(location.hostname)&&(o.r="f"),t&&(o.s=t),n&&(o.ls=n),r&&(o[hs]=r),a&&(o.p=a),gs(e,fs,o)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Li.set("previous_websocket_failure",!0);try{let e;if(Da()){const t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":"Firebase/".concat(us,"/").concat(Ti,"/").concat(process.platform,"/").concat(t),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n={NODE_ENV:"production",PUBLIC_URL:"/Chat_App_FE",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},r=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;r&&(e.proxy={origin:r})}this.mySock=new Ss(this.connURL,[],e)}catch(cp){this.log_("Error instantiating WebSocket.");const t=cp.message||cp.data;return t&&this.log_(t),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){Es.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Ss&&!Es.forceDisallow_}static previouslyFailed(){return Li.isInMemoryStorage||!0===Li.get("previous_websocket_failure")}markConnectionHealthy(){Li.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=Ha(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ma(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=Ua(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=es(t,16384);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(cp){this.log_("Exception thrown from WebSocket.send():",cp.message||cp.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Es.responsesRequiredToBeHealthy=2,Es.healthyTimeout=3e4;class Ns{static get ALL_TRANSPORTS(){return[ks,Es]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=Es&&Es.isAvailable();let n=t&&!Es.previouslyFailed();if(e.webSocketOnly&&(t||$i("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[Es];else{const e=this.transports_=[];for(const t of Ns.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);Ns.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ns.globalTransportInitialized_=!1;class Ts{constructor(e,t,n,r,a,o,i,s,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=a,this.onMessage_=o,this.onReady_=i,this.onDisconnect_=s,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Bi("c:"+this.id+":"),this.transportManager_=new Ns(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,n)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=is(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Ji("t",e),n=Ji("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Ji("t",e),n=Ji("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Ji("t",e);if("d"in e){const n=e.d;if("h"===t){const e=d({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?qi("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):qi("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),us!==n&&$i("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),is(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):is(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Li.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class js{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class Rs{constructor(e){this.allowedEvents_=e,this.listeners_={},ma(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e){if(Array.isArray(this.listeners_[e])){const a=[...this.listeners_[e]];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let e=0;e<a.length;e++)a[e].callback.apply(a[e].context,n)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let a=0;a<r.length;a++)if(r[a].callback===t&&(!n||n===r[a].context))return void r.splice(a,1)}validateEventType_(e){ma(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class Ps extends Rs{static getInstance(){return new Ps}constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Aa()||(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return ma("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Is{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Ls(){return new Is("")}function Os(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Ms(e){return e.pieces_.length-e.pieceNum_}function As(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new Is(e.pieces_,t)}function Ds(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function zs(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function Fs(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Is(t,0)}function Ws(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Is)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new Is(n,0)}function Hs(e){return e.pieceNum_>=e.pieces_.length}function Us(e,t){const n=Os(e),r=Os(t);if(null===n)return t;if(n===r)return Us(As(e),As(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Bs(e,t){const n=zs(e,0),r=zs(t,0);for(let a=0;a<n.length&&a<r.length;a++){const e=Yi(n[a],r[a]);if(0!==e)return e}return n.length===r.length?0:n.length<r.length?-1:1}function qs(e,t){if(Ms(e)!==Ms(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Vs(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Ms(e)>Ms(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class $s{constructor(e,t){this.errorPrefix_=t,this.parts_=zs(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=Ja(this.parts_[n]);Ks(this)}}function Ks(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Gs(e))}function Gs(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class Qs extends Rs{static getInstance(){return new Qs}constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))},!1)}getInitialEvent(e){return ma("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Ys=1e3;class Xs extends js{constructor(e,t,n,r,a,o,i,s){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=a,this.authTokenProvider_=o,this.appCheckTokenProvider_=i,this.authOverride_=s,this.id=Xs.nextPersistentConnectionId_++,this.log_=Bi("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ys,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,s&&!Da())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Qs.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Ps.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,a={r:r,a:e,b:t};this.log_(Ua(a)),ma(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new Ra,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const a=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+a),this.listens.has(o)||this.listens.set(o,new Map),ma(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ma(!this.listens.get(o).has(a),"listen() called twice for same path/queryId.");const i={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(a,i),this.connected_&&this.sendListen_(i)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)})}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const a={p:n};e.tag&&(a.q=t._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,a=>{const o=a.d,i=a.s;Xs.warnOnListenWarnings_(o,t);(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",a),"ok"!==i&&this.removeListen_(n,r),e.onComplete&&e.onComplete(i,o))})}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&qa(e,"w")){const n=Va(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();$i("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(e," at ")+"".concat(n," to your security rules for better performance."))}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=Ba(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=Ba(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"===typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)})}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),ma(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const a={p:e};r&&(a.q=n,a.t=r),this.sendRequest("n",a)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const a={p:t,d:n};this.log_("onDisconnect "+e,a),this.sendRequest(e,a,e=>{r&&setTimeout(()=>{r(e.s,e.d)},Math.floor(0))})}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,a){this.initConnection_();const o={p:t,d:n};void 0!==a&&(o.h=a),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;const i=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(i):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ua(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):qi("Unrecognized action received from server: "+Ua(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ma(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ys,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ys,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Ys),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=Math.max(0,(new Date).getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Xs.nextConnectionId_++,a=this.lastSessionId;let o=!1,i=null;const s=function(){i?i.close():(o=!0,n())},l=function(e){ma(i,"sendRequest call when we're not connected not allowed."),i.sendRequest(e)};this.realtime_={close:s,sendRequest:l};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[s,l]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?Ui("getToken() completed but was canceled"):(Ui("getToken() completed. Creating connection."),this.authToken_=s&&s.accessToken,this.appCheckToken_=l&&l.token,i=new Ts(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,e=>{$i(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")},a))}catch(qi){this.log_("Failed to get token: "+qi),o||(this.repoInfo_.nodeAdmin&&$i(qi),s())}}}interrupt(e){Ui("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ui("Resuming connection for reason: "+e),delete this.interruptReasons_[e],$a(this.interruptReasons_)&&(this.reconnectDelay_=Ys,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map(e=>Zi(e)).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new Is(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){Ui("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){Ui("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";Da()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Ti.replace(/\./g,"-")]=1,Aa()?e["framework.cordova"]=1:"object"===typeof navigator&&"ReactNative"===navigator.product&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Ps.getInstance().currentlyOnline();return $a(this.interruptReasons_)&&e}}Xs.nextPersistentConnectionId_=0,Xs.nextConnectionId_=0;class Js{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Js(e,t)}}class Zs{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new Js(Gi,e),r=new Js(Gi,t);return 0!==this.compare(n,r)}minPost(){return Js.MIN}}let el;class tl extends Zs{static get __EMPTY_NODE(){return el}static set __EMPTY_NODE(e){el=e}compare(e,t){return Yi(e.name,t.name)}isDefinedOn(e){throw ga("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Js.MIN}maxPost(){return new Js(Qi,el)}makePost(e,t){return ma("string"===typeof e,"KeyIndex indexValue must always be a string."),new Js(e,el)}toString(){return".key"}}const nl=new tl;class rl{constructor(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.isReverse_=r,this.resultGenerator_=a,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class al{constructor(e,t,n,r,a){this.key=e,this.value=t,this.color=null!=n?n:al.RED,this.left=null!=r?r:ol.EMPTY_NODE,this.right=null!=a?a:ol.EMPTY_NODE}copy(e,t,n,r,a){return new al(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=a?a:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const a=n(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===a?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return ol.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return ol.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,al.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,al.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}al.RED=!0,al.BLACK=!1;class ol{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ol.EMPTY_NODE;this.comparator_=e,this.root_=t}insert(e,t){return new ol(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,al.BLACK,null,null))}remove(e){return new ol(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,al.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new rl(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new rl(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new rl(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new rl(this.root_,null,this.comparator_,!0,e)}}function il(e,t){return Yi(e.name,t.name)}function sl(e,t){return Yi(e,t)}let ll;ol.EMPTY_NODE=new class{copy(e,t,n,r,a){return this}insert(e,t,n){return new al(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const cl=function(e){return"number"===typeof e?"number:"+ns(e):"string:"+e},ul=function(e){if(e.isLeafNode()){const t=e.val();ma("string"===typeof t||"number"===typeof t||"object"===typeof t&&qa(t,".sv"),"Priority must be a string or number.")}else ma(e===ll||e.isEmpty(),"priority of unexpected type.");ma(e===ll||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let dl,hl,fl;class pl{static set __childrenNodeConstructor(e){dl=e}static get __childrenNodeConstructor(){return dl}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pl.__childrenNodeConstructor.EMPTY_NODE;this.value_=e,this.priorityNode_=t,this.lazyHash_=null,ma(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),ul(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new pl(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:pl.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Hs(e)?this:".priority"===Os(e)?this.priorityNode_:pl.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:pl.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=Os(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(ma(".priority"!==n||1===Ms(e),".priority must be the last token in a path"),this.updateImmediateChild(n,pl.__childrenNodeConstructor.EMPTY_NODE.updateChild(As(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+cl(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?ns(this.value_):this.value_,this.lazyHash_=Di(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===pl.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof pl.__childrenNodeConstructor?-1:(ma(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=pl.VALUE_TYPE_ORDER.indexOf(t),a=pl.VALUE_TYPE_ORDER.indexOf(n);return ma(r>=0,"Unknown leaf type: "+t),ma(a>=0,"Unknown leaf type: "+n),r===a?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}pl.VALUE_TYPE_ORDER=["object","boolean","number","string"];const ml=new class extends Zs{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),a=n.compareTo(r);return 0===a?Yi(e.name,t.name):a}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Js.MIN}maxPost(){return new Js(Qi,new pl("[PRIORITY-POST]",fl))}makePost(e,t){const n=hl(e);return new Js(t,new pl("[PRIORITY-POST]",n))}toString(){return".priority"}},gl=Math.log(2);class yl{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/gl,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const vl=function(e,t,n,r){e.sort(t);const a=function(t,r){const o=r-t;let i,s;if(0===o)return null;if(1===o)return i=e[t],s=n?n(i):i,new al(s,i.node,al.BLACK,null,null);{const l=parseInt(o/2,10)+t,c=a(t,l),u=a(l+1,r);return i=e[l],s=n?n(i):i,new al(s,i.node,al.BLACK,c,u)}},o=function(t){let r=null,o=null,i=e.length;const s=function(t,r){const o=i-t,s=i;i-=t;const c=a(o+1,s),u=e[o],d=n?n(u):u;l(new al(d,u.node,r,null,c))},l=function(e){r?(r.left=e,r=e):(o=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?s(r,al.BLACK):(s(r,al.BLACK),s(r,al.RED))}return o}(new yl(e.length));return new ol(r||t,o)};let bl;const _l={};class xl{static get Default(){return ma(_l&&ml,"ChildrenNode.ts has not been loaded"),bl=bl||new xl({".priority":_l},{".priority":ml}),bl}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=Va(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof ol?t:null}hasIndex(e){return qa(this.indexSet_,e.toString())}addIndex(e,t){ma(e!==nl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const a=t.getIterator(Js.Wrap);let o,i=a.getNext();for(;i;)r=r||e.isDefinedOn(i.node),n.push(i),i=a.getNext();o=r?vl(n,e.getCompare()):_l;const s=e.toString(),l=d({},this.indexSet_);l[s]=e;const c=d({},this.indexes_);return c[s]=o,new xl(c,l)}addToIndexes(e,t){const n=Ka(this.indexes_,(n,r)=>{const a=Va(this.indexSet_,r);if(ma(a,"Missing index implementation for "+r),n===_l){if(a.isDefinedOn(e.node)){const n=[],r=t.getIterator(Js.Wrap);let o=r.getNext();for(;o;)o.name!==e.name&&n.push(o),o=r.getNext();return n.push(e),vl(n,a.getCompare())}return _l}{const r=t.get(e.name);let a=n;return r&&(a=a.remove(new Js(e.name,r))),a.insert(e,e.node)}});return new xl(n,this.indexSet_)}removeFromIndexes(e,t){const n=Ka(this.indexes_,n=>{if(n===_l)return n;{const r=t.get(e.name);return r?n.remove(new Js(e.name,r)):n}});return new xl(n,this.indexSet_)}}let wl;class kl{static get EMPTY_NODE(){return wl||(wl=new kl(new ol(sl),null,xl.Default))}constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&ul(this.priorityNode_),this.children_.isEmpty()&&ma(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||wl}updatePriority(e){return this.children_.isEmpty()?this:new kl(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?wl:t}}getChild(e){const t=Os(e);return null===t?this:this.getImmediateChild(t).getChild(As(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(ma(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new Js(e,t);let r,a;t.isEmpty()?(r=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),a=this.indexMap_.addToIndexes(n,this.children_));const o=r.isEmpty()?wl:this.priorityNode_;return new kl(r,o,a)}}updateChild(e,t){const n=Os(e);if(null===n)return t;{ma(".priority"!==Os(e)||1===Ms(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(As(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,a=!0;if(this.forEachChild(ml,(o,i)=>{t[o]=i.val(e),n++,a&&kl.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):a=!1}),!e&&a&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+cl(this.getPriority().val())+":"),this.forEachChild(ml,(t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)}),this.lazyHash_=""===e?"":Di(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new Js(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new Js(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new Js(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal(e=>t(e.name,e.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,e=>e);{const n=this.children_.getIteratorFrom(e.name,Js.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,e=>e);{const n=this.children_.getReverseIteratorFrom(e.name,Js.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Cl?-1:0}withIndex(e){if(e===nl||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new kl(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===nl||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(ml),n=t.getIterator(ml);let r=e.getNext(),a=n.getNext();for(;r&&a;){if(r.name!==a.name||!r.node.equals(a.node))return!1;r=e.getNext(),a=n.getNext()}return null===r&&null===a}return!1}return!1}}resolveIndex_(e){return e===nl?null:this.indexMap_.get(e.toString())}}kl.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const Cl=new class extends kl{constructor(){super(new ol(sl),kl.EMPTY_NODE,xl.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return kl.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Js,{MIN:{value:new Js(Gi,kl.EMPTY_NODE)},MAX:{value:new Js(Qi,Cl)}}),tl.__EMPTY_NODE=kl.EMPTY_NODE,pl.__childrenNodeConstructor=kl,ll=Cl,function(e){fl=e}(Cl);function Sl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return kl.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),ma(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){return new pl(e,Sl(t))}if(e instanceof Array){let n=kl.EMPTY_NODE;return ts(e,(t,r)=>{if(qa(e,t)&&"."!==t.substring(0,1)){const e=Sl(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}}),n.updatePriority(Sl(t))}{const n=[];let r=!1;if(ts(e,(e,t)=>{if("."!==e.substring(0,1)){const a=Sl(t);a.isEmpty()||(r=r||!a.getPriority().isEmpty(),n.push(new Js(e,a)))}}),0===n.length)return kl.EMPTY_NODE;const a=vl(n,il,e=>e.name,sl);if(r){const e=vl(n,ml.getCompare());return new kl(a,Sl(t),new xl({".priority":e},{".priority":ml}))}return new kl(a,Sl(t),xl.Default)}}!function(e){hl=e}(Sl);class El extends Zs{constructor(e){super(),this.indexPath_=e,ma(!Hs(e)&&".priority"!==Os(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),a=n.compareTo(r);return 0===a?Yi(e.name,t.name):a}makePost(e,t){const n=Sl(e),r=kl.EMPTY_NODE.updateChild(this.indexPath_,n);return new Js(t,r)}maxPost(){const e=kl.EMPTY_NODE.updateChild(this.indexPath_,Cl);return new Js(Qi,e)}toString(){return zs(this.indexPath_,0).join("/")}}const Nl=new class extends Zs{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?Yi(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Js.MIN}maxPost(){return Js.MAX}makePost(e,t){const n=Sl(e);return new Js(t,n)}toString(){return".value"}};function Tl(e){return{type:"value",snapshotNode:e}}function jl(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Rl(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Pl(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class Il{constructor(e){this.index_=e}updateChild(e,t,n,r,a,o){ma(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const i=e.getImmediateChild(t);return i.getChild(r).equals(n.getChild(r))&&i.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(Rl(t,i)):ma(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):i.isEmpty()?o.trackChildChange(jl(t,n)):o.trackChildChange(Pl(t,n,i))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(ml,(e,r)=>{t.hasChild(e)||n.trackChildChange(Rl(e,r))}),t.isLeafNode()||t.forEachChild(ml,(t,r)=>{if(e.hasChild(t)){const a=e.getImmediateChild(t);a.equals(r)||n.trackChildChange(Pl(t,r,a))}else n.trackChildChange(jl(t,r))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?kl.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Ll{constructor(e){this.indexedFilter_=new Il(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Ll.getStartPost_(e),this.endPost_=Ll.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,r,a,o){return this.matches(new Js(t,n))||(n=kl.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,a,o)}updateFullNode(e,t,n){t.isLeafNode()&&(t=kl.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(kl.EMPTY_NODE);const a=this;return t.forEachChild(ml,(e,t)=>{a.matches(new Js(e,t))||(r=r.updateImmediateChild(e,kl.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class Ol{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new Ll(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,r,a,o){return this.rangedFilter_.matches(new Js(t,n))||(n=kl.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,a,o):this.fullLimitUpdateChild_(e,t,n,a,o)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=kl.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=kl.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;r=r.updateImmediateChild(t.name,t.node),n++}}}else{let e;r=t.withIndex(this.index_),r=r.updatePriority(kl.EMPTY_NODE),e=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let n=0;for(;e.hasNext();){const t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:r=r.updateImmediateChild(t.name,kl.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,a){let o;if(this.reverse_){const e=this.index_.getCompare();o=(t,n)=>e(n,t)}else o=this.index_.getCompare();const i=e;ma(i.numChildren()===this.limit_,"");const s=new Js(t,n),l=this.reverse_?i.getFirstChild(this.index_):i.getLastChild(this.index_),c=this.rangedFilter_.matches(s);if(i.hasChild(t)){const e=i.getImmediateChild(t);let u=r.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=u&&(u.name===t||i.hasChild(u.name));)u=r.getChildAfterChild(this.index_,u,this.reverse_);const d=null==u?1:o(u,s);if(c&&!n.isEmpty()&&d>=0)return null!=a&&a.trackChildChange(Pl(t,n,e)),i.updateImmediateChild(t,n);{null!=a&&a.trackChildChange(Rl(t,e));const n=i.updateImmediateChild(t,kl.EMPTY_NODE);return null!=u&&this.rangedFilter_.matches(u)?(null!=a&&a.trackChildChange(jl(u.name,u.node)),n.updateImmediateChild(u.name,u.node)):n}}return n.isEmpty()?e:c&&o(l,s)>=0?(null!=a&&(a.trackChildChange(Rl(l.name,l.node)),a.trackChildChange(jl(t,n))),i.updateImmediateChild(t,n).updateImmediateChild(l.name,kl.EMPTY_NODE)):e}}class Ml{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ml}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return ma(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ma(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Gi}hasEnd(){return this.endSet_}getIndexEndValue(){return ma(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ma(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Qi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return ma(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ml}copy(){const e=new Ml;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Al(e){const t={};if(e.isDefault())return t;let n;if(e.index_===ml?n="$priority":e.index_===Nl?n="$value":e.index_===nl?n="$key":(ma(e.index_ instanceof El,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Ua(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=Ua(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+Ua(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=Ua(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+Ua(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function Dl(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==ml&&(t.i=e.index_.toString()),t}class zl extends js{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(ma(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=Bi("p:rest:"),this.listens_={}}listen(e,t,n,r){const a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);const o=zl.getListenId_(e,n),i={};this.listens_[o]=i;const s=Al(e._queryParams);this.restRequest_(a+".json",s,(e,t)=>{let s=t;if(404===e&&(s=null,e=null),null===e&&this.onDataUpdate_(a,s,!1,n),Va(this.listens_,o)===i){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}})}unlisten(e,t){const n=zl.getListenId_(e,t);delete this.listens_[n]}get(e){const t=Al(e._queryParams),n=e._path.toString(),r=new Ra;return this.restRequest_(n+".json",t,(e,t)=>{let a=t;404===e&&(a=null,e=null),null===e?(this.onDataUpdate_(n,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(e){}restRequest_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(r=>{let[a,o]=r;a&&a.accessToken&&(t.auth=a.accessToken),o&&o.token&&(t.ac=o.token);const i=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+function(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}(t);this.log_("Sending REST request for "+i);const s=new XMLHttpRequest;s.onreadystatechange=()=>{if(n&&4===s.readyState){this.log_("REST Response for "+i+" received. status:",s.status,"response:",s.responseText);let e=null;if(s.status>=200&&s.status<300){try{e=Ha(s.responseText)}catch(cp){$i("Failed to parse JSON response for "+i+": "+s.responseText)}n(null,e)}else 401!==s.status&&404!==s.status&&$i("Got unsuccessful REST response for "+i+" Status: "+s.status),n(s.status);n=null}},s.open("GET",i,!0),s.send()})}}class Fl{constructor(){this.rootNode_=kl.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function Wl(){return{value:null,children:new Map}}function Hl(e,t,n){if(Hs(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=Os(t);e.children.has(r)||e.children.set(r,Wl());Hl(e.children.get(r),t=As(t),n)}}function Ul(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((e,n)=>{t(n,e)})}(e,(e,r)=>{Ul(r,new Is(t.toString()+"/"+e),n)})}class Bl{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=d({},e);return this.last_&&ts(this.last_,(e,n)=>{t[e]=t[e]-n}),this.last_=e,t}}class ql{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Bl(e);const n=1e4+2e4*Math.random();is(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;ts(e,(e,r)=>{r>0&&qa(this.statsToReport_,e)&&(t[e]=r,n=!0)}),n&&this.server_.reportStats(t),is(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Vl;function $l(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Vl||(Vl={}));class Kl{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Vl.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Hs(this.path)){if(null!=this.affectedTree.value)return ma(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Is(e));return new Kl(Ls(),t,this.revert)}}return ma(Os(this.path)===e,"operationForChild called for unrelated child."),new Kl(As(this.path),this.affectedTree,this.revert)}}class Gl{constructor(e,t){this.source=e,this.path=t,this.type=Vl.LISTEN_COMPLETE}operationForChild(e){return Hs(this.path)?new Gl(this.source,Ls()):new Gl(this.source,As(this.path))}}class Ql{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Vl.OVERWRITE}operationForChild(e){return Hs(this.path)?new Ql(this.source,Ls(),this.snap.getImmediateChild(e)):new Ql(this.source,As(this.path),this.snap)}}class Yl{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Vl.MERGE}operationForChild(e){if(Hs(this.path)){const t=this.children.subtree(new Is(e));return t.isEmpty()?null:t.value?new Ql(this.source,Ls(),t.value):new Yl(this.source,Ls(),t)}return ma(Os(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Yl(this.source,As(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Xl{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Hs(e))return this.isFullyInitialized()&&!this.filtered_;const t=Os(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class Jl{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Zl(e,t,n,r,a,o){const i=r.filter(e=>e.type===n);i.sort((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw ga("Should only compare child_ events.");const r=new Js(t.childName,t.snapshotNode),a=new Js(n.childName,n.snapshotNode);return e.index_.compare(r,a)}(e,t,n)),i.forEach(n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,o);a.forEach(a=>{a.respondsTo(n.type)&&t.push(a.createEvent(r,e.query_))})})}function ec(e,t){return{eventCache:e,serverCache:t}}function tc(e,t,n,r){return ec(new Xl(t,n,r),e.serverCache)}function nc(e,t,n,r){return ec(e.eventCache,new Xl(t,n,r))}function rc(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function ac(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let oc;class ic{static fromObject(e){let t=new ic(null);return ts(e,(e,n)=>{t=t.set(new Is(e),n)}),t}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(oc||(oc=new ol(Xi)),oc);this.value=e,this.children=t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Ls(),value:this.value};if(Hs(e))return null;{const n=Os(e),r=this.children.get(n);if(null!==r){const a=r.findRootMostMatchingPathAndValue(As(e),t);if(null!=a){return{path:Ws(new Is(n),a.path),value:a.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Hs(e))return this;{const t=Os(e),n=this.children.get(t);return null!==n?n.subtree(As(e)):new ic(null)}}set(e,t){if(Hs(e))return new ic(t,this.children);{const n=Os(e),r=(this.children.get(n)||new ic(null)).set(As(e),t),a=this.children.insert(n,r);return new ic(this.value,a)}}remove(e){if(Hs(e))return this.children.isEmpty()?new ic(null):new ic(null,this.children);{const t=Os(e),n=this.children.get(t);if(n){const r=n.remove(As(e));let a;return a=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&a.isEmpty()?new ic(null):new ic(this.value,a)}return this}}get(e){if(Hs(e))return this.value;{const t=Os(e),n=this.children.get(t);return n?n.get(As(e)):null}}setTree(e,t){if(Hs(e))return t;{const n=Os(e),r=(this.children.get(n)||new ic(null)).setTree(As(e),t);let a;return a=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new ic(this.value,a)}}fold(e){return this.fold_(Ls(),e)}fold_(e,t){const n={};return this.children.inorderTraversal((r,a)=>{n[r]=a.fold_(Ws(e,r),t)}),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,Ls(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(Hs(e))return null;{const r=Os(e),a=this.children.get(r);return a?a.findOnPath_(As(e),Ws(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Ls(),t)}foreachOnPath_(e,t,n){if(Hs(e))return this;{this.value&&n(t,this.value);const r=Os(e),a=this.children.get(r);return a?a.foreachOnPath_(As(e),Ws(t,r),n):new ic(null)}}foreach(e){this.foreach_(Ls(),e)}foreach_(e,t){this.children.inorderTraversal((n,r)=>{r.foreach_(Ws(e,n),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,n)=>{n.value&&e(t,n.value)})}}class sc{constructor(e){this.writeTree_=e}static empty(){return new sc(new ic(null))}}function lc(e,t,n){if(Hs(t))return new sc(new ic(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const a=r.path;let o=r.value;const i=Us(a,t);return o=o.updateChild(i,n),new sc(e.writeTree_.set(a,o))}{const r=new ic(n),a=e.writeTree_.setTree(t,r);return new sc(a)}}}function cc(e,t,n){let r=e;return ts(n,(e,n)=>{r=lc(r,Ws(t,e),n)}),r}function uc(e,t){if(Hs(t))return sc.empty();{const n=e.writeTree_.setTree(t,new ic(null));return new sc(n)}}function dc(e,t){return null!=hc(e,t)}function hc(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Us(n.path,t)):null}function fc(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(ml,(e,n)=>{t.push(new Js(e,n))}):e.writeTree_.children.inorderTraversal((e,n)=>{null!=n.value&&t.push(new Js(e,n.value))}),t}function pc(e,t){if(Hs(t))return e;{const n=hc(e,t);return new sc(null!=n?new ic(n):e.writeTree_.subtree(t))}}function mc(e){return e.writeTree_.isEmpty()}function gc(e,t){return yc(Ls(),e.writeTree_,t)}function yc(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((t,a)=>{".priority"===t?(ma(null!==a.value,"Priority writes must always be leaf nodes"),r=a.value):n=yc(Ws(e,t),a,n)}),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Ws(e,".priority"),r)),n}}function vc(e,t){return Pc(t,e)}function bc(e,t){const n=e.allWrites.findIndex(e=>e.writeId===t);ma(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let a=r.visible,o=!1,i=e.allWrites.length-1;for(;a&&i>=0;){const t=e.allWrites[i];t.visible&&(i>=n&&_c(t,r.path)?a=!1:Vs(r.path,t.path)&&(o=!0)),i--}if(a){if(o)return function(e){e.visibleWrites=wc(e.allWrites,xc,Ls()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(r.snap)e.visibleWrites=uc(e.visibleWrites,r.path);else{ts(r.children,t=>{e.visibleWrites=uc(e.visibleWrites,Ws(r.path,t))})}return!0}return!1}function _c(e,t){if(e.snap)return Vs(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Vs(Ws(e.path,n),t))return!0;return!1}function xc(e){return e.visible}function wc(e,t,n){let r=sc.empty();for(let a=0;a<e.length;++a){const o=e[a];if(t(o)){const e=o.path;let t;if(o.snap)Vs(n,e)?(t=Us(n,e),r=lc(r,t,o.snap)):Vs(e,n)&&(t=Us(e,n),r=lc(r,Ls(),o.snap.getChild(t)));else{if(!o.children)throw ga("WriteRecord should have .snap or .children");if(Vs(n,e))t=Us(n,e),r=cc(r,t,o.children);else if(Vs(e,n))if(t=Us(e,n),Hs(t))r=cc(r,Ls(),o.children);else{const e=Va(o.children,Os(t));if(e){const n=e.getChild(As(t));r=lc(r,Ls(),n)}}}}}return r}function kc(e,t,n,r,a){if(r||a){const o=pc(e.visibleWrites,t);if(!a&&mc(o))return n;if(a||null!=n||dc(o,Ls())){const o=function(e){return(e.visible||a)&&(!r||!~r.indexOf(e.writeId))&&(Vs(e.path,t)||Vs(t,e.path))};return gc(wc(e.allWrites,o,t),n||kl.EMPTY_NODE)}return null}{const r=hc(e.visibleWrites,t);if(null!=r)return r;{const r=pc(e.visibleWrites,t);if(mc(r))return n;if(null!=n||dc(r,Ls())){return gc(r,n||kl.EMPTY_NODE)}return null}}}function Cc(e,t,n,r){return kc(e.writeTree,e.treePath,t,n,r)}function Sc(e,t){return function(e,t,n){let r=kl.EMPTY_NODE;const a=hc(e.visibleWrites,t);if(a)return a.isLeafNode()||a.forEachChild(ml,(e,t)=>{r=r.updateImmediateChild(e,t)}),r;if(n){const a=pc(e.visibleWrites,t);return n.forEachChild(ml,(e,t)=>{const n=gc(pc(a,new Is(e)),t);r=r.updateImmediateChild(e,n)}),fc(a).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}return fc(pc(e.visibleWrites,t)).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}(e.writeTree,e.treePath,t)}function Ec(e,t,n,r){return function(e,t,n,r,a){ma(r||a,"Either existingEventSnap or existingServerSnap must exist");const o=Ws(t,n);if(dc(e.visibleWrites,o))return null;{const t=pc(e.visibleWrites,o);return mc(t)?a.getChild(n):gc(t,a.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function Nc(e,t){return function(e,t){return hc(e.visibleWrites,t)}(e.writeTree,Ws(e.treePath,t))}function Tc(e,t,n,r,a,o){return function(e,t,n,r,a,o,i){let s;const l=pc(e.visibleWrites,t),c=hc(l,Ls());if(null!=c)s=c;else{if(null==n)return[];s=gc(l,n)}if(s=s.withIndex(i),s.isEmpty()||s.isLeafNode())return[];{const e=[],t=i.getCompare(),n=o?s.getReverseIteratorFrom(r,i):s.getIteratorFrom(r,i);let l=n.getNext();for(;l&&e.length<a;)0!==t(l,r)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,a,o)}function jc(e,t,n){return function(e,t,n,r){const a=Ws(t,n),o=hc(e.visibleWrites,a);if(null!=o)return o;if(r.isCompleteForChild(n))return gc(pc(e.visibleWrites,a),r.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function Rc(e,t){return Pc(Ws(e.treePath,t),e.writeTree)}function Pc(e,t){return{treePath:e,writeTree:t}}class Ic{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;ma("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),ma(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const a=r.type;if("child_added"===t&&"child_removed"===a)this.changeMap.set(n,Pl(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===a)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===a)this.changeMap.set(n,Rl(n,r.oldSnap));else if("child_changed"===t&&"child_added"===a)this.changeMap.set(n,jl(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==a)throw ga("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Pl(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const Lc=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class Oc{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new Xl(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return jc(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ac(this.viewCache_),a=Tc(this.writes_,r,t,1,n,e);return 0===a.length?null:a[0]}}function Mc(e,t,n,r,a){const o=new Ic;let i,s;if(n.type===Vl.OVERWRITE){const l=n;l.source.fromUser?i=zc(e,t,l.path,l.snap,r,a,o):(ma(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.serverCache.isFiltered()&&!Hs(l.path),i=Dc(e,t,l.path,l.snap,r,a,s,o))}else if(n.type===Vl.MERGE){const l=n;l.source.fromUser?i=function(e,t,n,r,a,o,i){let s=t;return r.foreach((r,l)=>{const c=Ws(n,r);Fc(t,Os(c))&&(s=zc(e,s,c,l,a,o,i))}),r.foreach((r,l)=>{const c=Ws(n,r);Fc(t,Os(c))||(s=zc(e,s,c,l,a,o,i))}),s}(e,t,l.path,l.children,r,a,o):(ma(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.serverCache.isFiltered(),i=Hc(e,t,l.path,l.children,r,a,s,o))}else if(n.type===Vl.ACK_USER_WRITE){const s=n;i=s.revert?function(e,t,n,r,a,o){let i;if(null!=Nc(r,n))return t;{const s=new Oc(r,t,a),l=t.eventCache.getNode();let c;if(Hs(n)||".priority"===Os(n)){let n;if(t.serverCache.isFullyInitialized())n=Cc(r,ac(t));else{const e=t.serverCache.getNode();ma(e instanceof kl,"serverChildren would be complete if leaf node"),n=Sc(r,e)}c=e.filter.updateFullNode(l,n,o)}else{const a=Os(n);let u=jc(r,a,t.serverCache);null==u&&t.serverCache.isCompleteForChild(a)&&(u=l.getImmediateChild(a)),c=null!=u?e.filter.updateChild(l,a,u,As(n),s,o):t.eventCache.getNode().hasChild(a)?e.filter.updateChild(l,a,kl.EMPTY_NODE,As(n),s,o):l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(i=Cc(r,ac(t)),i.isLeafNode()&&(c=e.filter.updateFullNode(c,i,o)))}return i=t.serverCache.isFullyInitialized()||null!=Nc(r,Ls()),tc(t,c,i,e.filter.filtersNodes())}}(e,t,s.path,r,a,o):function(e,t,n,r,a,o,i){if(null!=Nc(a,n))return t;const s=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(Hs(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Dc(e,t,n,l.getNode().getChild(n),a,o,s,i);if(Hs(n)){let r=new ic(null);return l.getNode().forEachChild(nl,(e,t)=>{r=r.set(new Is(e),t)}),Hc(e,t,n,r,a,o,s,i)}return t}{let c=new ic(null);return r.foreach((e,t)=>{const r=Ws(n,e);l.isCompleteForPath(r)&&(c=c.set(e,l.getNode().getChild(r)))}),Hc(e,t,n,c,a,o,s,i)}}(e,t,s.path,s.affectedTree,r,a,o)}else{if(n.type!==Vl.LISTEN_COMPLETE)throw ga("Unknown operation type: "+n.type);i=function(e,t,n,r,a){const o=t.serverCache,i=nc(t,o.getNode(),o.isFullyInitialized()||Hs(n),o.isFiltered());return Ac(e,i,n,r,Lc,a)}(e,t,n.path,r,o)}const l=o.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const a=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=rc(e);(n.length>0||!e.eventCache.isFullyInitialized()||a&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(Tl(rc(t)))}}(t,i,l),{viewCache:i,changes:l}}function Ac(e,t,n,r,a,o){const i=t.eventCache;if(null!=Nc(r,n))return t;{let s,l;if(Hs(n))if(ma(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=ac(t),a=Sc(r,n instanceof kl?n:kl.EMPTY_NODE);s=e.filter.updateFullNode(t.eventCache.getNode(),a,o)}else{const n=Cc(r,ac(t));s=e.filter.updateFullNode(t.eventCache.getNode(),n,o)}else{const c=Os(n);if(".priority"===c){ma(1===Ms(n),"Can't have a priority with additional path components");const a=i.getNode();l=t.serverCache.getNode();const o=Ec(r,n,a,l);s=null!=o?e.filter.updatePriority(a,o):i.getNode()}else{const u=As(n);let d;if(i.isCompleteForChild(c)){l=t.serverCache.getNode();const e=Ec(r,n,i.getNode(),l);d=null!=e?i.getNode().getImmediateChild(c).updateChild(u,e):i.getNode().getImmediateChild(c)}else d=jc(r,c,t.serverCache);s=null!=d?e.filter.updateChild(i.getNode(),c,d,u,a,o):i.getNode()}}return tc(t,s,i.isFullyInitialized()||Hs(n),e.filter.filtersNodes())}}function Dc(e,t,n,r,a,o,i,s){const l=t.serverCache;let c;const u=i?e.filter:e.filter.getIndexedFilter();if(Hs(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),e,null)}else{const e=Os(n);if(!l.isCompleteForPath(n)&&Ms(n)>1)return t;const a=As(n),o=l.getNode().getImmediateChild(e).updateChild(a,r);c=".priority"===e?u.updatePriority(l.getNode(),o):u.updateChild(l.getNode(),e,o,a,Lc,null)}const d=nc(t,c,l.isFullyInitialized()||Hs(n),u.filtersNodes());return Ac(e,d,n,a,new Oc(a,d,o),s)}function zc(e,t,n,r,a,o,i){const s=t.eventCache;let l,c;const u=new Oc(a,t,o);if(Hs(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,i),l=tc(t,c,!0,e.filter.filtersNodes());else{const a=Os(n);if(".priority"===a)c=e.filter.updatePriority(t.eventCache.getNode(),r),l=tc(t,c,s.isFullyInitialized(),s.isFiltered());else{const o=As(n),c=s.getNode().getImmediateChild(a);let d;if(Hs(o))d=r;else{const e=u.getCompleteChild(a);d=null!=e?".priority"===Ds(o)&&e.getChild(Fs(o)).isEmpty()?e:e.updateChild(o,r):kl.EMPTY_NODE}if(c.equals(d))l=t;else{l=tc(t,e.filter.updateChild(s.getNode(),a,d,o,u,i),s.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function Fc(e,t){return e.eventCache.isCompleteForChild(t)}function Wc(e,t,n){return n.foreach((e,n)=>{t=t.updateChild(e,n)}),t}function Hc(e,t,n,r,a,o,i,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=Hs(n)?r:new ic(null).setTree(n,r);const u=t.serverCache.getNode();return l.children.inorderTraversal((n,r)=>{if(u.hasChild(n)){const l=Wc(0,t.serverCache.getNode().getImmediateChild(n),r);c=Dc(e,c,new Is(n),l,a,o,i,s)}}),l.children.inorderTraversal((n,r)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!u.hasChild(n)&&!l){const l=Wc(0,t.serverCache.getNode().getImmediateChild(n),r);c=Dc(e,c,new Is(n),l,a,o,i,s)}}),c}class Uc{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new Il(n.getIndex()),a=(o=n).loadsAllData()?new Il(o.getIndex()):o.hasLimit()?new Ol(o):new Ll(o);var o;this.processor_=function(e){return{filter:e}}(a);const i=t.serverCache,s=t.eventCache,l=r.updateFullNode(kl.EMPTY_NODE,i.getNode(),null),c=a.updateFullNode(kl.EMPTY_NODE,s.getNode(),null),u=new Xl(l,i.isFullyInitialized(),r.filtersNodes()),d=new Xl(c,s.isFullyInitialized(),a.filtersNodes());this.viewCache_=ec(d,u),this.eventGenerator_=new Jl(this.query_)}get query(){return this.query_}}function Bc(e,t){const n=ac(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Hs(t)&&!n.getImmediateChild(Os(t)).isEmpty())?n.getChild(t):null}function qc(e){return 0===e.eventRegistrations_.length}function Vc(e,t,n){const r=[];if(n){ma(null==t,"A cancel should cancel all event registrations.");const a=e.query._path;e.eventRegistrations_.forEach(e=>{const t=e.createCancelEvent(n,a);t&&r.push(t)})}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){const a=e.eventRegistrations_[r];if(a.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(a)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function $c(e,t,n,r){t.type===Vl.MERGE&&null!==t.source.queryId&&(ma(ac(e.viewCache_),"We should always have a full cache before handling merges"),ma(rc(e.viewCache_),"Missing event cache, even though we have a server cache"));const a=e.viewCache_,o=Mc(e.processor_,a,t,n,r);var i,s;return i=e.processor_,s=o.viewCache,ma(s.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),ma(s.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),ma(o.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,Kc(e,o.changes,o.viewCache.eventCache.getNode(),null)}function Kc(e,t,n,r){const a=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const a=[],o=[];return t.forEach(t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))}),Zl(e,a,"child_removed",t,r,n),Zl(e,a,"child_added",t,r,n),Zl(e,a,"child_moved",o,r,n),Zl(e,a,"child_changed",t,r,n),Zl(e,a,"value",t,r,n),a}(e.eventGenerator_,t,n,a)}let Gc,Qc;class Yc{constructor(){this.views=new Map}}function Xc(e,t,n,r){const a=t.source.queryId;if(null!==a){const o=e.views.get(a);return ma(null!=o,"SyncTree gave us an op for an invalid query."),$c(o,t,n,r)}{let a=[];for(const o of e.views.values())a=a.concat($c(o,t,n,r));return a}}function Jc(e,t,n,r,a){const o=t._queryIdentifier,i=e.views.get(o);if(!i){let e=Cc(n,a?r:null),o=!1;e?o=!0:r instanceof kl?(e=Sc(n,r),o=!1):(e=kl.EMPTY_NODE,o=!1);const i=ec(new Xl(e,o,!1),new Xl(r,a,!1));return new Uc(t,i)}return i}function Zc(e,t,n,r,a,o){const i=Jc(e,t,r,a,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,i),function(e,t){e.eventRegistrations_.push(t)}(i,n),function(e,t){const n=e.viewCache_.eventCache,r=[];n.getNode().isLeafNode()||n.getNode().forEachChild(ml,(e,t)=>{r.push(jl(e,t))});return n.isFullyInitialized()&&r.push(Tl(n.getNode())),Kc(e,r,n.getNode(),t)}(i,n)}function eu(e,t,n,r){const a=t._queryIdentifier,o=[];let i=[];const s=ou(e);if("default"===a)for(const[l,c]of e.views.entries())i=i.concat(Vc(c,n,r)),qc(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{const t=e.views.get(a);t&&(i=i.concat(Vc(t,n,r)),qc(t)&&(e.views.delete(a),t.query._queryParams.loadsAllData()||o.push(t.query)))}return s&&!ou(e)&&o.push(new(ma(Gc,"Reference.ts has not been loaded"),Gc)(t._repo,t._path)),{removed:o,events:i}}function tu(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function nu(e,t){let n=null;for(const r of e.views.values())n=n||Bc(r,t);return n}function ru(e,t){if(t._queryParams.loadsAllData())return iu(e);{const n=t._queryIdentifier;return e.views.get(n)}}function au(e,t){return null!=ru(e,t)}function ou(e){return null!=iu(e)}function iu(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let su=1;class lu{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ic(null),this.pendingWriteTree_={visibleWrites:sc.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function cu(e,t,n,r,a){return function(e,t,n,r,a){ma(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===a&&(a=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:a}),a&&(e.visibleWrites=lc(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,a),a?vu(e,new Ql({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function uu(e,t,n,r){!function(e,t,n,r){ma(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=cc(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);const a=ic.fromObject(n);return vu(e,new Yl({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,a))}function du(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(bc(e.pendingWriteTree_,t)){let t=new ic(null);return null!=r.snap?t=t.set(Ls(),!0):ts(r.children,e=>{t=t.set(new Is(e),!0)}),vu(e,new Kl(r.path,t,n))}return[]}function hu(e,t,n){return vu(e,new Ql({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function fu(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=t._path,i=e.syncPointTree_.get(o);let s=[];if(i&&("default"===t._queryIdentifier||au(i,t))){const l=eu(i,t,n,r);0===i.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(o));const c=l.removed;if(s=l.events,!a){const n=-1!==c.findIndex(e=>e._queryParams.loadsAllData()),a=e.syncPointTree_.findOnPath(o,(e,t)=>ou(t));if(n&&!a){const t=e.syncPointTree_.subtree(o);if(!t.isEmpty()){const n=function(e){return e.fold((e,t,n)=>{if(t&&ou(t)){return[iu(t)]}{let e=[];return t&&(e=tu(t)),ts(n,(t,n)=>{e=e.concat(n)}),e}})}(t);for(let t=0;t<n.length;++t){const r=n[t],a=r.query,o=xu(e,r);e.listenProvider_.startListening(Nu(a),wu(e,a),o.hashFn,o.onComplete)}}}if(!a&&c.length>0&&!r)if(n){const n=null;e.listenProvider_.stopListening(Nu(t),n)}else c.forEach(t=>{const n=e.queryToTagMap.get(ku(t));e.listenProvider_.stopListening(Nu(t),n)})}!function(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=ku(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,c)}return s}function pu(e,t,n,r){const a=Cu(e,r);if(null!=a){const r=Su(a),o=r.path,i=r.queryId,s=Us(o,t);return Eu(e,o,new Ql($l(i),s,n))}return[]}function mu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=t._path;let o=null,i=!1;e.syncPointTree_.foreachOnPath(a,(e,t)=>{const n=Us(e,a);o=o||nu(t,n),i=i||ou(t)});let s,l=e.syncPointTree_.get(a);if(l?(i=i||ou(l),o=o||nu(l,Ls())):(l=new Yc,e.syncPointTree_=e.syncPointTree_.set(a,l)),null!=o)s=!0;else{s=!1,o=kl.EMPTY_NODE;e.syncPointTree_.subtree(a).foreachChild((e,t)=>{const n=nu(t,Ls());n&&(o=o.updateImmediateChild(e,n))})}const c=au(l,t);if(!c&&!t._queryParams.loadsAllData()){const n=ku(t);ma(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=su++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let u=Zc(l,t,n,vc(e.pendingWriteTree_,a),o,s);if(!c&&!i&&!r){const n=ru(l,t);u=u.concat(function(e,t,n){const r=t._path,a=wu(e,t),o=xu(e,n),i=e.listenProvider_.startListening(Nu(t),a,o.hashFn,o.onComplete),s=e.syncPointTree_.subtree(r);if(a)ma(!ou(s.value),"If we're adding a query, it shouldn't be shadowed");else{const t=s.fold((e,t,n)=>{if(!Hs(e)&&t&&ou(t))return[iu(t).query];{let e=[];return t&&(e=e.concat(tu(t).map(e=>e.query))),ts(n,(t,n)=>{e=e.concat(n)}),e}});for(let n=0;n<t.length;++n){const r=t[n];e.listenProvider_.stopListening(Nu(r),wu(e,r))}}return i}(e,t,n))}return u}function gu(e,t,n){const r=e.pendingWriteTree_,a=e.syncPointTree_.findOnPath(t,(e,n)=>{const r=nu(n,Us(e,t));if(r)return r});return kc(r,t,a,n,!0)}function yu(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,(e,t)=>{const a=Us(e,n);r=r||nu(t,a)});let a=e.syncPointTree_.get(n);a?r=r||nu(a,Ls()):(a=new Yc,e.syncPointTree_=e.syncPointTree_.set(n,a));const o=null!=r,i=o?new Xl(r,!0,!1):null;return function(e){return rc(e.viewCache_)}(Jc(a,t,vc(e.pendingWriteTree_,t._path),o?i.getNode():kl.EMPTY_NODE,o))}function vu(e,t){return bu(t,e.syncPointTree_,null,vc(e.pendingWriteTree_,Ls()))}function bu(e,t,n,r){if(Hs(e.path))return _u(e,t,n,r);{const a=t.get(Ls());null==n&&null!=a&&(n=nu(a,Ls()));let o=[];const i=Os(e.path),s=e.operationForChild(i),l=t.children.get(i);if(l&&s){const e=n?n.getImmediateChild(i):null,t=Rc(r,i);o=o.concat(bu(s,l,e,t))}return a&&(o=o.concat(Xc(a,e,r,n))),o}}function _u(e,t,n,r){const a=t.get(Ls());null==n&&null!=a&&(n=nu(a,Ls()));let o=[];return t.children.inorderTraversal((t,a)=>{const i=n?n.getImmediateChild(t):null,s=Rc(r,t),l=e.operationForChild(t);l&&(o=o.concat(_u(l,a,i,s)))}),a&&(o=o.concat(Xc(a,e,r,n))),o}function xu(e,t){const n=t.query,r=wu(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||kl.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return r?function(e,t,n){const r=Cu(e,n);if(r){const n=Su(r),a=n.path,o=n.queryId,i=Us(a,t);return Eu(e,a,new Gl($l(o),i))}return[]}(e,n._path,r):function(e,t){return vu(e,new Gl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return fu(e,n,null,r)}}}}function wu(e,t){const n=ku(t);return e.queryToTagMap.get(n)}function ku(e){return e._path.toString()+"$"+e._queryIdentifier}function Cu(e,t){return e.tagToQueryMap.get(t)}function Su(e){const t=e.indexOf("$");return ma(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Is(e.substr(0,t))}}function Eu(e,t,n){const r=e.syncPointTree_.get(t);ma(r,"Missing sync point for query tag that we're tracking");return Xc(r,n,vc(e.pendingWriteTree_,t),null)}function Nu(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(ma(Qc,"Reference.ts has not been loaded"),Qc)(e._repo,e._path):e}class Tu{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Tu(t)}node(){return this.node_}}class ju{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Ws(this.path_,e);return new ju(this.syncTree_,t)}node(){return gu(this.syncTree_,this.path_)}}const Ru=function(e,t,n){return e&&"object"===typeof e?(ma(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?Pu(e[".sv"],t,n):"object"===typeof e[".sv"]?Iu(e[".sv"],t):void ma(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Pu=function(e,t,n){if("timestamp"===e)return n.timestamp;ma(!1,"Unexpected server value: "+e)},Iu=function(e,t,n){e.hasOwnProperty("increment")||ma(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!==typeof r&&ma(!1,"Unexpected increment value: "+r);const a=t.node();if(ma(null!==a&&"undefined"!==typeof a,"Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return r;const o=a.getValue();return"number"!==typeof o?r:o+r},Lu=function(e,t,n,r){return Mu(t,new ju(n,e),r)},Ou=function(e,t,n){return Mu(e,new Tu(t),n)};function Mu(e,t,n){const r=e.getPriority().val(),a=Ru(r,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const r=e,o=Ru(r.getValue(),t,n);return o!==r.getValue()||a!==r.getPriority().val()?new pl(o,Sl(a)):e}{const r=e;return o=r,a!==r.getPriority().val()&&(o=o.updatePriority(new pl(a))),r.forEachChild(ml,(e,r)=>{const a=Mu(r,t.getImmediateChild(e),n);a!==r&&(o=o.updateImmediateChild(e,a))}),o}}class Au{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};this.name=e,this.parent=t,this.node=n}}function Du(e,t){let n=t instanceof Is?t:new Is(t),r=e,a=Os(n);for(;null!==a;){const e=Va(r.node.children,a)||{children:{},childCount:0};r=new Au(a,r,e),n=As(n),a=Os(n)}return r}function zu(e){return e.node.value}function Fu(e,t){e.node.value=t,qu(e)}function Wu(e){return e.node.childCount>0}function Hu(e,t){ts(e.node.children,(n,r)=>{t(new Au(n,e,r))})}function Uu(e,t,n,r){n&&!r&&t(e),Hu(e,e=>{Uu(e,t,!0,r)}),n&&r&&t(e)}function Bu(e){return new Is(null===e.parent?e.name:Bu(e.parent)+"/"+e.name)}function qu(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===zu(e)&&!Wu(e)}(n),a=qa(e.node.children,t);r&&a?(delete e.node.children[t],e.node.childCount--,qu(e)):r||a||(e.node.children[t]=n.node,e.node.childCount++,qu(e))}(e.parent,e.name,e)}const Vu=/[\[\].#$\/\u0000-\u001F\u007F]/,$u=/[\[\].#$\u0000-\u001F\u007F]/,Ku=10485760,Gu=function(e){return"string"===typeof e&&0!==e.length&&!Vu.test(e)},Qu=function(e){return"string"===typeof e&&0!==e.length&&!$u.test(e)},Yu=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!Ki(e)||e&&"object"===typeof e&&qa(e,".sv")},Xu=function(e,t,n,r){r&&void 0===t||Ju(Xa(e,"value"),t,n)},Ju=function(e,t,n){const r=n instanceof Is?new $s(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+Gs(r));if("function"===typeof t)throw new Error(e+"contains a function "+Gs(r)+" with contents = "+t.toString());if(Ki(t))throw new Error(e+"contains "+t.toString()+" "+Gs(r));if("string"===typeof t&&t.length>Ku/3&&Ja(t)>Ku)throw new Error(e+"contains a string greater than "+Ku+" utf8 bytes "+Gs(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,a=!1;if(ts(t,(t,o)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(a=!0,!Gu(t)))throw new Error(e+" contains an invalid key ("+t+") "+Gs(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Ja(t),Ks(e)}(r,t),Ju(e,o,r),function(e){const t=e.parts_.pop();e.byteLength_-=Ja(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)}),n&&a)throw new Error(e+' contains ".value" child '+Gs(r)+" in addition to actual children.")}},Zu=function(e,t,n,r){if(r&&void 0===t)return;const a=Xa(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(a+" must be an object containing the children to replace.");const o=[];ts(t,(e,t)=>{const r=new Is(e);if(Ju(a,t,Ws(n,r)),".priority"===Ds(r)&&!Yu(t))throw new Error(a+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(r)}),function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const a=zs(r);for(let t=0;t<a.length;t++)if(".priority"===a[t]&&t===a.length-1);else if(!Gu(a[t]))throw new Error(e+"contains an invalid key ("+a[t]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Bs);let a=null;for(n=0;n<t.length;n++){if(r=t[n],null!==a&&Vs(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(a,o)},ed=function(e,t,n,r){if((!r||void 0!==n)&&!Qu(n))throw new Error(Xa(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},td=function(e,t){if(".info"===Os(t))throw new Error(e+" failed = Can't modify data under /.info/")},nd=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Gu(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Qu(e)}(n))throw new Error(Xa(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class rd{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ad(e,t){let n=null;for(let r=0;r<t.length;r++){const a=t[r],o=a.getPath();null===n||qs(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(a)}n&&e.eventLists_.push(n)}function od(e,t,n){ad(e,n),sd(e,e=>qs(e,t))}function id(e,t,n){ad(e,n),sd(e,e=>Vs(e,t)||Vs(t,e))}function sd(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const a=e.eventLists_[r];if(a){t(a.path)?(ld(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function ld(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();Fi&&Ui("event: "+n.toString()),os(r)}}}const cd="repo_interrupt";class ud{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new rd,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Wl(),this.transactionQueueTree_=new Au,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function dd(e,t,n){if(e.stats_=_s(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new zl(e.repoInfo_,(t,n,r,a)=>{pd(e,t,n,r,a)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>md(e,!0),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ua(n)}catch(cp){throw new Error("Invalid authOverride provided: "+cp)}}e.persistentConnection_=new Xs(e.repoInfo_,t,(t,n,r,a)=>{pd(e,t,n,r,a)},t=>{md(e,t)},t=>{!function(e,t){ts(t,(t,n)=>{gd(e,t,n)})}(e,t)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(t=>{e.server_.refreshAuthToken(t)}),e.appCheckProvider_.addTokenChangeListener(t=>{e.server_.refreshAppCheckToken(t.token)}),e.statsReporter_=function(e,t){const n=e.toString();return bs[n]||(bs[n]=t()),bs[n]}(e.repoInfo_,()=>new ql(e.stats_,e.server_)),e.infoData_=new Fl,e.infoSyncTree_=new lu({startListening:(t,n,r,a)=>{let o=[];const i=e.infoData_.getNode(t._path);return i.isEmpty()||(o=hu(e.infoSyncTree_,t._path,i),setTimeout(()=>{a("ok")},0)),o},stopListening:()=>{}}),gd(e,"connected",!1),e.serverSyncTree_=new lu({startListening:(t,n,r,a)=>(e.server_.listen(t,r,n,(n,r)=>{const o=a(n,r);id(e.eventQueue_,t._path,o)}),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function hd(e){const t=e.infoData_.getNode(new Is(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function fd(e){return(t=(t={timestamp:hd(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function pd(e,t,n,r,a){e.dataUpdateCount++;const o=new Is(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let i=[];if(a)if(r){const t=Ka(n,e=>Sl(e));i=function(e,t,n,r){const a=Cu(e,r);if(a){const r=Su(a),o=r.path,i=r.queryId,s=Us(o,t),l=ic.fromObject(n);return Eu(e,o,new Yl($l(i),s,l))}return[]}(e.serverSyncTree_,o,t,a)}else{const t=Sl(n);i=pu(e.serverSyncTree_,o,t,a)}else if(r){const t=Ka(n,e=>Sl(e));i=function(e,t,n){const r=ic.fromObject(n);return vu(e,new Yl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,t)}else{const t=Sl(n);i=hu(e.serverSyncTree_,o,t)}let s=o;i.length>0&&(s=Sd(e,o)),id(e.eventQueue_,s,i)}function md(e,t){gd(e,"connected",t),!1===t&&function(e){xd(e,"onDisconnectEvents");const t=fd(e),n=Wl();Ul(e.onDisconnect_,Ls(),(r,a)=>{const o=Lu(r,a,e.serverSyncTree_,t);Hl(n,r,o)});let r=[];Ul(n,Ls(),(t,n)=>{r=r.concat(hu(e.serverSyncTree_,t,n));const a=Rd(e,t);Sd(e,a)}),e.onDisconnect_=Wl(),id(e.eventQueue_,Ls(),r)}(e)}function gd(e,t,n){const r=new Is("/.info/"+t),a=Sl(n);e.infoData_.updateSnapshot(r,a);const o=hu(e.infoSyncTree_,r,a);id(e.eventQueue_,r,o)}function yd(e){return e.nextWriteId_++}function vd(e,t,n,r,a){xd(e,"set",{path:t.toString(),value:n,priority:r});const o=fd(e),i=Sl(n,r),s=gu(e.serverSyncTree_,t),l=Ou(i,s,o),c=yd(e),u=cu(e.serverSyncTree_,t,l,c,!0);ad(e.eventQueue_,u),e.server_.put(t.toString(),i.val(!0),(n,r)=>{const o="ok"===n;o||$i("set at "+t+" failed: "+n);const i=du(e.serverSyncTree_,c,!o);id(e.eventQueue_,t,i),wd(e,a,n,r)});const d=Rd(e,t);Sd(e,d),id(e.eventQueue_,d,[])}function bd(e,t,n){let r;r=".info"===Os(t._path)?fu(e.infoSyncTree_,t,n):fu(e.serverSyncTree_,t,n),od(e.eventQueue_,t._path,r)}function _d(e){e.persistentConnection_&&e.persistentConnection_.interrupt(cd)}function xd(e){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];Ui(t,...r)}function wd(e,t,n,r){t&&os(()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let a=e;r&&(a+=": "+r);const o=new Error(a);o.code=e,t(o)}})}function kd(e,t,n){return gu(e.serverSyncTree_,t,n)||kl.EMPTY_NODE}function Cd(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||jd(e,t),zu(t)){const n=Nd(e,t);ma(n.length>0,"Sending zero length transaction queue");n.every(e=>0===e.status)&&function(e,t,n){const r=n.map(e=>e.currentWriteId),a=kd(e,t,r);let o=a;const i=a.hash();for(let c=0;c<n.length;c++){const e=n[c];ma(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const r=Us(t,e.path);o=o.updateChild(r,e.currentOutputSnapshotRaw)}const s=o.val(!0),l=t;e.server_.put(l.toString(),s,r=>{xd(e,"transaction put response",{path:l.toString(),status:r});let a=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,a=a.concat(du(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push(()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)),n[t].unwatcher();jd(e,Du(e.transactionQueueTree_,t)),Cd(e,e.transactionQueueTree_),id(e.eventQueue_,t,a);for(let e=0;e<r.length;e++)os(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{$i("transaction at "+l.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}Sd(e,t)}},i)}(e,Bu(t),n)}else Wu(t)&&Hu(t,t=>{Cd(e,t)})}function Sd(e,t){const n=Ed(e,t),r=Bu(n);return function(e,t,n){if(0===t.length)return;const r=[];let a=[];const o=t.filter(e=>0===e.status),i=o.map(e=>e.currentWriteId);for(let s=0;s<t.length;s++){const o=t[s],l=Us(n,o.path);let c,u=!1;if(ma(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===o.status)u=!0,c=o.abortReason,a=a.concat(du(e.serverSyncTree_,o.currentWriteId,!0));else if(0===o.status)if(o.retryCount>=25)u=!0,c="maxretry",a=a.concat(du(e.serverSyncTree_,o.currentWriteId,!0));else{const n=kd(e,o.path,i);o.currentInputSnapshot=n;const r=t[s].update(n.val());if(void 0!==r){Ju("transaction failed: Data returned ",r,o.path);let t=Sl(r);"object"===typeof r&&null!=r&&qa(r,".priority")||(t=t.updatePriority(n.getPriority()));const s=o.currentWriteId,l=fd(e),c=Ou(t,n,l);o.currentOutputSnapshotRaw=t,o.currentOutputSnapshotResolved=c,o.currentWriteId=yd(e),i.splice(i.indexOf(s),1),a=a.concat(cu(e.serverSyncTree_,o.path,c,o.currentWriteId,o.applyLocally)),a=a.concat(du(e.serverSyncTree_,s,!0))}else u=!0,c="nodata",a=a.concat(du(e.serverSyncTree_,o.currentWriteId,!0))}id(e.eventQueue_,n,a),a=[],u&&(t[s].status=2,function(e){setTimeout(e,Math.floor(0))}(t[s].unwatcher),t[s].onComplete&&("nodata"===c?r.push(()=>t[s].onComplete(null,!1,t[s].currentInputSnapshot)):r.push(()=>t[s].onComplete(new Error(c),!1,null))))}jd(e,e.transactionQueueTree_);for(let s=0;s<r.length;s++)os(r[s]);Cd(e,e.transactionQueueTree_)}(e,Nd(e,n),r),r}function Ed(e,t){let n,r=e.transactionQueueTree_;for(n=Os(t);null!==n&&void 0===zu(r);)r=Du(r,n),n=Os(t=As(t));return r}function Nd(e,t){const n=[];return Td(e,t,n),n.sort((e,t)=>e.order-t.order),n}function Td(e,t,n){const r=zu(t);if(r)for(let a=0;a<r.length;a++)n.push(r[a]);Hu(t,t=>{Td(e,t,n)})}function jd(e,t){const n=zu(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,Fu(t,n.length>0?n:void 0)}Hu(t,t=>{jd(e,t)})}function Rd(e,t){const n=Bu(Ed(e,t)),r=Du(e.transactionQueueTree_,t);return function(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,t=>{Pd(e,t)}),Pd(e,r),Uu(r,t=>{Pd(e,t)}),n}function Pd(e,t){const n=zu(t);if(n){const r=[];let a=[],o=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(ma(o===t-1,"All SENT items should be at beginning of queue."),o=t,n[t].status=3,n[t].abortReason="set"):(ma(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),a=a.concat(du(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===o?Fu(t,void 0):n.length=o+1,id(e.eventQueue_,Bu(t),a);for(let e=0;e<r.length;e++)os(r[e])}}const Id=function(e,t){const n=Ld(e),r=n.namespace;"firebase.com"===n.domain&&Vi(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||Vi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&$i("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const a="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new ms(n.host,n.secure,r,a,t,"",r!==n.subdomain),path:new Is(n.pathString)}},Ld=function(e){let t="",n="",r="",a="",o="",i=!0,s="https",l=443;if("string"===typeof e){let c=e.indexOf("//");c>=0&&(s=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");-1===u&&(u=e.length);let d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(a=function(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let e=n[r];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(cp){}t+="/"+e}return t}(e.substring(u,d)));const h=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):$i("Invalid query segment '".concat(n,"' in query '").concat(e,"'"))}return t}(e.substring(Math.min(e.length,d)));c=t.indexOf(":"),c>=0?(i="https"===s||"wss"===s,l=parseInt(t.substring(c+1),10)):c=t.length;const f=t.slice(0,c);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),o=r}"ns"in h&&(o=h.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:i,scheme:s,pathString:a,namespace:o}},Od="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz";!function(){let e=0;const t=[]}();class Md{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ua(this.snapshot.exportVal())}}class Ad{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Dd{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return ma(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class zd{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return Hs(this._path)?null:Ds(this._path)}get ref(){return new Fd(this._repo,this._path)}get _queryIdentifier(){const e=Dl(this._queryParams),t=Zi(e);return"{}"===t?"default":t}get _queryObject(){return Dl(this._queryParams)}isEqual(e){if(!((e=Za(e))instanceof zd))return!1;const t=this._repo===e._repo,n=qs(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class Fd extends zd{constructor(e,t){super(e,t,new Ml,!1)}get parent(){const e=Fs(this._path);return null===e?null:new Fd(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Wd{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Is(e),n=Ud(this.ref,e);return new Wd(this._node.getChild(t),n,ml)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;return!!this._node.forEachChild(this._index,(t,n)=>e(new Wd(n,Ud(this.ref,t),ml)))}hasChild(e){const t=new Is(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Hd(e,t){return(e=Za(e))._checkNotDeleted("ref"),void 0!==t?Ud(e._root,t):e._root}function Ud(e,t){var n,r,a,o;return null===Os((e=Za(e))._path)?(n="child",r="path",o=!1,(a=t)&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),ed(n,r,a,o)):ed("child","path",t,!1),new Fd(e._repo,Ws(e._path,t))}function Bd(e){return td("remove",e._path),qd(e,null)}function qd(e,t){e=Za(e),td("set",e._path),Xu("set",t,e._path,!1);const n=new Ra;return vd(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function Vd(e,t){Zu("update",t,e._path,!1);const n=new Ra;return function(e,t,n,r){xd(e,"update",{path:t.toString(),value:n});let a=!0;const o=fd(e),i={};if(ts(n,(n,r)=>{a=!1,i[n]=Lu(Ws(t,n),Sl(r),e.serverSyncTree_,o)}),a)Ui("update() called with empty data.  Don't do anything."),wd(0,r,"ok",void 0);else{const a=yd(e),o=uu(e.serverSyncTree_,t,i,a);ad(e.eventQueue_,o),e.server_.merge(t.toString(),n,(n,o)=>{const i="ok"===n;i||$i("update at "+t+" failed: "+n);const s=du(e.serverSyncTree_,a,!i),l=s.length>0?Sd(e,t):t;id(e.eventQueue_,l,s),wd(0,r,n,o)}),ts(n,n=>{const r=Rd(e,Ws(t,n));Sd(e,r)}),id(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}function $d(e){e=Za(e);const t=new Dd(()=>{}),n=new Kd(t);return function(e,t,n){const r=yu(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then(r=>{const a=Sl(r).withIndex(t._queryParams.getIndex());let o;if(mu(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())o=hu(e.serverSyncTree_,t._path,a);else{const n=wu(e.serverSyncTree_,t);o=pu(e.serverSyncTree_,t._path,a,n)}return id(e.eventQueue_,t._path,o),fu(e.serverSyncTree_,t,n,null,!0),a},n=>(xd(e,"get for query "+Ua(t)+" failed: "+n),Promise.reject(new Error(n))))}(e._repo,e,n).then(t=>new Wd(t,new Fd(e._repo,e._path),e._queryParams.getIndex()))}class Kd{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new Md("value",this,new Wd(e.snapshotNode,new Fd(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Ad(this,e,t):null}matches(e){return e instanceof Kd&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Gd{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Ad(this,e,t):null}createEvent(e,t){ma(null!=e.childName,"Child events should have a childName.");const n=Ud(new Fd(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Md(e.type,this,new Wd(e.snapshotNode,n,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Gd&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))}hasAnyCallback(){return!!this.callbackContext}}function Qd(e,t,n,r,a){let o;if("object"===typeof r&&(o=void 0,a=r),"function"===typeof r&&(o=r),a&&a.onlyOnce){const t=n,r=(n,r)=>{bd(e._repo,e,s),t(n,r)};r.userCallback=n.userCallback,r.context=n.context,n=r}const i=new Dd(n,o||void 0),s="value"===t?new Kd(i):new Gd(t,i);return function(e,t,n){let r;r=".info"===Os(t._path)?mu(e.infoSyncTree_,t,n):mu(e.serverSyncTree_,t,n),od(e.eventQueue_,t._path,r)}(e._repo,e,s),()=>bd(e._repo,e,s)}function Yd(e,t,n,r){return Qd(e,"value",t,n,r)}!function(e){ma(!Gc,"__referenceConstructor has already been defined"),Gc=e}(Fd),function(e){ma(!Qc,"__referenceConstructor has already been defined"),Qc=e}(Fd);const Xd={};let Jd=!1;function Zd(e,t,n,r,a){let o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||Vi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ui("Using default host for project ",e.options.projectId),o="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));let i,s,l=Id(o,a),c=l.repoInfo;"undefined"!==typeof process&&(s={NODE_ENV:"production",PUBLIC_URL:"/Chat_App_FE",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FIREBASE_DATABASE_EMULATOR_HOST),s?(i=!0,o="http://".concat(s,"?ns=").concat(c.namespace),l=Id(o,a),c=l.repoInfo):i=!l.repoInfo.secure;const u=a&&i?new cs(cs.OWNER):new ls(e.name,e.options,t);nd("Invalid Firebase Database URL",l),Hs(l.path)||Vi("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function(e,t,n,r){let a=Xd[t.name];a||(a={},Xd[t.name]=a);let o=a[e.toURLString()];o&&Vi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new ud(e,Jd,n,r),a[e.toURLString()]=o,o}(c,e,u,new ss(e,n));return new eh(d,e)}class eh{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(dd(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Fd(this._repo,Ls())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=Xd[t];n&&n[e.key]===e||Vi("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),_d(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Vi("Cannot call "+e+" on a deleted database.")}}Xs.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Xs.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){ji("12.6.0"),ui(new eo("database",(e,t)=>{let{instanceIdentifier:n}=t;return Zd(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)},"PUBLIC").setMultipleInstances(!0)),mi(Ei,Ni,e),mi(Ei,Ni,"esm2020")}();const th=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ai;const t=ii.get(e);if(!t&&e===ai&&ja())return pi();if(!t)throw hi.create("no-app",{appName:e});return t}(),t=arguments.length>1?arguments[1]:void 0;const n=di(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const e=Ta("database");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=Za(e),e._checkNotDeleted("useEmulator");const a="".concat(t,":").concat(n),o=e._repoInternal;if(e._instanceStarted){if(a===e._repoInternal.repoInfo_.host&&Ga(r,o.repoInfo_.emulatorOptions))return;Vi("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let i;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&Vi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),i=new cs(cs.OWNER);else if(r.mockUserToken){const t="string"===typeof r.mockUserToken?r.mockUserToken:function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=d({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e);return[xa(JSON.stringify({alg:"none",type:"JWT"})),xa(JSON.stringify(o)),""].join(".")}(r.mockUserToken,e.app.options.projectId);i=new cs(t)}Pa(t)&&(!async function(e){(await fetch(e,{credentials:"include"})).ok}(t),Oa("Database",!0));!function(e,t,n,r){const a=t.lastIndexOf(":"),o=Pa(t.substring(0,a));e.repoInfo_=new ms(t,o,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(e.authTokenProvider_=r)}(o,a,r,i)}(n,...e)}return n}(pi({apiKey:"AIzaSyDxNeJCm4u-9u1mots-oM1l0t8_BeKeo_o",authDomain:"frontendproject-62f39.firebaseapp.com",databaseURL:"https://frontendproject-62f39-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"frontendproject-62f39",storageBucket:"frontendproject-62f39.firebasestorage.app",messagingSenderId:"48876159496",appId:"1:48876159496:web:3e2496bcc99509767bc7bd",measurementId:"G-01SVVT8DJ2"})),nh=e=>e?e.replace(/\./g,"_dot_").replace(/#/g,"_hash_").replace(/\$/g,"_dollar_").replace(/\[/g,"_bracket_open_").replace(/\]/g,"_bracket_close_").replace(/@/g,"_at_"):"",rh=(e,t)=>[e,t].sort().join("_"),ah=Yr("auth/fetchAvatar",async e=>{const t=await(async e=>{const t=nh(e),n=Hd(th,"users/"+t+"/avatar");try{const e=await $d(n);if(e.exists())return e.val()}catch(qi){console.error(qi)}return null})(e);return t}),oh=na({name:"auth",initialState:{user:localStorage.getItem("username")?{username:localStorage.getItem("username"),avatar:localStorage.getItem("user_avatar")||void 0}:null,isAuthenticated:!!localStorage.getItem("reLoginCode"),reLoginCode:localStorage.getItem("reLoginCode"),loading:!1,error:null,registerSuccess:!1,socketConnected:!1,socketConnectionError:null},reducers:{loginRequest:e=>{e.loading=!0,e.error=null},loginSuccess:(e,t)=>{var n;e.loading=!1,e.isAuthenticated=!0;const r=(null===(n=e.user)||void 0===n?void 0:n.avatar)||localStorage.getItem("user_avatar");e.user=d(d({},t.payload.user),{},{avatar:r||void 0}),t.payload.reLoginCode&&(e.reLoginCode=t.payload.reLoginCode,localStorage.setItem("reLoginCode",t.payload.reLoginCode),localStorage.setItem("username",t.payload.user.username)),e.error=null},updateAvatar:(e,t)=>{e.user&&(e.user.avatar=t.payload,localStorage.setItem("user_avatar",t.payload))},loginFailure:(e,t)=>{e.loading=!1,e.isAuthenticated=!1,e.user=null,e.error=t.payload},registerSuccess:e=>{e.loading=!1,e.error=null,e.registerSuccess=!0},logout:e=>{e.user=null,e.isAuthenticated=!1,e.reLoginCode=null,e.error=null,localStorage.removeItem("reLoginCode"),localStorage.removeItem("username"),localStorage.removeItem("user_avatar")},clearError:e=>{e.error=null},socketConnected:e=>{e.socketConnected=!0,e.socketConnectionError=null},socketDisconnected:e=>{e.socketConnected=!1},socketConnectionError:(e,t)=>{e.socketConnected=!1,e.socketConnectionError=t.payload}},extraReducers:e=>{e.addCase(ah.fulfilled,(e,t)=>{e.user&&t.payload&&(e.user.avatar=t.payload,localStorage.setItem("user_avatar",t.payload))})}}),{loginRequest:ih,loginSuccess:sh,loginFailure:lh,registerSuccess:ch,logout:uh,clearError:dh,socketConnected:hh,socketDisconnected:fh,socketConnectionError:ph,updateAvatar:mh}=oh.actions,gh=oh.reducer,yh=na({name:"chat",initialState:{messagesByTarget:{},pinnedMessages:{}},reducers:{setMessages:(e,t)=>{e.messagesByTarget[t.payload.target]=t.payload.messages},addHistoryMessages:(e,t)=>{const{target:n,messages:r}=t.payload,a=e.messagesByTarget[n]||[];if(0===r.length)return;const o=new Set(a.map(e=>e.createAt+"_"+e.mes)),i=r.filter(e=>!o.has(e.createAt+"_"+e.mes));e.messagesByTarget[n]=[...i,...a],console.log("Loaded history for ".concat(n,": added ").concat(i.length," msgs"))},addMessage:(e,t)=>{const{target:n}=t.payload;console.log('REDUX: Adding message to target: "'.concat(n,'"')),e.messagesByTarget[t.payload.target]||(e.messagesByTarget[t.payload.target]=[]),e.messagesByTarget[t.payload.target].push(t.payload.message),console.log("   -> New length for ".concat(n,": ").concat(e.messagesByTarget[n].length))},clearMessages:(e,t)=>{delete e.messagesByTarget[t.payload.target]},setPinnedMessage:(e,t)=>{t.payload.message?e.pinnedMessages[t.payload.target]=t.payload.message:delete e.pinnedMessages[t.payload.target]}}}),{setMessages:vh,addMessage:bh,clearMessages:_h,addHistoryMessages:xh,setPinnedMessage:wh}=yh.actions,kh=yh.reducer,Ch=na({name:"chatPartner",initialState:{partners:[],loading:!1},reducers:{setPartners:(e,t)=>{e.partners=t.payload,e.loading=!1},updatePartnerOnline:(e,t)=>{const n=e.partners.find(e=>e.name===t.payload.name&&"people"===e.type);n&&(n.isOnline=t.payload.isOnline)},setPartnersLoading:(e,t)=>{e.loading=t.payload}}}),{setPartners:Sh,updatePartnerOnline:Eh,setPartnersLoading:Nh}=Ch.actions,Th=Ch.reducer,jh=na({name:"currentChat",initialState:{name:null,type:null,userList:[]},reducers:{setCurrentChat:(e,t)=>{e.name=t.payload.name,e.type=t.payload.type,e.userList=[]},setRoomMembers:(e,t)=>{e.userList=t.payload},clearCurrentChat:e=>{e.name=null,e.type=null,e.userList=[]}}}),{setCurrentChat:Rh,clearCurrentChat:Ph,setRoomMembers:Ih}=jh.actions,Lh=jh.reducer,Oh=na({name:"unread",initialState:{unreadCounts:{}},reducers:{increaseUnread:(e,t)=>{const n=t.payload;e.unreadCounts[n]?e.unreadCounts[n]+=1:e.unreadCounts[n]=1},clearUnread:(e,t)=>{const n=t.payload;e.unreadCounts[n]&&delete e.unreadCounts[n]},clearAllUnread:e=>{e.unreadCounts={}}}}),{increaseUnread:Mh,clearUnread:Ah,clearAllUnread:Dh}=Oh.actions,zh=Oh.reducer,Fh=na({name:"theme",initialState:{mode:localStorage.getItem("theme")||"light"},reducers:{toggleTheme:e=>{e.mode="light"===e.mode?"dark":"light",localStorage.setItem("theme",e.mode)},setTheme:(e,t)=>{e.mode=t.payload,localStorage.setItem("theme",t.payload)}}}),{toggleTheme:Wh,setTheme:Hh}=Fh.actions,Uh=Fh.reducer,Bh=na({name:"ui",initialState:{activeSidebarTab:"chats",activeContactTab:"friends",replyingTo:{target:null,message:null},joinRoomStatus:"idle",joinRoomError:null},reducers:{setActiveSidebarTab:(e,t)=>{e.activeSidebarTab=t.payload},setActiveContactTab:(e,t)=>{e.activeContactTab=t.payload},setReplyingTo:(e,t)=>{t.payload?e.replyingTo={target:t.payload.target,message:t.payload.message}:e.replyingTo={target:null,message:null}},clearReplyingTo:e=>{e.replyingTo={target:null,message:null}},setJoinRoomStatus:(e,t)=>{e.joinRoomStatus=t.payload},setJoinRoomError:(e,t)=>{e.joinRoomError=t.payload},resetJoinRoomState:e=>{e.joinRoomStatus="idle",e.joinRoomError=null}}}),{setActiveSidebarTab:qh,setActiveContactTab:Vh,setReplyingTo:$h,clearReplyingTo:Kh,setJoinRoomStatus:Gh,setJoinRoomError:Qh,resetJoinRoomState:Yh}=Bh.actions,Xh=Bh.reducer,Jh=na({name:"search",initialState:{isSearching:!1,searchResult:null,searchedUsername:""},reducers:{startSearching:(e,t)=>{e.isSearching=!0,e.searchResult=null,e.searchedUsername=t.payload},setSearchResult:(e,t)=>{e.isSearching=!1,e.searchResult=t.payload},clearSearch:e=>{e.isSearching=!1,e.searchResult=null,e.searchedUsername=""}}}),{startSearching:Zh,setSearchResult:ef,clearSearch:tf}=Jh.actions,nf=function(e){const t=function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:a=!0}=null!==e&&void 0!==e?e:{};let o=new Mr;return t&&("boolean"===typeof t?o.push(jr):o.push(Rr(t.extraArgument))),o},{reducer:n,middleware:r,devTools:a=!0,duplicateMiddlewareCheck:o=!0,preloadedState:i,enhancers:s}=e||{};let l,c;if("function"===typeof n)l=n;else{if(!Cr(n))throw new Error(da(1));l=Er(n)}c="function"===typeof r?r(t):t();let u=Nr;a&&(u=Ir(d({trace:!1},"object"===typeof a&&a)));const h=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>(n,r)=>{const a=e(n,r);let o=()=>{throw new Error(_r(15))};const i={getState:a.getState,dispatch:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return o(e,...n)}},s=t.map(e=>e(i));return o=Nr(...s)(a.dispatch),d(d({},a),{},{dispatch:o})}}(...c),f=Wr(h);return Sr(l,i,u(..."function"===typeof s?s(f):f()))}({reducer:{auth:gh,chat:kh,chatPartner:Th,currentChat:Lh,unread:zh,theme:Uh,ui:Xh,search:Jh.reducer}});function rf(e){if(!e.startsWith("[REPLY:"))return{replyTo:null,mes:e};try{const t=e.indexOf("{",7);if(-1===t)return{replyTo:null,mes:e};let n=0,r=-1;for(let l=t;l<e.length;l++)if("{"===e[l]&&n++,"}"===e[l]&&n--,0===n){r=l;break}if(-1===r)return{replyTo:null,mes:e};const a=e.substring(t,r+1),o=JSON.parse(a),i=e.indexOf("]",r),s=-1!==i?e.substring(i+1).replace(/^\s+/,""):"";return{replyTo:{senderName:o.sender,message:o.msg,timestamp:o.time},mes:s}}catch(cp){return console.error("Error parsing reply data:",cp),{replyTo:null,mes:e}}}function af(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;return e.length<=t?e:e.substring(0,t)+"..."}const of=async e=>{const t=nh(e),n=await $d(Hd(th,"users/".concat(t,"/friends"))),r=n.exists()?Object.keys(n.val()).length:0,a=await $d(Hd(th,"users/".concat(t,"/groups"))),o=r+(a.exists()?Object.keys(a.val()).length:0);return console.log("Current whitelist size: ".concat(o,"/").concat(4)),o<4},sf=async(e,t)=>{const n=nh(e),r={};r["users/".concat(n,"/groups/").concat(t)]=!0;try{await Vd(Hd(th),r),console.log("\ud83d\udd25 \u0110\xe3 l\u01b0u nh\xf3m [".concat(t,"] v\xe0o Firebase"))}catch(qi){console.error("L\u1ed7i l\u01b0u nh\xf3m Firebase:",qi)}};const lf=new class{constructor(){this.socket=null,this.connectionReady=null,this.resolveConnection=null,this.rejectConnection=null,this.heartbeatInterval=null,this.shouldReconnect=!0,this.reconnectAttempts=0,this.checkOnlineQueue=[],this.onWebRTCSignal=null,this.whitelist=[],this.myGroupNames=new Set}setWhitelist(e,t){this.myGroupNames=new Set(t),this.whitelist=Array.from(new Set([...e,...t])),console.log("\ud83d\udd12 Socket Whitelist Updated:",this.whitelist),this.socket&&this.socket.readyState===WebSocket.OPEN&&this.getUserList()}isWhitelisted(e){return this.whitelist.includes(e)}registerWebRTCListener(e){this.onWebRTCSignal=e}sendWebRTCSignal(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"people";const r=JSON.stringify({type:"WEBRTC_SIGNAL",payload:t});"room"===n?this.sendMessageToRoom(e,r):this.sendMessageToPeople(e,r)}isWebRTCSignal(e){try{if("object"===typeof e&&null!==e)return"WEBRTC_SIGNAL"===e.type?e.payload:null;if("string"===typeof e){const t=e.trim();if(t.startsWith("{")){const e=JSON.parse(t);if(e&&"WEBRTC_SIGNAL"===e.type)return e.payload}}}catch(cp){return null}return null}connect(){return this.socket&&this.socket.readyState===WebSocket.OPEN?Promise.resolve():(this.connectionReady||(this.connectionReady=new Promise((e,t)=>{this.resolveConnection=e,this.rejectConnection=t}),this.socket=new WebSocket("wss://chat.longapp.site/chat/chat"),this.socket.onopen=()=>{this.reconnectAttempts=0,nf.dispatch(hh()),this.startHeartbeat(),this.resolveConnection&&this.resolveConnection()},this.socket.onmessage=e=>{const t=JSON.parse(e.data);this.handleServerResponse(t)},this.socket.onerror=e=>{console.error("L\u1ed7i socket:",e),nf.dispatch(ph("L\u1ed7i k\u1ebft n\u1ed1i.")),this.rejectConnection&&this.rejectConnection(new Error("L\u1ed7i k\u1ebft n\u1ed1i."))},this.socket.onclose=e=>{console.log("\u0110\xf3ng k\u1ebft n\u1ed1i:",e.code),this.stopHeartbeat(),nf.dispatch(fh()),this.connectionReady=null,this.shouldReconnect&&this.reconnectAttempts<5?(this.reconnectAttempts++,setTimeout(()=>this.attemptReconnect(),3e3)):this.reconnectAttempts>=5&&nf.dispatch(ph("Kh\xf4ng th\u1ec3 k\u1ebft n\u1ed1i l\u1ea1i."))}),this.connectionReady)}handleServerResponse(e){var t;const n="onchat"===e.action?e.data:e,{event:r,status:a,data:o,mes:i}=n,s=nf.getState().currentChat,l=(null===(t=nf.getState().auth.user)||void 0===t?void 0:t.username)||localStorage.getItem("username");if(console.log("Socket Response [".concat(r,"]:"),a,n),"success"===a)switch(r){case"LOGIN":case"RE_LOGIN":const e=null===o||void 0===o?void 0:o.RE_LOGIN_CODE;nf.dispatch(sh({user:{username:l||""},reLoginCode:e})),this.getUserList();break;case"REGISTER":nf.dispatch(ch()),nf.dispatch(sh({user:{username:l||""},reLoginCode:null===o||void 0===o?void 0:o.RE_LOGIN_CODE})),this.getUserList();break;case"GET_PEOPLE_CHAT_MES":if(Array.isArray(o)&&o.length>0){const e=o[0],t=e.name===l?e.to:e.name,n=[...o].filter(e=>!this.isWebRTCSignal(e.mes)).reverse().map(e=>{const{replyTo:t,mes:n}=rf(e.mes);return d(d({},e),{},{mes:n,replyTo:t||void 0})}),r=nf.getState().chat.messagesByTarget[t];r&&0!==r.length?nf.dispatch(xh({target:t,messages:n})):nf.dispatch(vh({target:t,messages:n}))}else if(Array.isArray(o)&&0===o.length&&"people"===s.type&&s.name){const e=nf.getState().chat.messagesByTarget[s.name];e&&0!==e.length||nf.dispatch(vh({target:s.name,messages:[]}))}break;case"GET_ROOM_CHAT_MES":if(o&&o.name){const e=o.name,t=[...o.chatData||[]].filter(e=>!this.isWebRTCSignal(e.mes)).reverse().map(e=>{const{replyTo:t,mes:n}=rf(e.mes);return d(d({},e),{},{mes:n,replyTo:t||void 0})}),n=nf.getState().chat.messagesByTarget[e];n&&0!==n.length?nf.dispatch(xh({target:e,messages:t})):nf.dispatch(vh({target:e,messages:t})),o.userList&&Array.isArray(o.userList)&&(console.log("\ud83d\udc65 C\u1eadp nh\u1eadt th\xe0nh vi\xean nh\xf3m:",o.userList),nf.dispatch(Ih(o.userList)))}break;case"SEND_CHAT":if(o){const{to:e,mes:t,name:n,type:r,createAt:a}=o,i=this.isWebRTCSignal(t);if(i){this.onWebRTCSignal&&n!==l&&this.onWebRTCSignal(n,i,e);break}if(!e||!n)break;const s=1===r||"room"===r?"room":"people";let c="";c="room"===s||n===l?e:n;const{replyTo:u,mes:d}=rf(t),h={name:n,to:e,mes:d,type:s,createAt:a||(new Date).toISOString(),replyTo:u||void 0};nf.dispatch(bh({target:c,message:h}));const f=nf.getState().currentChat;n===l||f.name!==c&&nf.dispatch(Mh(c))}break;case"GET_USER_LIST":if(Array.isArray(o)){let e=[];e=this.whitelist.map(e=>{const t=o.find(t=>t.name===e),n=this.myGroupNames.has(e);return{name:e,type:n?"room":"people",actionTime:(null===t||void 0===t?void 0:t.actionTime)||(new Date).toISOString(),isOnline:!1}}),console.log("\ud83d\udee1\ufe0f Ch\u1ebf \u0111\u1ed9 Firebase Source: \u0110\xe3 t\u1ea1o danh s\xe1ch t\u1eeb Whitelist:",e.length),e.sort((e,t)=>e.actionTime&&t.actionTime?new Date(t.actionTime).getTime()-new Date(e.actionTime).getTime():0),nf.dispatch(Sh(e)),this.checkOnlineQueue=[],e.forEach((e,t)=>{setTimeout(()=>{"people"===e.type?(this.checkOnlineQueue.push(e.name),this.checkUserOnline(e.name),this.getHistory(e.name)):"room"===e.type&&this.getRoomHistory(e.name,1)},300*t)})}break;case"CHECK_USER_EXIST":if(o){const e=!0===o.status;console.log("\ud83d\udd0d Check User Result:",e),nf.dispatch(ef(e))}break;case"CREATE_ROOM":if("success"===a&&o){var c;const e=o.name,t=null===(c=nf.getState().auth.user)||void 0===c?void 0:c.username;t&&e&&sf(t,e)}else console.error("L\u1ed7i t\u1ea1o ph\xf2ng:","Unknown error");break;case"JOIN_ROOM":if(o&&o.name){const e=o.name;l&&sf(l,e),nf.dispatch(Gh("success")),nf.dispatch(Qh(null))}break;case"CHECK_USER_ONLINE":if(o){const e=o.status,t=this.checkOnlineQueue.shift();t&&nf.dispatch(Eh({name:t,isOnline:e}))}}else if("error"===a){const e=n.mes||"C\xf3 l\u1ed7i x\u1ea3y ra";if(console.error("Socket Error:",e),"JOIN_ROOM"===r?(console.error(" Join Room Error:",i),nf.dispatch(Gh("failed")),nf.dispatch(Qh(i||"Kh\xf4ng t\xecm th\u1ea5y ph\xf2ng n\xe0y!"))):console.error("Socket Error [".concat(r,"]:"),i),"User not Login"===e){const e=localStorage.getItem("username"),t=localStorage.getItem("reLoginCode");e&&t?this.reLogin(e,t):nf.dispatch(lh("Phi\xean \u0111\u0103ng nh\u1eadp h\u1ebft h\u1ea1n"))}else["LOGIN","RE_LOGIN","REGISTER"].includes(r)&&nf.dispatch(lh(e))}}startHeartbeat(){this.heartbeatInterval&&clearInterval(this.heartbeatInterval),this.heartbeatInterval=setInterval(()=>{var e;null===(e=this.socket)||void 0===e||e.readyState,WebSocket.OPEN},3e4)}stopHeartbeat(){this.heartbeatInterval&&(clearInterval(this.heartbeatInterval),this.heartbeatInterval=null)}async attemptReconnect(){await this.connect();const e=localStorage.getItem("username"),t=localStorage.getItem("reLoginCode");e&&t&&this.reLogin(e,t)}send(e){this.socket&&this.socket.readyState===WebSocket.OPEN?this.socket.send(JSON.stringify({action:"onchat",data:e})):console.error("Socket not connected")}register(e,t){localStorage.setItem("username",e),this.send({event:"REGISTER",data:{user:e,pass:t}})}login(e,t){localStorage.setItem("username",e),this.send({event:"LOGIN",data:{user:e,pass:t}})}reLogin(e,t){this.send({event:"RE_LOGIN",data:{user:e,code:t}})}logout(){this.shouldReconnect=!1,this.send({event:"LOGOUT"})}sendMessageToPeople(e,t){this.send({event:"SEND_CHAT",data:{type:"people",to:e,mes:t}})}getHistory(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;console.log("Requesting history for ".concat(e," - Page: ").concat(t)),this.send({event:"GET_PEOPLE_CHAT_MES",data:{name:e,page:t}})}getRoomHistory(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.send({event:"GET_ROOM_CHAT_MES",data:{name:e,page:t}})}sendMessageToRoom(e,t){this.send({event:"SEND_CHAT",data:{type:"room",to:e,mes:t}})}getUserList(){this.send({event:"GET_USER_LIST"})}createRoom(e){this.send({event:"CREATE_ROOM",data:{name:e}})}joinRoom(e){this.send({event:"JOIN_ROOM",data:{name:e}})}checkUserExist(e){nf.dispatch(Zh(e)),this.send({event:"CHECK_USER_EXIST",data:{user:e}})}checkUserOnline(e){this.send({event:"CHECK_USER_ONLINE",data:{user:e}})}disconnect(){var e;this.shouldReconnect=!1,this.stopHeartbeat(),null===(e=this.socket)||void 0===e||e.close()}reconnect(){return this.disconnect(),this.connect()}},cf=()=>{const[e,t]=(0,r.useState)(""),[n,a]=(0,r.useState)(""),[o,i]=(0,r.useState)(!1),s=(0,r.useRef)(null),l=(0,r.useRef)(null),c=on(),{loading:u,error:d}=sn(e=>e.auth);(0,r.useEffect)(()=>{c(dh())},[c]),(0,r.useEffect)(()=>{if(d){const e=setTimeout(()=>{c(dh())},5e3);return()=>clearTimeout(e)}},[d,c]);const h=()=>(0,At.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,At.jsx)("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),(0,At.jsx)("circle",{cx:"12",cy:"7",r:"4"})]}),f=()=>(0,At.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,At.jsx)("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),(0,At.jsx)("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),p=e=>{let{isOpen:t}=e;return t?(0,At.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,At.jsx)("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),(0,At.jsx)("circle",{cx:"12",cy:"12",r:"3"})]}):(0,At.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,At.jsx)("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),(0,At.jsx)("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]})};return(0,At.jsx)("div",{className:"w-1/2 h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 overflow-hidden transition-colors duration-200",children:(0,At.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),e.trim()&&n.trim()){c(ih());try{await lf.login(e,n)}catch(r){console.error("Failed to send login request:",r)}}else alert("Vui l\xf2ng nh\u1eadp \u0111\u1ea7y \u0111\u1ee7 th\xf4ng tin")},className:"w-[420px] bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-12 relative z-10 animate-fade-in-up",children:[(0,At.jsx)("h1",{className:"text-[38px] font-semibold text-gray-900 dark:text-white mb-2 text-center",children:"Ch\xe0o M\u1eebng Tr\u1edf L\u1ea1i"}),(0,At.jsx)("p",{className:"text-[17px] text-gray-600 dark:text-gray-300 mb-9 text-center",children:"Vui l\xf2ng \u0111\u0103ng nh\u1eadp v\xe0o t\xe0i kho\u1ea3n c\u1ee7a b\u1ea1n"}),d&&!d.toLowerCase().includes("re-login")&&!d.toLowerCase().includes("overtime")&&(0,At.jsx)("div",{className:"mb-5 p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,At.jsx)("p",{className:"text-sm text-red-600 text-center",children:d})}),(0,At.jsxs)("div",{className:"mb-5",children:[(0,At.jsx)("label",{className:"block text-base font-medium text-gray-700 dark:text-gray-300 mb-2",children:"T\xean \u0111\u0103ng nh\u1eadp"}),(0,At.jsxs)("div",{className:"relative flex items-center",children:[(0,At.jsx)("span",{className:"absolute left-3.5 text-gray-400 pointer-events-none z-10 flex items-center",children:(0,At.jsx)(h,{})}),(0,At.jsx)("input",{ref:s,type:"text",value:e,onChange:e=>t(e.target.value),onKeyDown:e=>{var t;"Enter"===e.key&&(e.preventDefault(),null===(t=l.current)||void 0===t||t.focus())},disabled:u,className:"w-full px-3.5 pl-11 py-3.5 text-base text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-700 border-2 border-gray-300 dark:border-gray-600 rounded-lg outline-none transition-all duration-300 ease-in-out focus:border-primary focus:shadow-[0_0_0_3px_rgba(0,132,255,0.1)] disabled:bg-gray-100 dark:disabled:bg-gray-800 disabled:cursor-not-allowed",placeholder:"Nh\u1eadp t\xean \u0111\u0103ng nh\u1eadp"})]})]}),(0,At.jsxs)("div",{className:"mb-5",children:[(0,At.jsx)("label",{className:"block text-base font-medium text-gray-700 dark:text-gray-300 mb-2",children:"M\u1eadt kh\u1ea9u"}),(0,At.jsxs)("div",{className:"relative flex items-center",children:[(0,At.jsx)("span",{className:"absolute left-3.5 text-gray-400 pointer-events-none z-10 flex items-center",children:(0,At.jsx)(f,{})}),(0,At.jsx)("input",{ref:l,type:o?"text":"password",value:n,onChange:e=>a(e.target.value),disabled:u,className:"w-full px-3.5 pl-11 py-3.5 text-base text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-700 border-2 border-gray-300 dark:border-gray-600 rounded-lg outline-none transition-all duration-300 ease-in-out focus:border-primary focus:shadow-[0_0_0_3px_rgba(0,132,255,0.1)] disabled:bg-gray-100 dark:disabled:bg-gray-800 disabled:cursor-not-allowed",placeholder:"Nh\u1eadp m\u1eadt kh\u1ea9u"}),(0,At.jsx)("span",{onClick:()=>!u&&i(!o),className:"absolute right-3.5 text-gray-400 cursor-pointer transition-colors duration-200 z-10 flex items-center select-none hover:text-primary",children:(0,At.jsx)(p,{isOpen:o})})]})]}),(0,At.jsx)("button",{type:"submit",disabled:u,className:"w-full py-4 text-[17px] font-semibold text-white bg-primary border-none rounded-lg cursor-pointer transition-all duration-300 ease-in-out mb-6 shadow-[0_4px_12px_rgba(0,132,255,0.25)] hover:-translate-y-0.5 hover:shadow-[0_6px_20px_rgba(0,132,255,0.4)] hover:bg-primary-light active:translate-y-0 active:shadow-[0_4px_12px_rgba(0,132,255,0.25)] disabled:bg-gray-400 disabled:cursor-not-allowed disabled:shadow-none",children:u?"\u0110ang \u0111\u0103ng nh\u1eadp...":"\u0110\u0103ng nh\u1eadp"}),(0,At.jsxs)("div",{className:"text-center text-[15px] text-gray-600 dark:text-gray-400",children:["Ch\u01b0a c\xf3 t\xe0i kho\u1ea3n? ",(0,At.jsx)(Tt,{to:"/register",className:"text-primary dark:text-blue-400 no-underline cursor-pointer font-semibold transition-opacity duration-200 hover:opacity-70 hover:underline",children:"\u0110\u0103ng k\xfd"})]})]})})},uf=()=>(0,At.jsxs)("div",{className:"flex w-screen h-screen overflow-hidden",children:[(0,At.jsx)(Dt,{}),(0,At.jsx)(cf,{})]}),df=()=>{const e=e=>{let{top:t,left:n,delay:r}=e;return(0,At.jsx)("div",{className:"absolute w-1.5 h-1.5 rounded-full bg-white/60 animate-float-particle",style:{top:t,left:n,animationDelay:"".concat(r,"s")}})};return(0,At.jsxs)("div",{className:"relative w-1/2 h-screen flex flex-col items-center justify-center bg-gradient-to-br from-blue-400 to-primary overflow-hidden",children:[(0,At.jsx)("div",{className:"absolute w-[300px] h-[300px] rounded-full border-2 border-white/20 -top-[100px] -left-[100px] opacity-10"}),(0,At.jsx)("div",{className:"absolute w-[250px] h-[250px] rounded-full border-2 border-white/20 -bottom-[80px] -right-[80px] opacity-12"}),(0,At.jsx)("div",{className:"absolute w-[180px] h-[180px] rounded-full border-2 border-white/20 top-[20%] left-[10%] opacity-8"}),(0,At.jsx)("div",{className:"absolute w-[200px] h-[200px] rounded-full border-2 border-white/20 bottom-[25%] right-[15%] opacity-9"}),(0,At.jsx)(e,{top:"25%",left:"20%",delay:0}),(0,At.jsx)(e,{top:"45%",left:"80%",delay:1}),(0,At.jsx)(e,{top:"65%",left:"15%",delay:2}),(0,At.jsx)(e,{top:"75%",left:"70%",delay:1.5}),(0,At.jsxs)("div",{className:"relative text-center z-10 max-w-[500px] px-10",children:[(0,At.jsx)("h1",{className:"text-[56px] font-semibold text-white m-0 mb-4 tracking-tight",children:"Ch\xe0o M\u1eebng B\u1ea1n!"}),(0,At.jsx)("p",{className:"text-xl text-white/95 m-0 leading-relaxed",children:"T\u1ea1o t\xe0i kho\u1ea3n \u0111\u1ec3 tr\u1ea3i nghi\u1ec7m \u0111\u1ea7y \u0111\u1ee7 c\xe1c t\xednh n\u0103ng c\u1ee7a ch\xfang t\xf4i"})]})]})},hf=()=>{const[e,t]=(0,r.useState)(""),[n,a]=(0,r.useState)(""),[o,i]=(0,r.useState)(""),[s,l]=(0,r.useState)(!1),[c,u]=(0,r.useState)(!1),d=(0,r.useRef)(null),h=(0,r.useRef)(null),f=(0,r.useRef)(null),p=Se(),m=on(),{loading:g,error:y,registerSuccess:v}=sn(e=>e.auth);(0,r.useEffect)(()=>{m(dh())},[m]),(0,r.useEffect)(()=>{if(y){const e=setTimeout(()=>{m(dh())},5e3);return()=>clearTimeout(e)}},[y,m]),(0,r.useEffect)(()=>{v&&setTimeout(()=>{p("/login",{state:{message:"\u0110\u0103ng k\xfd th\xe0nh c\xf4ng! Vui l\xf2ng \u0111\u0103ng nh\u1eadp."}})},2e3)},[v,p]);const b=()=>(0,At.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,At.jsx)("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),(0,At.jsx)("circle",{cx:"12",cy:"7",r:"4"})]}),_=()=>(0,At.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,At.jsx)("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),(0,At.jsx)("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),x=e=>{let{isOpen:t}=e;return t?(0,At.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,At.jsx)("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),(0,At.jsx)("circle",{cx:"12",cy:"12",r:"3"})]}):(0,At.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,At.jsx)("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),(0,At.jsx)("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]})};return(0,At.jsx)("div",{className:"w-1/2 h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 overflow-hidden transition-colors duration-200",children:(0,At.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),n===o)if(e.trim()&&n.trim()){m(ih());try{await lf.register(e,n)}catch(r){console.error("Failed to send register request:",r)}}else alert("Vui l\xf2ng nh\u1eadp \u0111\u1ea7y \u0111\u1ee7 th\xf4ng tin");else alert("M\u1eadt kh\u1ea9u kh\xf4ng kh\u1edbp!")},className:"w-[440px] bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-12 relative z-10 animate-fade-in-up",children:[(0,At.jsx)("h1",{className:"text-[38px] font-semibold text-gray-900 dark:text-white mb-2 text-center",children:"T\u1ea1o T\xe0i Kho\u1ea3n"}),(0,At.jsx)("p",{className:"text-[17px] text-gray-600 dark:text-gray-300 mb-9 text-center",children:"\u0110i\u1ec1n th\xf4ng tin t\u1ea1i \u0111\xe2y \u0111\u1ec3 b\u1eaft \u0111\u1ea7u nh\xe9 :))))))"}),y&&(0,At.jsx)("div",{className:"mb-5 p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,At.jsx)("p",{className:"text-sm text-red-600 text-center",children:y})}),v&&(0,At.jsx)("div",{className:"mb-5 p-3 bg-green-50 border border-green-200 rounded-lg",children:(0,At.jsx)("p",{className:"text-sm text-green-600 text-center",children:"\u0110\u0103ng k\xfd th\xe0nh c\xf4ng! \u0110ang chuy\u1ec3n \u0111\u1ebfn trang \u0111\u0103ng nh\u1eadp..."})}),(0,At.jsxs)("div",{className:"mb-5",children:[(0,At.jsx)("label",{className:"block text-base font-medium text-gray-700 dark:text-gray-300 mb-2",children:"T\xean \u0111\u0103ng nh\u1eadp"}),(0,At.jsxs)("div",{className:"relative flex items-center",children:[(0,At.jsx)("span",{className:"absolute left-3.5 text-gray-400 pointer-events-none z-10 flex items-center",children:(0,At.jsx)(b,{})}),(0,At.jsx)("input",{ref:d,type:"text",value:e,onChange:e=>t(e.target.value),onKeyDown:e=>{var t;"Enter"===e.key&&(e.preventDefault(),null===(t=h.current)||void 0===t||t.focus())},disabled:g,className:"w-full px-3.5 pl-11 py-3.5 text-base text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-700 border-2 border-gray-300 dark:border-gray-600 rounded-lg outline-none transition-all duration-300 ease-in-out focus:border-primary focus:shadow-[0_0_0_3px_rgba(0,132,255,0.1)] disabled:bg-gray-100 dark:disabled:bg-gray-800 disabled:cursor-not-allowed",placeholder:"Ch\u1ecdn t\xean \u0111\u0103ng nh\u1eadp",required:!0})]})]}),(0,At.jsxs)("div",{className:"mb-5",children:[(0,At.jsx)("label",{className:"block text-base font-medium text-gray-700 dark:text-gray-300 mb-2",children:"M\u1eadt kh\u1ea9u"}),(0,At.jsxs)("div",{className:"relative flex items-center",children:[(0,At.jsx)("span",{className:"absolute left-3.5 text-gray-400 pointer-events-none z-10 flex items-center",children:(0,At.jsx)(_,{})}),(0,At.jsx)("input",{ref:h,type:s?"text":"password",value:n,onChange:e=>a(e.target.value),onKeyDown:e=>{var t;"Enter"===e.key&&(e.preventDefault(),null===(t=f.current)||void 0===t||t.focus())},disabled:g,className:"w-full px-3.5 pl-11 py-3.5 text-base text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-700 border-2 border-gray-300 dark:border-gray-600 rounded-lg outline-none transition-all duration-300 ease-in-out focus:border-primary focus:shadow-[0_0_0_3px_rgba(0,132,255,0.1)] disabled:bg-gray-100 dark:disabled:bg-gray-800 disabled:cursor-not-allowed",placeholder:"T\u1ea1o m\u1eadt kh\u1ea9u m\u1ea1nh",required:!0,minLength:6}),(0,At.jsx)("span",{onClick:()=>!g&&l(!s),className:"absolute right-3.5 text-gray-400 cursor-pointer transition-colors duration-200 z-10 flex items-center select-none hover:text-primary",children:(0,At.jsx)(x,{isOpen:s})})]})]}),(0,At.jsxs)("div",{className:"mb-7",children:[(0,At.jsx)("label",{className:"block text-base font-medium text-gray-700 dark:text-gray-300 mb-2",children:"X\xe1c nh\u1eadn m\u1eadt kh\u1ea9u"}),(0,At.jsxs)("div",{className:"relative flex items-center",children:[(0,At.jsx)("span",{className:"absolute left-3.5 text-gray-400 pointer-events-none z-10 flex items-center",children:(0,At.jsx)(_,{})}),(0,At.jsx)("input",{ref:f,type:c?"text":"password",value:o,onChange:e=>i(e.target.value),disabled:g,className:"w-full px-3.5 pl-11 py-3.5 text-base text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-700 border-2 border-gray-300 dark:border-gray-600 rounded-lg outline-none transition-all duration-300 ease-in-out focus:border-primary focus:shadow-[0_0_0_3px_rgba(0,132,255,0.1)] disabled:bg-gray-100 dark:disabled:bg-gray-800 disabled:cursor-not-allowed",placeholder:"Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u",required:!0}),(0,At.jsx)("span",{onClick:()=>!g&&u(!c),className:"absolute right-3.5 text-gray-400 cursor-pointer transition-colors duration-200 z-10 flex items-center select-none hover:text-primary",children:(0,At.jsx)(x,{isOpen:c})})]})]}),(0,At.jsx)("button",{type:"submit",disabled:g,className:"w-full py-4 text-[17px] font-semibold text-white bg-primary border-none rounded-lg cursor-pointer transition-all duration-300 ease-in-out mb-6 shadow-[0_4px_12px_rgba(0,132,255,0.25)] hover:-translate-y-0.5 hover:shadow-[0_6px_20px_rgba(0,132,255,0.4)] hover:bg-primary-light active:translate-y-0 active:shadow-[0_4px_12px_rgba(0,132,255,0.25)] disabled:bg-gray-400 disabled:cursor-not-allowed disabled:shadow-none",children:g?"\u0110ang \u0111\u0103ng k\xfd...":"\u0110\u0103ng k\xfd"}),(0,At.jsxs)("div",{className:"text-center text-[15px] text-gray-600 dark:text-gray-400",children:["\u0110\xe3 c\xf3 t\xe0i kho\u1ea3n? ",(0,At.jsx)(Tt,{to:"/login",className:"text-primary dark:text-blue-400 no-underline cursor-pointer font-semibold transition-opacity duration-200 hover:opacity-70 hover:underline",children:"\u0110\u0103ng nh\u1eadp"})]})]})})},ff=()=>(0,At.jsxs)("div",{className:"flex w-screen h-screen overflow-hidden",children:[(0,At.jsx)(df,{}),(0,At.jsx)(hf,{})]}),pf=()=>(0,At.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-gradient-to-br from-blue-50 via-white to-purple-50",children:[(0,At.jsxs)("div",{className:"text-center",children:[(0,At.jsxs)("div",{className:"relative w-20 h-20 mx-auto mb-8",children:[(0,At.jsx)("div",{className:"absolute inset-0 border-4 border-blue-200 rounded-full"}),(0,At.jsx)("div",{className:"absolute inset-0 border-4 border-transparent border-t-primary rounded-full animate-spin"}),(0,At.jsx)("div",{className:"absolute inset-2 border-4 border-transparent border-t-purple-400 rounded-full animate-spin-slow"})]}),(0,At.jsx)("h2",{className:"text-2xl font-semibold text-gray-800 mb-3",children:"\u0110ang k\u1ebft n\u1ed1i..."}),(0,At.jsx)("p",{className:"text-base text-gray-600",children:"Vui l\xf2ng \u0111\u1ee3i trong gi\xe2y l\xe1t"}),(0,At.jsxs)("div",{className:"flex justify-center items-center space-x-2 mt-6",children:[(0,At.jsx)("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce",style:{animationDelay:"0ms"}}),(0,At.jsx)("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce",style:{animationDelay:"150ms"}}),(0,At.jsx)("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]}),(0,At.jsx)("style",{children:"\n        @keyframes spin-slow {\n          from {\n            transform: rotate(0deg);\n          }\n          to {\n            transform: rotate(-360deg);\n          }\n        }\n        .animate-spin-slow {\n          animation: spin-slow 1.5s linear infinite;\n        }\n      "})]}),mf=e=>{let{errorMessage:t="Kh\xf4ng th\u1ec3 k\u1ebft n\u1ed1i \u0111\u1ebfn m\xe1y ch\u1ee7"}=e;return(0,At.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-gradient-to-br from-red-50 via-white to-orange-50",children:(0,At.jsxs)("div",{className:"text-center max-w-md px-6",children:[(0,At.jsxs)("div",{className:"relative w-24 h-24 mx-auto mb-8",children:[(0,At.jsx)("div",{className:"absolute inset-0 bg-red-100 rounded-full flex items-center justify-center",children:(0,At.jsx)("svg",{className:"w-12 h-12 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,At.jsx)("div",{className:"absolute inset-0 bg-red-200 rounded-full animate-ping opacity-20"})]}),(0,At.jsx)("h2",{className:"text-2xl font-semibold text-gray-800 mb-3",children:"L\u1ed7i K\u1ebft N\u1ed1i"}),(0,At.jsx)("p",{className:"text-base text-gray-600 mb-8",children:t}),(0,At.jsx)("button",{onClick:()=>{lf.reconnect()},className:"px-8 py-3 bg-primary hover:bg-primary-light text-white font-semibold rounded-lg transition-all duration-300 shadow-lg hover:shadow-xl hover:-translate-y-0.5 active:translate-y-0",children:(0,At.jsxs)("span",{className:"flex items-center gap-2",children:[(0,At.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Th\u1eed l\u1ea1i"]})}),(0,At.jsx)("p",{className:"text-sm text-gray-500 mt-6",children:"Vui l\xf2ng ki\u1ec3m tra k\u1ebft n\u1ed1i m\u1ea1ng c\u1ee7a b\u1ea1n"})]})})};function gf(){const e=Se(),t=on(),{user:n}=sn(e=>e.auth),a=sn(e=>e.theme.mode),[o,i]=(0,r.useState)(!1),s=(0,r.useRef)(null);return(0,At.jsx)("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 flex items-center justify-center p-4 transition-colors duration-200",children:(0,At.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg w-full max-w-md overflow-hidden",children:[(0,At.jsxs)("div",{className:"bg-[#0084ff] dark:bg-blue-600 p-4 flex items-center text-white",children:[(0,At.jsx)("button",{onClick:()=>e("/"),className:"mr-3 hover:bg-white/20 p-1 rounded-full transition-colors",children:(0,At.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),(0,At.jsx)("h1",{className:"text-xl font-bold",children:"Qu\u1ea3n l\xfd t\xe0i kho\u1ea3n"})]}),(0,At.jsxs)("div",{className:"p-6 flex flex-col items-center",children:[(0,At.jsxs)("div",{className:"relative group mb-6",children:[(0,At.jsx)("div",{className:"w-32 h-32 rounded-full overflow-hidden border-4 border-gray-200",children:(0,At.jsx)("img",{src:(null===n||void 0===n?void 0:n.avatar)||"https://i.pravatar.cc/150?img=3",alt:"Avatar",className:"w-full h-full object-cover"})}),(0,At.jsx)("div",{onClick:()=>{var e;return null===(e=s.current)||void 0===e?void 0:e.click()},className:"absolute inset-0 bg-black/40 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",children:(0,At.jsx)("span",{className:"text-white text-sm font-semibold",children:"\u0110\u1ed5i \u1ea3nh"})}),o&&(0,At.jsx)("div",{className:"absolute inset-0 bg-white/80 rounded-full flex items-center justify-center",children:(0,At.jsxs)("svg",{className:"animate-spin h-8 w-8 text-[#0084ff]",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,At.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,At.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),(0,At.jsx)("input",{type:"file",ref:s,className:"hidden",accept:"image/*",onChange:async e=>{var r;const a=null===(r=e.target.files)||void 0===r?void 0:r[0];if(a){i(!0);try{const e=new FormData;e.append("file",a),e.append("upload_preset","chat_app_preset");const r=await fetch("https://api.cloudinary.com/v1_1/".concat("dox9vbxjn","/image/upload"),{method:"POST",body:e}),o=await r.json();o.secure_url&&(t(mh(o.secure_url)),null!==n&&void 0!==n&&n.username&&((e,t)=>{const n=nh(e);qd(Hd(th,"users/"+n+"/avatar"),t).catch(e=>console.error("L\u1ed7i l\u01b0u Firebase:",e))})(n.username,o.secure_url),alert("\u0110\u1ed5i avatar th\xe0nh c\xf4ng!"))}catch(qi){console.error("L\u1ed7i upload:",qi),alert("C\xf3 l\u1ed7i khi upload \u1ea3nh")}finally{i(!1)}}}})]}),(0,At.jsxs)("div",{className:"w-full space-y-4",children:[(0,At.jsxs)("div",{children:[(0,At.jsx)("label",{className:"block text-gray-500 dark:text-gray-400 text-sm font-bold mb-1",children:"T\xean hi\u1ec3n th\u1ecb"}),(0,At.jsx)("div",{className:"w-full p-3 bg-gray-100 dark:bg-gray-700 rounded-lg border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-200 font-medium",children:null===n||void 0===n?void 0:n.username}),(0,At.jsx)("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:"T\xean \u0111\u0103ng nh\u1eadp kh\xf4ng th\u1ec3 thay \u0111\u1ed5i."})]}),(0,At.jsxs)("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,At.jsx)("label",{className:"block text-gray-500 dark:text-gray-400 text-sm font-bold mb-3",children:"Giao di\u1ec7n"}),(0,At.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[(0,At.jsxs)("div",{className:"flex items-center gap-3",children:[(0,At.jsx)("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-full",children:"dark"===a?(0,At.jsx)("svg",{className:"w-5 h-5 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}):(0,At.jsx)("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})})}),(0,At.jsxs)("div",{children:[(0,At.jsx)("p",{className:"font-medium text-gray-700 dark:text-gray-200",children:"Ch\u1ebf \u0111\u1ed9 t\u1ed1i"}),(0,At.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"dark"===a?"\u0110ang b\u1eadt":"\u0110ang t\u1eaft"})]})]}),(0,At.jsx)("button",{onClick:()=>t(Wh()),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 ".concat("dark"===a?"bg-blue-600":"bg-gray-300"),role:"switch","aria-checked":"dark"===a,"aria-label":"Toggle dark mode",children:(0,At.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform ".concat("dark"===a?"translate-x-6":"translate-x-1")})})]})]}),(0,At.jsx)("button",{onClick:()=>e("/"),className:"w-full py-2 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-lg font-medium transition-colors",children:"Quay l\u1ea1i nh\u1eafn tin"})]})]})]})})}function yf(e){const[t,n]=(0,r.useState)("https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT7imMwm5oKZ8t3qnhAptR3ZzpD-i2AuSiHoQ&s");return(0,r.useEffect)(()=>{if(!e)return;e.replace(/\./g,"_dot_").replace(/#/g,"_hash_").replace(/\$/g,"_dollar_").replace(/\[/g,"_bracket_open_").replace(/\]/g,"_bracket_close_").replace(/@/g,"_at_");const t=Yd(Hd(th,"users/".concat(e,"/avatar")),e=>{const t=e.val();n(t||"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT7imMwm5oKZ8t3qnhAptR3ZzpD-i2AuSiHoQ&s")});return()=>t()},[e]),t}const vf=()=>{const e=Se(),t=on(),n=sn(e=>e.ui.activeSidebarTab),r=yf(sn(e=>{var t;return(null===(t=e.auth.user)||void 0===t?void 0:t.username)||"Guest"}));return(0,At.jsxs)("div",{className:"w-[75px] h-full flex flex-col items-center py-5 bg-gray-100 dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 z-20 flex-shrink-0",children:[(0,At.jsx)("div",{className:"mb-6 cursor-pointer group",onClick:()=>e("/profile"),children:(0,At.jsx)("img",{src:r,alt:"Avatar",className:"w-10 h-10 rounded-full object-cover border-2 border-white dark:border-gray-600 shadow-sm group-hover:scale-105 transition-transform"})}),(0,At.jsxs)("div",{className:"flex flex-col gap-5 w-full items-center flex-1",children:[(0,At.jsx)("div",{onClick:()=>t(qh("chats")),className:"p-3 rounded-xl cursor-pointer shadow-sm transition ".concat("chats"===n?"bg-blue-100 text-blue-600 dark:bg-blue-900/40 dark:text-blue-400":"text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700"),children:(0,At.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})}),(0,At.jsx)("div",{onClick:()=>t(qh("contacts")),className:"p-3 rounded-xl cursor-pointer shadow-sm transition ".concat("contacts"===n?"bg-blue-100 text-blue-600 dark:bg-blue-900/40 dark:text-blue-400":"text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700"),children:(0,At.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})})]}),(0,At.jsxs)("div",{className:"mt-auto relative group flex justify-center w-full pb-4",children:[(0,At.jsx)("button",{className:"p-3 text-gray-500 hover:bg-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 rounded-xl transition-colors",children:(0,At.jsxs)("svg",{className:"h-7 w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),(0,At.jsx)("div",{className:"absolute bottom-2 left-[60px] hidden group-hover:block z-50 pl-4",children:(0,At.jsxs)("div",{className:"w-52 bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-2",children:[(0,At.jsx)("div",{onClick:()=>e("/profile"),className:"flex items-center gap-3 p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg cursor-pointer",children:(0,At.jsx)("span",{className:"text-sm font-semibold",children:"Th\xf4ng tin"})}),(0,At.jsx)("div",{className:"h-px bg-gray-200 dark:bg-gray-700 my-1"}),(0,At.jsx)("div",{onClick:()=>{lf.logout(),localStorage.clear(),window.location.reload()},className:"flex items-center gap-3 p-2 hover:bg-red-50 text-red-600 rounded-lg cursor-pointer",children:(0,At.jsx)("span",{className:"text-sm font-medium",children:"\u0110\u0103ng xu\u1ea5t"})})]})})]})]})},bf={":smile:":"\ud83d\ude00",":joy:":"\ud83d\ude02",":heart_eyes:":"\ud83d\ude0d",":thinking:":"\ud83e\udd14",":cry:":"\ud83d\ude22",":sunglasses:":"\ud83d\ude0e",":blush:":"\ud83d\ude0a",":grin:":"\ud83d\ude01",":laughing:":"\ud83d\ude06",":sweat_smile:":"\ud83d\ude05",":sweat:":"\ud83d\ude13",":sob:":"\ud83d\ude2d",":angry:":"\ud83d\ude24",":rage:":"\ud83d\ude21",":hugging:":"\ud83e\udd17",":kissing_heart:":"\ud83d\ude18",":wink:":"\ud83d\ude09",":stuck_out_tongue:":"\ud83d\ude1b",":neutral:":"\ud83d\ude10",":expressionless:":"\ud83d\ude11",":thumbsup:":"\ud83d\udc4d",":thumbsdown:":"\ud83d\udc4e",":wave:":"\ud83d\udc4b",":clap:":"\ud83d\udc4f",":pray:":"\ud83d\ude4f",":v:":"\u270c\ufe0f",":handshake:":"\ud83e\udd1d",":fist:":"\ud83d\udc4a",":fist_raised:":"\u270a",":hand:":"\ud83d\udd90\ufe0f",":ok_hand:":"\ud83d\udc4c",":point_up:":"\u261d\ufe0f",":point_down:":"\ud83d\udc47",":point_left:":"\ud83d\udc48",":point_right:":"\ud83d\udc49",":heart:":"\u2764\ufe0f",":yellow_heart:":"\ud83d\udc9b",":green_heart:":"\ud83d\udc9a",":blue_heart:":"\ud83d\udc99",":purple_heart:":"\ud83d\udc9c",":black_heart:":"\ud83d\udda4",":broken_heart:":"\ud83d\udc94",":fire:":"\ud83d\udd25",":star:":"\u2b50",":sparkles:":"\u2728",":100:":"\ud83d\udcaf",":check:":"\u2705",":x:":"\u274c",":warning:":"\u26a0\ufe0f",":question:":"\u2753",":tada:":"\ud83c\udf89",":confetti:":"\ud83c\udf8a",":gift:":"\ud83c\udf81",":balloon:":"\ud83c\udf88",":cake:":"\ud83c\udf82",":musical_note:":"\ud83c\udfb5",":soccer:":"\u26bd",":basketball:":"\ud83c\udfc0",":video_game:":"\ud83c\udfae",":trophy:":"\ud83c\udfc6",":medal:":"\ud83c\udfc5",":dog:":"\ud83d\udc36",":cat:":"\ud83d\udc31",":mouse:":"\ud83d\udc2d",":hamster:":"\ud83d\udc39",":rabbit:":"\ud83d\udc30",":fox:":"\ud83e\udd8a",":bear:":"\ud83d\udc3b",":panda:":"\ud83d\udc3c",":koala:":"\ud83d\udc28",":tiger:":"\ud83d\udc2f",":lion:":"\ud83e\udd81",":cow:":"\ud83d\udc2e",":pig:":"\ud83d\udc37",":frog:":"\ud83d\udc38",":monkey:":"\ud83d\udc35",":pizza:":"\ud83c\udf55",":hamburger:":"\ud83c\udf54",":fries:":"\ud83c\udf5f",":popcorn:":"\ud83c\udf7f",":coffee:":"\u2615",":beer:":"\ud83c\udf7a",":wine:":"\ud83c\udf77",":ice_cream:":"\ud83c\udf66",":doughnut:":"\ud83c\udf69",":watermelon:":"\ud83c\udf49",":apple:":"\ud83c\udf4e",":banana:":"\ud83c\udf4c",":sunny:":"\u2600\ufe0f",":cloud:":"\u2601\ufe0f",":rain:":"\ud83c\udf27\ufe0f",":snowflake:":"\u2744\ufe0f",":rainbow:":"\ud83c\udf08",":moon:":"\ud83c\udf19",":earth:":"\ud83c\udf0d"};function _f(e){let t=e;return Object.entries(bf).forEach(e=>{let[n,r]=e;t=t.replaceAll(n,r)}),t}const xf=Object.entries(bf).map(e=>{let[t,n]=e;return{code:t,emoji:n}}),wf=e=>{if(!e)return"";let t=e;t.endsWith("Z")||(t+="Z");const n=new Date(t),r=new Date,a=Math.floor((r.getTime()-n.getTime())/1e3);return a<0||a<60?"V\u1eeba xong":a<3600?"".concat(Math.floor(a/60)," ph\xfat"):a<86400?"".concat(Math.floor(a/3600)," gi\u1edd"):a<604800?"".concat(Math.floor(a/86400)," ng\xe0y"):"".concat(n.getDate(),"/").concat(n.getMonth()+1)},kf=e=>{let{partner:t,isActive:n,onClick:r}=e;const a=yf("people"===t.type?t.name:null),o=sn(e=>{var t;return null===(t=e.auth.user)||void 0===t?void 0:t.username}),i=sn(e=>e.unread.unreadCounts[t.name]||0),s=!n&&i>0,l=sn(e=>e.chat.messagesByTarget)[t.name]||[],c=l.length>0?l[l.length-1]:null,u=null!==c&&void 0!==c&&c.createAt?wf(c.createAt):wf(t.actionTime);let d="people"===t.type?"Ch\u01b0a c\xf3 tin nh\u1eafn":"Ph\xf2ng ch\u01b0a c\xf3 tin nh\u1eafn";if(c){const e=c.mes;if(/\.(jpeg|jpg|gif|png|webp|bmp|svg)$/i.test(e)||e.includes("cloudinary.com")||e.startsWith("blob:")){d=c.name===o?"B\u1ea1n \u0111\xe3 g\u1eedi m\u1ed9t \u1ea3nh":"\ud83d\udcf7 \u0110\xe3 g\u1eedi m\u1ed9t \u1ea3nh"}else{let n="";c.name===o?n="B\u1ea1n: ":"room"===t.type&&(n="".concat(c.name,": "));let r=e;r=r.replace(/\*\*\*(@\w+)\*\*\*/g,"$1"),d=n+r,d.length>30&&(d=d.substring(0,30)+"..."),d=_f(d)}}return(0,At.jsxs)("div",{onClick:r,className:"group relative flex items-center gap-3 p-3 cursor-pointer rounded-2xl transition-all duration-200 ".concat(n?"bg-blue-600 shadow-lg shadow-blue-500/20":"hover:bg-gray-100 dark:hover:bg-gray-800"),children:[(0,At.jsxs)("div",{className:"relative shrink-0",children:["people"===t.type?(0,At.jsx)("img",{src:a,className:"w-12 h-12 rounded-full object-cover border-2 ".concat(n?"border-white/20":"border-transparent"),alt:""}):(0,At.jsx)("div",{className:"w-12 h-12 rounded-full flex items-center justify-center font-bold text-lg ".concat(n?"bg-white/20 text-white":"bg-indigo-100 text-indigo-600 dark:bg-indigo-900/50"),children:t.name.charAt(0).toUpperCase()}),"people"===t.type&&(0,At.jsx)("div",{className:"absolute bottom-0 right-0 w-3.5 h-3.5 rounded-full border-2 ".concat(n?"border-blue-600":"border-white dark:border-gray-900"," ").concat(t.isOnline?"bg-green-500":"bg-gray-400")})]}),(0,At.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,At.jsxs)("div",{className:"flex justify-between items-center mb-0.5",children:[(0,At.jsx)("p",{className:"text-sm truncate mr-2 ".concat(n?"text-white":"text-gray-900 dark:text-white"," ").concat(s?"font-extrabold":"font-bold"),children:t.name}),(0,At.jsxs)("div",{className:"flex items-center gap-2 shrink-0",children:[u&&(0,At.jsx)("span",{className:"text-[12px] whitespace-nowrap ".concat(n?"text-blue-100":s?"text-blue-600 font-bold":"text-gray-400"),children:u}),s?(0,At.jsx)("span",{className:"bg-red-500 text-white text-[10px] px-1.5 py-0.5 rounded-full min-w-[18px] text-center",children:i>9?"9+":i}):n&&(0,At.jsx)("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})]})]}),(0,At.jsx)("p",{className:"text-xs truncate font-medium \n                    ".concat(n?"text-blue-100":"text-gray-500 dark:text-gray-400","\n                    ").concat(s&&!n?"text-gray-900 dark:text-white font-bold":""," \n                "),children:d})]})]})},Cf=e=>{let{searchQuery:t}=e;const n=on(),{partners:a}=sn(e=>e.chatPartner),o=sn(e=>e.currentChat),i=sn(e=>{var t;return(null===(t=e.auth.user)||void 0===t?void 0:t.username)||""}),s=(0,r.useMemo)(()=>a.filter(e=>e.name.toLowerCase().includes(t.toLowerCase())&&e.name!==i).sort((e,t)=>(t.actionTime||0)>(e.actionTime||0)?1:-1),[a,t,i]);return(0,At.jsx)("div",{className:"flex-1 overflow-y-auto px-2 space-y-1 custom-scrollbar",children:0===s.length?(0,At.jsxs)("div",{className:"flex flex-col items-center justify-center py-10 opacity-40",children:[(0,At.jsx)("svg",{className:"w-12 h-12 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0a2 2 0 01-2 2H6a2 2 0 01-2-2m16 0l-8 4-8-4"})}),(0,At.jsx)("p",{className:"text-xs font-medium",children:"Kh\xf4ng t\xecm th\u1ea5y h\u1ed9i tho\u1ea1i"})]}):s.map(e=>(0,At.jsx)(kf,{partner:e,isActive:o.name===e.name,onClick:()=>{n(Rh({name:e.name,type:e.type})),n(Ah(e.name))}},"".concat(e.type,"-").concat(e.name)))})};function Sf(e){const[t,n]=(0,r.useState)([]),[a,o]=(0,r.useState)([]),[i,s]=(0,r.useState)([]),[l,c]=(0,r.useState)([]),[u,d]=(0,r.useState)([]),[h,f]=(0,r.useState)([]);return(0,r.useEffect)(()=>{if(!e)return;const t=nh(e),r=Yd(Hd(th,"users/".concat(t,"/friends")),e=>{e.exists()?n(Object.keys(e.val())):n([])}),a=Yd(Hd(th,"users/".concat(t,"/groups")),e=>{e.exists()?o(Object.keys(e.val())):o([])}),i=Yd(Hd(th,"users/".concat(t,"/friendRequests")),e=>{e.exists()?s(Object.keys(e.val())):s([])}),l=Yd(Hd(th,"users/".concat(t,"/groupInvites")),e=>{if(e.exists()){const t=e.val(),n=Object.keys(t).map(e=>({group:e,inviter:t[e]}));c(n)}else c([])}),u=Yd(Hd(th,"users/".concat(t,"/blocks")),e=>{e.exists()?d(Object.keys(e.val())):d([])}),h=Yd(Hd(th,"users/".concat(t,"/hiddenGroups")),e=>{e.exists()?f(Object.keys(e.val())):f([])});return()=>{r(),a(),i(),l(),u(),h()}},[e]),{friends:t,groups:a,friendRequests:i,groupInvites:l,blocks:u,hiddenGroups:h}}const Ef=e=>{let{icon:t,label:n,count:r,color:a,isBadgeRed:o,onClick:i}=e;return(0,At.jsxs)("div",{onClick:i,className:"flex items-center gap-4 p-3 rounded-2xl hover:bg-gray-100 dark:hover:bg-gray-800 cursor-pointer transition-all",children:[(0,At.jsx)("div",{className:"w-10 h-10 rounded-full ".concat(a," text-white flex items-center justify-center shadow-sm"),children:t}),(0,At.jsxs)("div",{className:"flex-1 flex justify-between items-center",children:[(0,At.jsx)("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-200",children:n}),r>0&&(0,At.jsx)("span",{className:"text-[10px] font-bold px-2 py-0.5 rounded-full ".concat(o?"bg-red-500 text-white":"bg-gray-200 text-gray-600 dark:bg-gray-700 dark:text-gray-300"),children:r>99?"99+":r})]})]})},Nf=e=>{let{targetUsername:t,exists:n,isFriend:r,isBlocked:a,isMe:o,onOpenAddModal:i}=e;const s=yf(t);return!1===n?(0,At.jsx)("div",{className:"p-4 text-center text-gray-500 text-sm",children:"Ng\u01b0\u1eddi d\xf9ng kh\xf4ng t\u1ed3n t\u1ea1i"}):!0===n?(0,At.jsxs)("div",{className:"mx-4 mt-4 p-4 bg-white dark:bg-gray-800 border border-gray-100 dark:border-gray-700 rounded-2xl shadow-sm flex items-center gap-3 animate-in fade-in slide-in-from-bottom-2",children:[(0,At.jsx)("img",{src:s,alt:"Avatar",className:"w-12 h-12 rounded-full object-cover border border-gray-200 dark:border-gray-600"}),(0,At.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,At.jsx)("h4",{className:"font-bold text-gray-900 dark:text-white truncate",children:t}),o?(0,At.jsx)("p",{className:"text-xs text-blue-500",children:"L\xe0 b\u1ea1n \u0111\u1ea5y!"}):a?(0,At.jsx)("p",{className:"text-xs text-red-500 font-medium",children:"\u0110\xe3 ch\u1eb7n ng\u01b0\u1eddi n\xe0y"}):r&&(0,At.jsx)("p",{className:"text-xs text-green-500",children:"\u0110\xe3 l\xe0 b\u1ea1n b\xe8"})]}),!o&&!a&&!r&&(0,At.jsx)("button",{onClick:()=>i(t),className:"p-2 bg-blue-100 text-blue-600 hover:bg-blue-200 rounded-xl transition-colors",title:"G\u1eedi l\u1eddi m\u1eddi k\u1ebft b\u1ea1n",children:(0,At.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})})})]}):null},Tf=e=>{let{onOpenCreateRoom:t}=e;const n=on(),a=sn(e=>e.ui.activeSidebarTab),{isSearching:o,searchResult:i,searchedUsername:s}=sn(e=>e.search),l=sn(e=>{var t;return(null===(t=e.auth.user)||void 0===t?void 0:t.username)||"Guest"}),{joinRoomStatus:c,joinRoomError:u}=sn(e=>e.ui),{friends:d,blocks:h,groups:f,friendRequests:p,groupInvites:m,hiddenGroups:g}=Sf(l),[y,v]=(0,r.useState)(""),[b,_]=(0,r.useState)(!1),[x,w]=(0,r.useState)(""),[k,C]=(0,r.useState)("Ch\xe0o b\u1ea1n, m\xecnh mu\u1ed1n k\u1ebft b\u1ea1n v\u1edbi c\u1eadu!"),[S,E]=(0,r.useState)(!1),[N,T]=(0,r.useState)("");(0,r.useEffect)(()=>{v(""),n(tf())},[a,n]),(0,r.useEffect)(()=>{"success"===c&&(E(!1),T(""),n(Yh()))},[c,n]);const j=()=>{N.trim()&&(n(Gh("loading")),lf.joinRoom(N.trim()))};return(0,At.jsxs)("div",{className:"flex-1 flex flex-col bg-white dark:bg-gray-900 min-w-0 border-r border-gray-200 dark:border-gray-800 relative",children:[(0,At.jsxs)("div",{className:"h-16 px-4 flex items-center justify-between border-b border-gray-100 dark:border-gray-800 flex-shrink-0 gap-2",children:[(0,At.jsxs)("div",{className:"flex-1 relative group",children:[(0,At.jsx)("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-400",children:(0,At.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,At.jsx)("input",{type:"text",value:y,onChange:e=>{v(e.target.value),e.target.value||n(tf())},onKeyDown:e=>{"Enter"===e.key&&y.trim()&&lf.checkUserExist(y.trim())},placeholder:"contacts"===a?"T\xecm nh\xf3m...":"T\xecm b\u1ea1n b\xe8...",className:"w-full pl-10 pr-4 py-2.5 bg-gray-100 dark:bg-gray-800 border-none rounded-xl text-sm outline-none"})]}),(0,At.jsx)("button",{onClick:t,className:"p-2 text-gray-500 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-700 rounded-lg",children:(0,At.jsx)("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})})]}),(0,At.jsx)("div",{className:"flex-1 overflow-y-auto px-1 pt-2",children:y?o?(0,At.jsx)("div",{className:"p-4 text-center text-gray-500 text-sm animate-pulse",children:"\u0110ang t\xecm ki\u1ebfm..."}):s?(0,At.jsx)(Nf,{targetUsername:s,exists:i,isFriend:d.includes(s),isBlocked:h.includes(s),isMe:s===l,onOpenAddModal:e=>{w(e),C("Ch\xe0o ".concat(e,", m\xecnh mu\u1ed1n k\u1ebft b\u1ea1n v\u1edbi c\u1eadu!")),_(!0)}}):(0,At.jsxs)("div",{className:"p-4 text-center text-gray-400 text-sm mt-4",children:["Nh\u1ea5n ",(0,At.jsx)("kbd",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded text-xs mx-1",children:"Enter"})," \u0111\u1ec3 t\xecm ki\u1ebfm"]}):"contacts"===a?(0,At.jsxs)("div",{className:"px-4 space-y-2 pt-2 animate-in fade-in duration-300",children:[(0,At.jsx)("p",{className:"text-xs font-bold text-gray-400 uppercase mb-3 px-2",children:"Danh b\u1ea1"}),(0,At.jsx)(Ef,{onClick:()=>n(Vh("friends")),icon:(0,At.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),label:"Danh s\xe1ch b\u1ea1n b\xe8",count:d.length,color:"bg-blue-500"}),(0,At.jsx)(Ef,{onClick:()=>n(Vh("groups")),icon:(0,At.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),label:"Nh\xf3m & C\u1ed9ng \u0111\u1ed3ng",count:f.length,color:"bg-green-500"}),(0,At.jsx)(Ef,{onClick:()=>{n(Yh()),T(""),E(!0)},icon:(0,At.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),label:"Tham gia nh\xf3m b\u1eb1ng t\xean",count:0,color:"bg-orange-500"}),(0,At.jsx)(Ef,{onClick:()=>n(Vh("friendRequests")),icon:(0,At.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),label:"L\u1eddi m\u1eddi k\u1ebft b\u1ea1n",count:p.length,isBadgeRed:!0,color:"bg-indigo-500"}),(0,At.jsx)(Ef,{onClick:()=>n(Vh("groupInvites")),icon:(0,At.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),label:"L\u1eddi m\u1eddi v\xe0o nh\xf3m",count:m.length,color:"bg-purple-500"}),(0,At.jsx)(Ef,{onClick:()=>n(Vh("hiddenGroups")),icon:(0,At.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),label:"Nh\xf3m \u0111\xe3 \u1ea9n",count:g.length,color:"bg-gray-500"}),(0,At.jsx)(Ef,{onClick:()=>n(Vh("blocks")),icon:(0,At.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})}),label:"Danh s\xe1ch ch\u1eb7n",count:h.length,color:"bg-red-500"})]}):(0,At.jsx)(Cf,{searchQuery:y})}),b&&(0,At.jsx)("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-[100] animate-in fade-in duration-200",children:(0,At.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-6 w-[320px] shadow-2xl",children:[(0,At.jsxs)("h3",{className:"font-bold dark:text-white",children:["K\u1ebft b\u1ea1n v\u1edbi ",x]}),(0,At.jsx)("textarea",{autoFocus:!0,rows:3,value:k,onChange:e=>C(e.target.value),className:"w-full mt-2 p-2 border rounded bg-gray-50 dark:bg-gray-700 focus:ring-2 focus:ring-blue-500 outline-none text-sm"}),(0,At.jsxs)("div",{className:"flex justify-end gap-2 mt-4",children:[(0,At.jsx)("button",{onClick:()=>_(!1),className:"px-4 py-2 text-gray-500 hover:text-gray-700",children:"H\u1ee7y"}),(0,At.jsx)("button",{onClick:async()=>{try{await(async(e,t)=>{const n=nh(e),r=nh(t),a=Hd(th,"users/".concat(r,"/friendRequests/").concat(n));try{await qd(a,!0),console.log("\u0110\xe3 g\u1eedi l\u1eddi m\u1eddi k\u1ebft b\u1ea1n t\u1edbi Firebase")}catch(qi){throw console.error("L\u1ed7i g\u1eedi k\u1ebft b\u1ea1n:",qi),qi}})(l,x),lf.sendMessageToPeople(x,k),alert("\u0110\xe3 g\u1eedi l\u1eddi m\u1eddi t\u1edbi ".concat(x)),_(!1),v(""),n(tf())}catch(qi){alert("L\u1ed7i: "+qi)}},className:"px-4 py-2 bg-blue-600 text-white rounded-xl text-sm font-bold shadow-lg shadow-blue-500/30",children:"G\u1eedi"})]})]})}),S&&(0,At.jsx)("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-[100] animate-in fade-in duration-200",children:(0,At.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-6 w-[320px] shadow-2xl",children:[(0,At.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,At.jsx)("div",{className:"p-2 bg-orange-100 text-orange-600 rounded-full",children:(0,At.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})})}),(0,At.jsx)("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Tham gia nh\xf3m"})]}),(0,At.jsx)("p",{className:"text-xs text-gray-500 mb-4",children:"Nh\u1eadp ch\xednh x\xe1c t\xean nh\xf3m m\xe0 b\u1ea1n mu\u1ed1n tham gia."}),(0,At.jsx)("input",{autoFocus:!0,type:"text",value:N,onChange:e=>T(e.target.value),onKeyDown:e=>"Enter"===e.key&&j(),disabled:"loading"===c,className:"w-full px-4 py-3 rounded-xl bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 focus:ring-2 focus:ring-orange-500 outline-none text-sm transition-all disabled:opacity-50",placeholder:"T\xean nh\xf3m..."}),"failed"===c&&u&&(0,At.jsxs)("p",{className:"text-xs text-red-500 mt-2 font-semibold flex items-center gap-1",children:[(0,At.jsx)("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),u]}),(0,At.jsxs)("div",{className:"flex justify-end gap-2 mt-6",children:[(0,At.jsx)("button",{onClick:()=>E(!1),disabled:"loading"===c,className:"px-4 py-2 text-sm font-medium text-gray-500 hover:text-gray-700 disabled:opacity-50",children:"H\u1ee7y"}),(0,At.jsx)("button",{onClick:j,disabled:"loading"===c,className:"px-6 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-xl text-sm font-bold shadow-lg shadow-orange-500/30 transition-all flex items-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed",children:"loading"===c?(0,At.jsxs)(At.Fragment,{children:[(0,At.jsxs)("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,At.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,At.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,At.jsx)("span",{children:"\u0110ang x\u1eed l\xfd..."})]}):(0,At.jsx)("span",{children:"Tham gia"})})]})]})}),"failed"===c&&u&&(0,At.jsxs)("p",{className:"text-xs text-red-500 mt-2 font-semibold flex items-center gap-1",children:[(0,At.jsx)("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),u]})]})},jf=()=>{const[e,t]=(0,r.useState)(!1),[n,a]=(0,r.useState)("");return(0,At.jsxs)("div",{className:"w-full h-full flex flex-row",children:[(0,At.jsx)(vf,{}),(0,At.jsx)(Tf,{onOpenCreateRoom:()=>t(!0)}),e&&(0,At.jsx)("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-[100]",children:(0,At.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-6 w-[320px] shadow-2xl",children:[(0,At.jsx)("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2",children:"T\u1ea1o ph\xf2ng m\u1edbi"}),(0,At.jsx)("input",{autoFocus:!0,type:"text",value:n,onChange:e=>a(e.target.value),className:"w-full px-4 py-3 rounded-xl bg-gray-50 dark:bg-gray-700 border focus:ring-2 outline-none",placeholder:"T\xean ph\xf2ng..."}),(0,At.jsxs)("div",{className:"flex justify-end gap-2 mt-6",children:[(0,At.jsx)("button",{onClick:()=>t(!1),className:"px-4 py-2 text-gray-500",children:"H\u1ee7y"}),(0,At.jsx)("button",{onClick:()=>{n.trim()&&(lf.createRoom(n.trim()),a(""),t(!1))},className:"px-6 py-2 bg-blue-600 text-white rounded-xl font-bold",children:"T\u1ea1o ngay"})]})]})})]})};function Rf(e){let{onCallClick:t}=e;const{name:n,type:a}=sn(e=>e.currentChat),{partners:o}=sn(e=>e.chatPartner),i=(0,r.useMemo)(()=>o.find(e=>e.name===n),[o,n]);let s="",l="";return"room"===a?(s="Nh\xf3m v\xe0 C\u1ed9ng \u0111\u1ed3ng",l="bg-orange-500"):null!==i&&void 0!==i&&i.isOnline?(s="\u0110ang ho\u1ea1t \u0111\u1ed9ng",l="bg-green-500"):(s="Kh\xf4ng ho\u1ea1t \u0111\u1ed9ng",l="bg-gray-400"),(0,At.jsxs)("div",{className:"h-[60px] border-b border-gray-300 dark:border-gray-700 flex items-center justify-between px-4 bg-white dark:bg-gray-800 shadow-sm relative",children:[(0,At.jsxs)("div",{className:"flex flex-col items-center w-full",children:[(0,At.jsx)("h2",{className:"text-[17px] font-bold text-gray-900 dark:text-white truncate max-w-[300px]",children:n||"Ch\u1ecdn h\u1ed9i tho\u1ea1i"}),n&&(0,At.jsxs)("span",{className:"text-[13px] text-gray-500 dark:text-gray-400 flex items-center gap-1.5 mt-0.5",children:[(0,At.jsx)("span",{className:"w-2 h-2 rounded-full ".concat(l)}),(0,At.jsx)("span",{className:"font-medium",children:s})]})]}),(0,At.jsxs)("div",{className:"absolute right-4 flex space-x-3 text-[#0084ff] dark:text-blue-400",children:[(0,At.jsx)("button",{onClick:t,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:(0,At.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,At.jsx)("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})})}),(0,At.jsx)("button",{className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:(0,At.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,At.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,At.jsx)("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),(0,At.jsx)("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]})})]})]})}const Pf={red:"#FF0000",blue:"#0084FF",green:"#00C851",yellow:"#FFD700",purple:"#9C27B0",orange:"#FF9800",pink:"#E91E63",brown:"#795548",gray:"#9E9E9E",black:"#000000"},If=[{name:"\u0110\u1ecf",value:"#FF0000",hex:"red"},{name:"Xanh d\u01b0\u01a1ng",value:"#0084FF",hex:"blue"},{name:"Xanh l\xe1",value:"#00C851",hex:"green"},{name:"V\xe0ng",value:"#FFD700",hex:"yellow"},{name:"T\xedm",value:"#9C27B0",hex:"purple"},{name:"Cam",value:"#FF9800",hex:"orange"},{name:"H\u1ed3ng",value:"#E91E63",hex:"pink"},{name:"N\xe2u",value:"#795548",hex:"brown"},{name:"X\xe1m",value:"#9E9E9E",hex:"gray"},{name:"\u0110en",value:"#000000",hex:"black"}],Lf=e=>{let{text:t,isMe:n,avatar:a,timestamp:o,senderName:i,replyTo:s,onReply:l,onPin:c}=e;const[u,d]=(0,r.useState)(!1),{actualText:h,parsedReplyTo:f}=(0,r.useMemo)(()=>{const e=rf(t);return{actualText:e.mes,parsedReplyTo:e.replyTo||s}},[t,s]),p=(e=>{if((e=>{if(!e)return!1;const t=/\.(jpeg|jpg|gif|png|webp|bmp)$/i.test(e),n=e.startsWith("http")&&(e.includes("cloudinary.com")||e.includes("imgur.com")||e.includes("giphy.com")||e.includes("blob:"));return!/\.(mp4|webm|mp3|wav|ogg|m4a)$/i.test(e)&&(t||n)})(e))return{type:"image",content:e};if((t=e)&&t.startsWith("http")&&(/\.(mp3|wav|ogg|webm|m4a)$/i.test(t)||t.includes("/video/upload/")))return{type:"audio",content:e};var t;const n=/\*\*|\*|__/.test(e),r=/:.+?:/.test(e),a=/\[red]|\[blue]|\[green]|\[yellow]|\[purple]|\[orange]|\[pink]|\[brown]|\[gray]|\[black]/.test(e);if(n||r||a){let t=e;return t=_f(t),{type:"markdown",content:t}}return{type:"plain",content:e}})(h),m="image"===p.type,g="audio"===p.type,y=m?"p-0 bg-transparent":g?"p-1.5 ".concat(n?"bg-[#0084ff]":"bg-[#f0f2f5] dark:bg-gray-700"," rounded-2xl"):n?"px-3 py-2 bg-[#0084ff] text-white rounded-2xl rounded-tr-md":"px-3 py-2 bg-[#e4e6eb] dark:bg-gray-700 text-black dark:text-white rounded-2xl rounded-tl-md";return(0,At.jsxs)("div",{className:"flex items-end mb-1 ".concat(n?"justify-end":"justify-start"," group relative"),onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),children:[!n&&(0,At.jsx)("div",{className:"w-8 h-8 mr-2 shrink-0 flex items-start",children:a?(0,At.jsx)("img",{src:a||"https://via.placeholder.com/32",alt:"avatar",className:"w-8 h-8 rounded-full object-cover border border-gray-200"}):(0,At.jsx)("div",{className:"w-8 h-8"})}),(0,At.jsxs)("div",{className:"flex flex-col max-w-[70%] ".concat(n?"items-end":"items-start"),children:[i&&(0,At.jsx)("span",{className:"text-[11px] text-gray-500 dark:text-gray-400 ml-1 mb-1 font-medium select-none",children:i}),(0,At.jsxs)("div",{className:"relative z-10 pointer-events-auto text-[15px] leading-relaxed break-words overflow-hidden ".concat(y),children:[f&&!m&&!g&&(0,At.jsxs)("div",{className:"mb-2 pb-2 border-l-2 pl-2 ".concat(n?"border-blue-200 bg-blue-500/20":"border-gray-400 dark:border-gray-500 bg-gray-200 dark:bg-gray-600"," rounded-r"),children:[(0,At.jsx)("div",{className:"text-[11px] font-semibold mb-0.5 ".concat(n?"text-blue-100":"text-gray-700 dark:text-gray-300"),children:f.senderName}),(0,At.jsx)("div",{className:"text-[13px] ".concat(n?"text-blue-50":"text-gray-600 dark:text-gray-400"),children:af(_f(f.message),50)})]}),(0,At.jsx)("div",{className:o?"mb-1":"",children:"image"===p.type?(0,At.jsx)("img",{src:p.content,alt:"Sent content",onClick:()=>window.open(p.content,"_blank"),className:"block max-w-full h-auto max-h-[350px] object-contain cursor-pointer rounded-lg",onError:e=>{e.currentTarget.style.display="none",e.currentTarget.parentElement.innerText=p.content}}):"audio"===p.type?(0,At.jsx)("div",{className:"flex items-center gap-2 min-w-[240px]",children:(0,At.jsxs)("audio",{controls:!0,className:"w-full h-8 rounded-lg outline-none",style:{height:"32px"},children:[(0,At.jsx)("source",{src:p.content}),"Tr\xecnh duy\u1ec7t kh\xf4ng h\u1ed7 tr\u1ee3 audio."]})}):"markdown"===p.type?(e=>{let t=e;return Object.entries(Pf).forEach(e=>{let[n,r]=e;const a=new RegExp("\\[".concat(n,"\\](.+?)\\[\\/").concat(n,"\\]"),"g");t=t.replace(a,'<span style="color:'.concat(r,'">$1</span>'))}),t=t.replace(/\*\*(.+?)\*\*/g,"<strong>$1</strong>"),t=t.replace(/\*(.+?)\*/g,"<em>$1</em>"),t=t.replace(/__(.+?)__/g,"<u>$1</u>"),(0,At.jsx)("span",{dangerouslySetInnerHTML:{__html:t},className:"whitespace-pre-wrap"})})(p.content):(0,At.jsx)("span",{className:"whitespace-pre-wrap",children:p.content})}),o&&!m&&(0,At.jsx)("div",{className:"text-[10px] text-right leading-none select-none mt-1 opacity-70 ".concat(n?"text-blue-100":"text-gray-500 dark:text-gray-400"),children:o})]}),o&&m&&(0,At.jsx)("div",{className:"text-[10px] text-gray-400 mt-1 select-none opacity-80",children:o})]}),u&&l&&(0,At.jsxs)("div",{className:"absolute top-0 ".concat(n?"left-0 -translate-x-full":"right-0 translate-x-full"," flex items-center gap-1 px-2"),children:[(0,At.jsx)("button",{onClick:l,className:"p-1.5 bg-white dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full shadow-md transition-all",title:"Tr\u1ea3 l\u1eddi",children:(0,At.jsx)("svg",{className:"w-4 h-4 text-gray-600 dark:text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})})}),c&&(0,At.jsx)("button",{onClick:c,className:"p-1.5 bg-white dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full shadow-md transition-all",title:"Ghim tin nh\u1eafn",children:(0,At.jsxs)("svg",{className:"w-4 h-4 text-gray-600 dark:text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",children:[(0,At.jsx)("line",{x1:"12",y1:"17",x2:"12",y2:"22"}),(0,At.jsx)("path",{d:"M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z"})]})}),(0,At.jsx)("button",{className:"p-1.5 bg-white dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full shadow-md transition-all",title:"Th\xeam",children:(0,At.jsx)("svg",{className:"w-4 h-4 text-gray-600 dark:text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"})})})]})]})},Of=r.memo(Lf),Mf=e=>{if(!e)return new Date;let t=e;return t.endsWith("Z")||(t+="Z"),new Date(t)},Af=e=>{const t=Mf(e),n=t.getHours().toString().padStart(2,"0"),r=t.getMinutes().toString().padStart(2,"0");return"".concat(n,":").concat(r)},Df=e=>{const t=Mf(e),n=t.getHours().toString().padStart(2,"0"),r=t.getMinutes().toString().padStart(2,"0"),a=t.getDate().toString().padStart(2,"0"),o=(t.getMonth()+1).toString().padStart(2,"0"),i=t.getFullYear();return"".concat(n,":").concat(r," ").concat(a,"/").concat(o,"/").concat(i)},zf=(0,r.memo)(e=>{let{msg:t,isMe:n,isFirstInGroup:r,isLastInGroup:a,showTimeSeparator:o,chatType:i,partnerAvatarFallback:s}=e;const{name:l}=sn(e=>e.currentChat),{user:c}=sn(e=>e.auth),u=on(),d=yf(t.name),h="room"===i?d:s;return(0,At.jsxs)("div",{className:"flex flex-col w-full px-2",children:[o&&(0,At.jsx)("div",{className:"flex justify-center my-4",children:(0,At.jsx)("span",{className:"text-[11px] font-medium text-gray-500 bg-gray-100 dark:bg-gray-800 px-3 py-1 rounded-full select-none",children:Df(t.createAt)})}),(0,At.jsxs)("div",{className:"flex w-full ".concat(n?"justify-end":"justify-start"," ").concat(r?"mt-2":"mt-0.5"),children:[!n&&(0,At.jsx)("div",{className:"w-8 flex-shrink-0 mr-2 flex flex-col justify-end",children:!n&&r?(0,At.jsx)("img",{src:h,alt:"avatar",className:"w-8 h-8 rounded-full object-cover border border-gray-200"}):(0,At.jsx)("div",{className:"w-8"})}),(0,At.jsxs)("div",{className:"relative group flex flex-col max-w-[70%] ".concat(n?"items-end":"items-start"),children:["room"===i&&!n&&r&&(0,At.jsx)("span",{className:"text-[11px] text-gray-500 ml-1 mb-1",children:t.name}),(0,At.jsx)(Of,{text:t.mes,isMe:n,timestamp:a?Af(t.createAt):void 0,senderName:void 0,replyTo:t.replyTo,onReply:()=>{l&&u($h({target:l,message:t}))},onPin:()=>{l&&null!==c&&void 0!==c&&c.username&&((e,t,n,r)=>{var a;const o="room"===r?t:rh(e,t);qd(Hd(th,"pins/".concat(o)),{messageId:n.messageId||"".concat(n.name,"_").concat(n.createAt),mes:n.mes,name:n.name,createAt:n.createAt,type:n.type,to:n.to,replyTo:null!==(a=n.replyTo)&&void 0!==a?a:null}).catch(e=>console.error("L\u1ed7i ghim:",e))})(c.username,l,t,i)}})]})]})]})});function Ff(e){let{onSelect:t,onClose:n,hideHeader:r=!1}=e;return(0,At.jsxs)(At.Fragment,{children:[!r&&(0,At.jsxs)("div",{className:"absolute bottom-16 right-0 z-50 bg-white dark:bg-gray-800 rounded-lg shadow-2xl border border-gray-200 dark:border-gray-700 w-80",children:[(0,At.jsxs)("div",{className:"p-3 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-700",children:[(0,At.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:"Ch\u1ecdn Emoji"}),(0,At.jsx)("button",{onClick:n,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 text-xl font-bold leading-none transition-colors",children:"\xd7"})]}),(0,At.jsx)("div",{className:"p-3 max-h-80 overflow-y-auto",children:(0,At.jsx)("div",{className:"grid grid-cols-8 gap-1",children:xf.map(e=>{let{code:r,emoji:a}=e;return(0,At.jsx)("button",{onClick:()=>{t(r),n()},title:r,className:"text-2xl hover:bg-gray-100 dark:hover:bg-gray-700 rounded p-2 transition-colors cursor-pointer",children:a},r)})})}),(0,At.jsxs)("div",{className:"p-2 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700 text-xs text-gray-500 dark:text-gray-400 text-center",children:["Ho\u1eb7c g\xf5 tr\u1ef1c ti\u1ebfp: ",(0,At.jsx)("code",{className:"bg-gray-200 dark:bg-gray-600 dark:text-gray-200 px-1 rounded",children:":smile:"})]})]}),r&&(0,At.jsx)("div",{className:"p-3 max-h-96 overflow-y-auto",children:(0,At.jsx)("div",{className:"grid grid-cols-8 gap-1",children:xf.map(e=>{let{code:n,emoji:r}=e;return(0,At.jsx)("button",{onClick:()=>{t(n)},title:n,className:"text-2xl hover:bg-gray-100 dark:hover:bg-gray-700 rounded p-2 transition-colors cursor-pointer",children:r},n)})})})]})}const Wf="FP7So78gh3RqurbvZBgQGei7M7KZFrPt",Hf="https://api.giphy.com/v1/gifs",Uf=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;try{const t=await fetch("".concat(Hf,"/trending?api_key=").concat(Wf,"&limit=").concat(e,"&rating=g"));if(!t.ok)return console.error("L\u1ed7i API c\u1ee7a GIPHY:",t.status),[];return(await t.json()).data}catch(qi){return console.error("L\u1ed7i khi l\u1ea5y GIF trending:",qi),[]}};function Bf(e){let{onSelect:t,onClose:n,hideHeader:a=!1}=e;const[o,i]=(0,r.useState)([]),[s,l]=(0,r.useState)(""),[c,u]=(0,r.useState)(!1),[d,h]=(0,r.useState)(null);(0,r.useEffect)(()=>{f()},[]);const f=async()=>{u(!0),h(null);try{const e=await Uf(30);i(e)}catch(e){h("Kh\xf4ng th\u1ec3 t\u1ea3i GIF. Vui l\xf2ng th\u1eed l\u1ea1i.")}finally{u(!1)}},p=async e=>{if(l(e),e.trim()){u(!0),h(null);try{const t=await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;try{if(!e.trim())return Uf(t);const n=await fetch("".concat(Hf,"/search?api_key=").concat(Wf,"&q=").concat(encodeURIComponent(e),"&limit=").concat(t,"&rating=g&lang=vi"));return n.ok?(await n.json()).data:(console.error("L\u1ed7i API c\u1ee7a GIPHY:",n.status),[])}catch(d){return console.error("L\u1ed7i khi t\xecm ki\u1ebfm GIF:",d),[]}}(e,30);i(t)}catch(t){h("Kh\xf4ng th\u1ec3 t\xecm ki\u1ebfm GIF. Vui l\xf2ng th\u1eed l\u1ea1i.")}finally{u(!1)}}else f()},m=(0,At.jsx)(At.Fragment,{children:c?(0,At.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,At.jsxs)("div",{className:"flex flex-col items-center",children:[(0,At.jsxs)("svg",{className:"animate-spin h-8 w-8 text-blue-500 dark:text-blue-400 mb-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,At.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,At.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,At.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"\u0110ang t\u1ea3i GIF..."})]})}):d?(0,At.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,At.jsxs)("div",{className:"text-center",children:[(0,At.jsx)("p",{className:"text-sm text-red-500 dark:text-red-400 mb-2",children:d}),(0,At.jsx)("button",{onClick:f,className:"text-sm text-blue-500 dark:text-blue-400 hover:underline",children:"Th\u1eed l\u1ea1i"})]})}):0===o.length?(0,At.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,At.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Kh\xf4ng t\xecm th\u1ea5y GIF n\xe0o"})}):(0,At.jsx)("div",{className:"grid grid-cols-3 gap-2",children:o.map(e=>(0,At.jsx)("button",{onClick:()=>(e=>{const r=e.images.downsized.url;t(r),a||n()})(e),className:"relative aspect-square overflow-hidden rounded-lg hover:opacity-80 transition-opacity cursor-pointer bg-gray-100 dark:bg-gray-700 border border-gray-200 dark:border-gray-600",title:e.title,children:(0,At.jsx)("img",{src:e.images.fixed_height.url,alt:e.title,className:"w-full h-full object-cover",loading:"lazy"})},e.id))})});return a?(0,At.jsxs)(At.Fragment,{children:[(0,At.jsx)("div",{className:"p-3 border-b border-gray-200 dark:border-gray-700",children:(0,At.jsx)("input",{type:"text",placeholder:"T\xecm ki\u1ebfm GIF...",value:s,onChange:e=>p(e.target.value),className:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-600 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400"})}),(0,At.jsx)("div",{className:"p-3 max-h-96 overflow-y-auto",children:m})]}):(0,At.jsxs)("div",{className:"absolute bottom-16 right-0 z-50 bg-white dark:bg-gray-800 rounded-lg shadow-2xl border border-gray-200 dark:border-gray-700 w-96",children:[(0,At.jsxs)("div",{className:"p-3 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700",children:[(0,At.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,At.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:"Ch\u1ecdn GIF"}),(0,At.jsx)("button",{onClick:n,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 text-xl font-bold leading-none transition-colors",children:"\xd7"})]}),(0,At.jsx)("input",{type:"text",placeholder:"T\xecm ki\u1ebfm GIF...",value:s,onChange:e=>p(e.target.value),className:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-600 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400"})]}),(0,At.jsx)("div",{className:"p-3 max-h-96 overflow-y-auto",children:m}),(0,At.jsxs)("div",{className:"p-2 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700 text-xs text-gray-500 dark:text-gray-400 text-center",children:["Powered by"," ",(0,At.jsx)("a",{href:"https://giphy.com",target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 dark:text-blue-400 hover:underline",children:"GIPHY"})]})]})}function qf(e){let{onEmojiSelect:t,onGifSelect:n,onClose:a}=e;const[o,i]=(0,r.useState)("emoji");return(0,At.jsxs)("div",{className:"absolute bottom-16 right-0 z-50 bg-white dark:bg-gray-800 rounded-lg shadow-2xl border border-gray-200 dark:border-gray-700 w-96",children:[(0,At.jsx)("div",{className:"border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700",children:(0,At.jsxs)("div",{className:"flex items-center justify-between px-3 pt-3 pb-2",children:[(0,At.jsxs)("div",{className:"flex-1 flex",children:[(0,At.jsx)("button",{onClick:()=>i("sticker"),className:"flex-1 py-2 text-sm font-medium transition-colors ".concat("sticker"===o?"text-blue-500 dark:text-blue-400 border-b-2 border-blue-500 dark:border-blue-400":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"),children:"STICKER"}),(0,At.jsx)("button",{onClick:()=>i("emoji"),className:"flex-1 py-2 text-sm font-medium transition-colors ".concat("emoji"===o?"text-blue-500 dark:text-blue-400 border-b-2 border-blue-500 dark:border-blue-400":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"),children:"EMOJI"})]}),(0,At.jsx)("button",{onClick:a,className:"ml-3 text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 text-xl font-bold leading-none transition-colors",children:"\xd7"})]})}),(0,At.jsx)("div",{children:"sticker"===o?(0,At.jsx)(Bf,{onSelect:n,onClose:a,hideHeader:!0}):(0,At.jsx)(Ff,{onSelect:t,onClose:a,hideHeader:!0})})]})}function Vf(e){let{onSelectColor:t,onClose:n}=e;return(0,At.jsxs)("div",{className:"absolute bottom-16 left-0 z-50 bg-white dark:bg-gray-800 rounded-lg shadow-2xl border border-gray-200 dark:border-gray-700 p-3",children:[(0,At.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,At.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:"Ch\u1ecdn M\xe0u Ch\u1eef"}),(0,At.jsx)("button",{onClick:n,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 text-xl font-bold transition-colors",children:"\xd7"})]}),(0,At.jsx)("div",{className:"grid grid-cols-5 gap-2",children:If.map(e=>{let{name:r,value:a,hex:o}=e;return(0,At.jsx)("button",{onClick:()=>{t(o),n()},title:r,className:"w-10 h-10 rounded-full border-2 border-white dark:border-gray-600 shadow-md hover:scale-110 transition-transform",style:{backgroundColor:a}},o)})}),(0,At.jsxs)("div",{className:"mt-3 text-xs text-gray-500 dark:text-gray-400 text-center",children:["Ch\u1ecdn m\xe0u: ",(0,At.jsx)("code",{className:"bg-gray-200 dark:bg-gray-600 dark:text-gray-200 px-1 rounded",children:"[red]text[/red]"})]})]})}const $f=r.memo(e=>{let{label:t,onClick:n,title:r}=e;return(0,At.jsx)("button",{type:"button",onClick:n,onMouseDown:e=>e.preventDefault(),title:r,className:"px-3 py-1 text-sm font-semibold text-gray-700 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-700 rounded transition-colors",children:t})});function Kf(e){let{editorRef:t}=e;const[n,a]=(0,r.useState)(!1),o=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;if(!t.current)return;const r=window.getSelection();if(!r||0===r.rangeCount)return;const a=r.getRangeAt(0),o=a.toString();if(o){const t=e+o+n,i=document.createTextNode(t);a.deleteContents(),a.insertNode(i);const s=document.createRange();s.setStartAfter(i),s.collapse(!0),r.removeAllRanges(),r.addRange(s)}else{const t="text",o=document.createTextNode(e+t+n);a.insertNode(o);const i=document.createRange();i.setStart(o,e.length),i.setEnd(o,e.length+t.length),r.removeAllRanges(),r.addRange(i)}const i=new Event("input",{bubbles:!0});t.current.dispatchEvent(i),t.current.focus()};return(0,At.jsxs)("div",{className:"relative",children:[(0,At.jsxs)("div",{className:"flex items-center gap-1 p-2 bg-gray-50 dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:[(0,At.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400 mr-2",children:"Format:"}),(0,At.jsx)($f,{label:"B",onClick:()=>o("**"),title:"Bold: **text**"}),(0,At.jsx)($f,{label:(0,At.jsx)("i",{children:"I"}),onClick:()=>o("*"),title:"Italic: *text*"}),(0,At.jsx)($f,{label:(0,At.jsx)("u",{children:"U"}),onClick:()=>o("__"),title:"Underline: __text__"}),(0,At.jsx)("div",{className:"mx-2 h-4 border-l border-gray-300 dark:border-gray-600"}),(0,At.jsx)($f,{label:(0,At.jsx)("span",{style:{color:"#FF0000"},children:"A"}),onClick:()=>a(!n),title:"Text Color"}),(0,At.jsx)("div",{className:"ml-auto text-xs text-gray-400 dark:text-gray-500",children:"Ch\u1ecdn text v\xe0 click chuy\u1ec3n \u0111\u1ed5i"})]}),n&&(0,At.jsx)(Vf,{onSelectColor:e=>{o("[".concat(e,"]"),"[/".concat(e,"]")),a(!1)},onClose:()=>a(!1)})]})}function Gf(e){let{value:t,onChange:n,onKeyDown:a,placeholder:o,disabled:i,className:s,editorRef:l}=e;const c=(0,r.useRef)(null),u=l||c,[d,h]=(0,r.useState)(!1),f=(0,r.useRef)(!1),p=(0,r.useCallback)(e=>{if(!e)return"";let t=e;t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");return t=t.replace(/:([a-z_]+):/g,e=>{const t=_f(e);return t!==e?t:e}),t=t.replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>"),t=t.replace(/\*([^*]+)\*/g,"<em>$1</em>"),t=t.replace(/__([^_]+)__/g,"<u>$1</u>"),Object.entries(Pf).forEach(e=>{let[n,r]=e;const a=new RegExp("\\[".concat(n,"\\]([^\\[]+)\\[\\/").concat(n,"\\]"),"g");t=t.replace(a,'<span style="color:'.concat(r,'">$1</span>'))}),t},[]),m=(0,r.useCallback)(e=>{if(e.nodeType===Node.TEXT_NODE)return e.textContent||"";if(e.nodeType===Node.ELEMENT_NODE){const t=e,n=Array.from(t.childNodes).map(e=>m(e)).join("");switch(t.tagName){case"STRONG":case"B":return"**".concat(n,"**");case"EM":case"I":return"*".concat(n,"*");case"U":return"__".concat(n,"__");case"SPAN":const e=t.style.color;if(e){const t=(e=>{if(!e)return;const t=e.toLowerCase().trim(),n={"rgb(255, 0, 0)":"red","rgb(0, 132, 255)":"blue","rgb(0, 200, 81)":"green","rgb(255, 215, 0)":"yellow","rgb(156, 39, 176)":"purple","rgb(255, 152, 0)":"orange","rgb(233, 30, 99)":"pink","rgb(121, 85, 72)":"brown","rgb(158, 158, 158)":"gray","rgb(0, 0, 0)":"black"};if(n[t])return n[t];for(const[r,a]of Object.entries(Pf))if(a.toLowerCase()===t)return r})(e);if(t)return"[".concat(t,"]").concat(n,"[/").concat(t,"]")}return n;case"BR":return"\n";default:return n}}return""},[]),g=(0,r.useCallback)(()=>u.current?m(u.current):"",[u,m]),y=(0,r.useCallback)(()=>{const e=window.getSelection();if(!e||!u.current||0===e.rangeCount)return null;const t=e.getRangeAt(0),n=t.cloneRange();return n.selectNodeContents(u.current),n.setEnd(t.endContainer,t.endOffset),n.toString().length},[u]),v=(0,r.useCallback)(e=>{if(!u.current)return;const t=window.getSelection();if(!t)return;const n=(e,t)=>{if(0===t.count){const t=document.createRange();return t.setStart(e,0),t.collapse(!0),t}if(e.nodeType===Node.TEXT_NODE){var r;const n=(null===(r=e.textContent)||void 0===r?void 0:r.length)||0;if(t.count<=n){const r=document.createRange();return r.setStart(e,Math.min(t.count,n)),r.collapse(!0),r}t.count-=n}else for(let a=0;a<e.childNodes.length;a++){const r=n(e.childNodes[a],t);if(r)return r}return null},r=n(u.current,{count:e});r&&(t.removeAllRanges(),t.addRange(r))},[u]);(0,r.useEffect)(()=>{if(!u.current||d||f.current)return;const e=g();if(""===t&&""!==e)return void(u.current.innerHTML="");if(e===t)return;const n=p(t);if(n!==u.current.innerHTML){const e=y();u.current.innerHTML=n,null!==e&&v(e)}},[t,d,u,p,g,y,v]);return(0,At.jsx)("div",{ref:u,contentEditable:!i,onInput:()=>{if(!u.current||d)return;f.current=!0;const e=g();n(e);const t=y(),r=p(e);u.current.innerHTML!==r&&(u.current.innerHTML=r,null!==t&&v(t)),setTimeout(()=>{f.current=!1},0)},onKeyDown:e=>{a(e)},onPaste:e=>{e.preventDefault();const t=e.clipboardData.getData("text/plain"),n=window.getSelection();if(!n||!n.rangeCount)return;const r=n.getRangeAt(0);r.deleteContents();const a=document.createTextNode(t);if(r.insertNode(a),r.setStartAfter(a),r.collapse(!0),n.removeAllRanges(),n.addRange(r),u.current){const e=new Event("input",{bubbles:!0});u.current.dispatchEvent(e)}},onCompositionStart:()=>{h(!0)},onCompositionEnd:()=>{h(!1),setTimeout(()=>{if(u.current){f.current=!0;const e=g();n(e),setTimeout(()=>{f.current=!1},0)}},0)},className:s,suppressContentEditableWarning:!0,"data-placeholder":o,style:{minHeight:"20px",maxHeight:"100px",overflowY:"auto",outline:"none"}})}function Qf(e){let{message:t,onClose:n}=e;const r=t.mes.startsWith("http")&&/\.(jpeg|jpg|gif|png|webp)$/i.test(t.mes)?"H\xecnh \u1ea3nh":af(_f(t.mes),60);return(0,At.jsxs)("div",{className:"flex items-center gap-3 px-4 py-2 bg-gray-100 dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:[(0,At.jsx)("div",{className:"w-1 h-10 bg-blue-500 rounded-full flex-shrink-0"}),(0,At.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,At.jsxs)("div",{className:"flex items-center gap-2 mb-0.5",children:[(0,At.jsx)("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})}),(0,At.jsxs)("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300",children:["Tr\u1ea3 l\u1eddi ",t.name]})]}),(0,At.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 truncate",children:r})]}),(0,At.jsx)("button",{onClick:n,className:"flex-shrink-0 p-1.5 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full transition-colors","aria-label":"H\u1ee7y reply",children:(0,At.jsx)("svg",{className:"w-5 h-5 text-gray-500 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}$f.displayName="ToolButton";const Yf="dox9vbxjn",Xf="chat_app_preset";function Jf(){const[e,t]=(0,r.useState)(""),[n,a]=(0,r.useState)(!1),[o,i]=(0,r.useState)(!1),[s,l]=(0,r.useState)(!1),[c,u]=(0,r.useState)(!1),[d,h]=(0,r.useState)(""),[f,p]=(0,r.useState)([]),m=(0,r.useRef)(null),g=(0,r.useRef)(null),{name:y,type:v,userList:b}=sn(e=>e.currentChat),[_,x]=(0,r.useState)(!1),w=(0,r.useRef)(null),k=(0,r.useRef)([]),{user:C}=sn(e=>e.auth),{partners:S}=sn(e=>e.chatPartner),{replyingTo:E}=sn(e=>e.ui),N=on(),T=e=>{let t=0;const n=window.getSelection();if(n&&0!==n.rangeCount){const r=n.getRangeAt(0),a=r.cloneRange();a.selectNodeContents(e),a.setEnd(r.endContainer,r.endOffset),t=a.toString().length}return t},j=e=>{let{user:t,onSelect:n}=e;const r=yf(t.name);return(0,At.jsxs)("div",{className:"flex items-center gap-2 p-2 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer transition-colors",onMouseDown:e=>{e.preventDefault(),n(t.name)},children:[(0,At.jsx)("img",{src:r,alt:t.name,className:"w-8 h-8 rounded-full object-cover border border-gray-200"}),(0,At.jsx)("span",{className:"text-sm font-medium text-gray-800 dark:text-gray-200",children:t.name})]})};(0,r.useEffect)(()=>{if(c){let e=[];if("people"===v){const t=S.find(e=>e.name===y);e=t?[t]:[{name:y}]}else"room"===v&&(e=b&&Array.isArray(b)&&b.length>0?b:[]);const t=e.filter(e=>e.name&&e.name.toLowerCase().includes(d.toLowerCase()));p(t)}},[d,y,v,b,S,c]);const R=n=>{const r=g.current;if(!r)return;const a=T(r),o=e.slice(0,a),i=o.match(/(@[a-zA-Z0-9_]*)$/);if(i){const s=i[0],l=o.lastIndexOf(s),c=o.slice(0,l),d=e.slice(a),h="".concat(c,"@").concat(n," ").concat(d);t(h),u(!1),setTimeout(()=>{r.focus();const e=c.length+n.length+2;((e,t)=>{const n=document.createRange(),r=window.getSelection(),a=e.firstChild||e;if(a){var o;const i=(null===(o=a.textContent)||void 0===o?void 0:o.length)||0,s=Math.min(t,i);try{3===a.nodeType?(n.setStart(a,s),n.setEnd(a,s)):(n.selectNodeContents(e),n.collapse(!1)),null===r||void 0===r||r.removeAllRanges(),null===r||void 0===r||r.addRange(n)}catch(cp){e.focus()}}})(r,e)},0)}},P=async e=>{if(!y||!v)return;let t=(e=>{let t=[];return"room"===v?b&&Array.isArray(b)&&(t=b.map(e=>e.name)):y&&(t=[y]),e.replace(/(^|\s)@([a-zA-Z0-9_]+)/g,(e,n,r)=>t.includes(r)?"".concat(n,"***@").concat(r,"***"):e)})(e);e.startsWith("http")&&(t=e),E.message&&E.target===y&&(t=function(e,t){const n={sender:e.name,msg:e.mes.substring(0,100),time:e.createAt||""},r="[REPLY:".concat(JSON.stringify(n),"]");return"".concat(r,"\n").concat(t)}(E.message,t));const n={name:(null===C||void 0===C?void 0:C.username)||"me",mes:t,type:v,to:y,createAt:(new Date).toISOString(),replyTo:E.message&&E.target===y?{senderName:E.message.name,message:E.message.mes,timestamp:E.message.createAt}:void 0};N(bh({target:y,message:n}));try{await lf.connect(),"room"===v?lf.sendMessageToRoom(y,t):lf.sendMessageToPeople(y,t)}catch(qi){console.error("L\u1ed7i socket:",qi)}},I=()=>{e.trim()&&(P(e),t(""),u(!1),N(Kh()))},L=async()=>{try{const e=await navigator.mediaDevices.getUserMedia({audio:!0}),t=new MediaRecorder(e);w.current=t,k.current=[],t.ondataavailable=e=>{e.data.size>0&&k.current.push(e.data)},t.onstop=async()=>{const t=new Blob(k.current,{type:"audio/webm"});await M(t),e.getTracks().forEach(e=>e.stop())},t.start(),x(!0)}catch(qi){console.error("L\u1ed7i truy c\u1eadp micro:",qi),alert("Kh\xf4ng th\u1ec3 truy c\u1eadp Micro. Vui l\xf2ng c\u1ea5p quy\u1ec1n!")}},O=()=>{w.current&&_&&(w.current.stop(),x(!1))},M=async e=>{if(!y)return;a(!0);const t=new FormData;t.append("file",e),t.append("upload_preset",Xf),t.append("resource_type","auto");try{const e=await fetch("https://api.cloudinary.com/v1_1/".concat(Yf,"/upload"),{method:"POST",body:t}),n=await e.json();n.secure_url&&P(n.secure_url)}catch(qi){console.error("L\u1ed7i upload audio:",qi),alert("L\u1ed7i g\u1eedi tin nh\u1eafn tho\u1ea1i.")}finally{a(!1)}};(0,r.useEffect)(()=>{if(E.message&&E.target===y&&!e){var n;const e="@".concat(E.message.name," ");t(e),null===(n=g.current)||void 0===n||n.focus()}},[E,y,e]);const A=!y||n;return(0,At.jsxs)("div",{className:"relative",children:[c&&f.length>0&&(0,At.jsxs)("div",{className:"absolute bottom-full left-10 mb-2 w-64 max-h-48 overflow-y-auto bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl shadow-lg z-50 animate-in fade-in zoom-in duration-200",children:[(0,At.jsx)("div",{className:"p-2 border-b border-gray-100 dark:border-gray-700 text-xs font-bold text-gray-400 uppercase",children:"G\u1ee3i \xfd nh\u1eafc t\xean"}),f.map(e=>(0,At.jsx)(j,{user:e,onSelect:R},e.name))]}),E.message&&E.target===y&&(0,At.jsx)(Qf,{message:E.message,onClose:()=>{N(Kh())}}),s&&(0,At.jsx)(Kf,{editorRef:g}),(0,At.jsxs)("div",{className:"h-[60px] border-t border-gray-300 dark:border-gray-700 flex items-center px-4 bg-white dark:bg-gray-800",children:[(0,At.jsx)("input",{type:"file",accept:"image/*",ref:m,onChange:async e=>{var t;const n=null===(t=e.target.files)||void 0===t?void 0:t[0];if(n){m.current&&(m.current.value=""),a(!0);try{const e=new FormData;e.append("file",n),e.append("upload_preset",Xf);const t=await fetch("https://api.cloudinary.com/v1_1/".concat(Yf,"/image/upload"),{method:"POST",body:e}),r=await t.json();r.secure_url?P(r.secure_url):alert("L\u1ed7i upload \u1ea3nh")}catch(qi){alert("Kh\xf4ng th\u1ec3 k\u1ebft n\u1ed1i t\u1edbi Cloudinary!")}finally{a(!1)}}},className:"hidden"}),(0,At.jsxs)("div",{className:"flex space-x-3 text-gray-500 dark:text-gray-400 mr-3",children:[(0,At.jsx)("div",{className:"cursor-pointer hover:text-blue-500 transition-colors ".concat(A?"opacity-50 pointer-events-none":""),onClick:()=>l(!s),title:"Format text",children:(0,At.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})})}),(0,At.jsx)("div",{className:"cursor-pointer hover:text-blue-500 transition-colors ".concat(A?"opacity-50 pointer-events-none":""),onClick:()=>{var e;return null===(e=m.current)||void 0===e?void 0:e.click()},title:"G\u1eedi \u1ea3nh",children:n?(0,At.jsxs)("svg",{className:"animate-spin h-6 w-6 text-blue-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,At.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,At.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):(0,At.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,At.jsx)("button",{className:"cursor-pointer transition-colors ".concat(_?"text-red-500 animate-pulse bg-red-100 dark:bg-red-900/30 rounded-full p-1":"hover:text-red-500 dark:hover:text-red-400"," ").concat(A?"opacity-50 pointer-events-none":""),onMouseDown:L,onMouseUp:O,onMouseLeave:O,onTouchStart:L,onTouchEnd:O,title:"Nh\u1ea5n gi\u1eef \u0111\u1ec3 ghi \xe2m",type:"button",children:_?(0,At.jsxs)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:[(0,At.jsx)("path",{d:"M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3z"}),(0,At.jsx)("path",{d:"M17 11c0 2.76-2.24 5-5 5s-5-2.24-5-5H5c0 3.53 2.61 6.43 6 6.92V21h2v-3.08c3.39-.49 6-3.39 6-6.92h-2z"})]}):(0,At.jsx)("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})})})]}),(0,At.jsxs)("div",{className:"flex-1 relative flex items-center",children:[(0,At.jsx)(Gf,{value:e,onChange:e=>{t(e);const n=g.current;if(!n)return;const r=T(n),a=e.slice(0,r).match(/(@[a-zA-Z0-9_]*)$/);if(a){const e=a[0].slice(1);h(e),u(!0)}else u(!1)},onKeyDown:e=>{if(c&&f.length>0&&"Enter"===e.key)return e.preventDefault(),void R(f[0].name);"Enter"!==e.key||e.shiftKey||(e.preventDefault(),I())},placeholder:n?"\u0110ang g\u1eedi \u1ea3nh...":y?"Nh\u1eadp tin nh\u1eafn...":"Ch\u1ecdn h\u1ed9i tho\u1ea1i \u0111\u1ec3 chat",disabled:A,className:"w-full bg-gray-100 dark:bg-gray-700 rounded-full py-2 px-4 pr-10 text-sm text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-1 focus:ring-blue-500",editorRef:g}),(0,At.jsx)("button",{onClick:()=>i(!o),disabled:A,className:"absolute right-3 top-1/2 transform -translate-y-1/2 ".concat(A?"opacity-50":""),type:"button",children:(0,At.jsxs)("svg",{className:"w-6 h-6 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,At.jsx)("circle",{cx:"12",cy:"12",r:"10",strokeWidth:"1.5"}),(0,At.jsx)("circle",{cx:"9",cy:"10",r:"1",fill:"currentColor"}),(0,At.jsx)("circle",{cx:"15",cy:"10",r:"1",fill:"currentColor"}),(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M8 14s1.5 2 4 2 4-2 4-2"})]})})]}),e.trim()?(0,At.jsx)("button",{className:"ml-3 text-[#0084ff] transition-all hover:scale-110 ".concat(A?"opacity-50 pointer-events-none":""),onClick:I,disabled:A,type:"button",children:(0,At.jsx)("svg",{className:"w-7 h-7",fill:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{d:"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"})})}):(0,At.jsx)("button",{className:"ml-3 text-2xl hover:scale-125 transition-transform ".concat(A?"opacity-50 pointer-events-none grayscale":""),onClick:()=>{A||P(":thumbsup:")},disabled:A,type:"button",children:"\ud83d\udc4d"})]}),o&&(0,At.jsx)(qf,{onEmojiSelect:e=>{var n;t(t=>t+e+" "),null===(n=g.current)||void 0===n||n.focus()},onGifSelect:e=>{P(e),i(!1)},onClose:()=>i(!1)})]})}const Zf={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:global.stun.twilio.com:3478"}]};function ep(e){let{localStream:t,remoteStream:n,isIncoming:a,onAnswer:o,onEnd:i,status:s,partnerName:l}=e;const c=(0,r.useRef)(null),u=(0,r.useRef)(null),[d,h]=(0,r.useState)(0);return(0,r.useEffect)(()=>{let e;return"connected"===s?(h(0),e=setInterval(()=>{h(e=>e+1)},1e3)):h(0),()=>clearInterval(e)},[s]),(0,r.useEffect)(()=>{c.current&&t&&(c.current.srcObject=t)},[t]),(0,r.useEffect)(()=>{u.current&&n&&(u.current.srcObject=n)},[n]),(0,At.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-sm",children:(0,At.jsxs)("div",{className:"relative w-full h-full md:w-[800px] md:h-[600px] bg-gray-900 md:rounded-2xl overflow-hidden shadow-2xl flex flex-col",children:[(0,At.jsxs)("div",{className:"absolute top-0 w-full p-4 z-10 bg-gradient-to-b from-black/70 to-transparent text-white text-center",children:[(0,At.jsx)("h2",{className:"text-xl font-bold",children:l}),(0,At.jsx)("p",{className:"text-sm opacity-80",children:a?"\u0110ang g\u1ecdi cho b\u1ea1n...":"connected"===s?(e=>{const t=Math.floor(e/60).toString().padStart(2,"0"),n=(e%60).toString().padStart(2,"0");return"".concat(t,":").concat(n)})(d):"\u0110ang k\u1ebft n\u1ed1i..."})]}),(0,At.jsxs)("div",{className:"flex-1 relative bg-black flex items-center justify-center",children:[n?(0,At.jsx)("video",{ref:u,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}):(0,At.jsxs)("div",{className:"text-white flex flex-col items-center",children:[(0,At.jsx)("div",{className:"w-20 h-20 rounded-full bg-gray-700 animate-pulse mb-4"}),(0,At.jsx)("p",{children:"\u0110ang ch\u1edd video t\u1eeb \u0111\u1ed1i ph\u01b0\u01a1ng..."})]}),t&&(0,At.jsx)("div",{className:"absolute bottom-4 right-4 w-32 h-48 md:w-48 md:h-36 bg-gray-800 rounded-lg border-2 border-white/20 shadow-lg overflow-hidden",children:(0,At.jsx)("video",{ref:c,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover transform scale-x-[-1]"})})]}),(0,At.jsx)("div",{className:"absolute bottom-8 w-full flex justify-center items-center gap-8 z-20",children:a?(0,At.jsxs)(At.Fragment,{children:[(0,At.jsx)("button",{onClick:o,className:"w-16 h-16 rounded-full bg-green-500 hover:bg-green-600 flex items-center justify-center shadow-lg animate-bounce",children:"\ud83d\udcde"}),(0,At.jsx)("button",{onClick:i,className:"w-16 h-16 rounded-full bg-red-500 hover:bg-red-600 flex items-center justify-center shadow-lg",children:"\u274c"})]}):(0,At.jsxs)("button",{onClick:i,className:"px-8 py-3 rounded-full bg-red-600 hover:bg-red-700 text-white font-bold shadow-lg flex items-center gap-2",children:[(0,At.jsx)("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 8l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2M5 3a2 2 0 00-2 2v1c0 8.284 6.716 15 15 15h1a2 2 0 002-2v-3.28a1 1 0 00-.684-.948l-4.493-1.498a1 1 0 00-1.21.502l-1.13 2.257a11.042 11.042 0 01-5.516-5.517l2.257-1.128a1 1 0 00.502-1.21L9.228 3.683A1 1 0 008.279 3H5z"})}),"K\u1ebft th\xfac"]})})]})})}function tp(){const e=on(),{name:t,type:n}=sn(e=>e.currentChat),{user:a}=sn(e=>e.auth),o=sn(e=>t?e.chat.pinnedMessages[t]:null);(0,r.useEffect)(()=>{if(!t||null===a||void 0===a||!a.username||!n)return;const r=((e,t,n,r)=>{const a="room"===n?t:rh(e,t),o=Yd(Hd(th,"pins/".concat(a)),e=>{const t=e.val();r(t)});return o})(a.username,t,n,n=>{e(wh({target:t,message:n}))});return()=>r()},[t,n,a,e]);return o&&t?(0,At.jsxs)("div",{className:"w-full bg-yellow-50 dark:bg-yellow-900/20 border-b border-yellow-200 dark:border-yellow-700/50 px-4 py-2 flex items-center justify-between shadow-sm z-10",children:[(0,At.jsxs)("div",{className:"flex flex-col overflow-hidden mr-2",children:[(0,At.jsxs)("div",{className:"text-[11px] font-bold text-yellow-700 dark:text-yellow-500 uppercase flex items-center gap-1",children:[(0,At.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-3 h-3",children:[(0,At.jsx)("path",{fillRule:"evenodd",d:"M11.47 2.47a.75.75 0 011.06 0l4.5 4.5a.75.75 0 01-1.06 1.06l-4.5-4.5a.75.75 0 010-1.06zm-5 5a.75.75 0 011.06 0l4.5 4.5a.75.75 0 01-1.06 1.06l-4.5-4.5a.75.75 0 010-1.06z",clipRule:"evenodd"}),(0,At.jsx)("path",{d:"M14.25 2.25L16.5 4.5 19.5 1.5 22.5 4.5 19.5 7.5l2.25 2.25-2.25 2.25L14.25 7.5 12 5.25 9.75 7.5 7.5 5.25 9.75 3l4.5-4.5z"})]}),"Tin nh\u1eafn \u0111\xe3 ghim"]}),(0,At.jsxs)("div",{className:"text-sm text-gray-800 dark:text-gray-200 truncate mt-0.5",children:[(0,At.jsxs)("span",{className:"font-semibold text-gray-600 dark:text-gray-400 mr-1",children:[o.name,":"]}),o.mes]})]}),(0,At.jsx)("button",{onClick:()=>{t&&null!==a&&void 0!==a&&a.username&&n&&((e,t,n)=>{const r="room"===n?t:rh(e,t);Bd(Hd(th,"pins/".concat(r))).catch(e=>console.error("L\u1ed7i b\u1ecf ghim:",e))})(a.username,t,n)},className:"p-1 hover:bg-black/10 dark:hover:bg-white/10 rounded text-gray-500 dark:text-gray-400",title:"B\u1ecf ghim",children:(0,At.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,At.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,At.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}):null}function np(){const e=on(),{user:t,isAuthenticated:n}=sn(e=>e.auth),a=null===t||void 0===t?void 0:t.username,o=sn(e=>e.chat.messagesByTarget),{name:i,type:s}=sn(e=>e.currentChat),l=(0,r.useMemo)(()=>i&&o[i]||[],[i,o]),c=(0,r.useRef)(null),u=(0,r.useRef)(null),d=(0,r.useRef)(0),h=(0,r.useRef)(null),f=(0,r.useRef)(null),[p,m]=(0,r.useState)(1),[g,y]=(0,r.useState)(!0),[v,b]=(0,r.useState)(!1),_=yf(i||""),{localStream:x,remoteStream:w,isCalling:k,isIncoming:C,callStatus:S,startCall:E,answerCall:N,endCall:T}=(e=>{const[t,n]=(0,r.useState)(null),[a,o]=(0,r.useState)(null),[i,s]=(0,r.useState)(!1),[l,c]=(0,r.useState)(!1),[u,d]=(0,r.useState)(""),h=(0,r.useRef)(null),{user:f}=sn(e=>e.auth),p=sn(e=>e.currentChat.type)||"people",m=(0,r.useRef)([]),g=(0,r.useRef)(null),y=(0,r.useCallback)(()=>{if(h.current)return h.current;const t=new RTCPeerConnection(Zf);return t.onicecandidate=t=>{t.candidate&&(m.current.push(t.candidate),g.current&&clearTimeout(g.current),g.current=setTimeout(()=>{m.current.length>0&&(m.current.forEach(t=>{lf.sendWebRTCSignal(e,{type:"CANDIDATE",candidate:t},p)}),m.current=[])},100))},t.ontrack=e=>{console.log("Nh\u1eadn remote stream"),o(e.streams[0])},t.onconnectionstatechange=()=>{switch(t.connectionState){case"connected":d("connected");break;case"disconnected":case"failed":case"closed":b()}},h.current=t,t},[e,p]);(0,r.useEffect)(()=>(lf.registerWebRTCListener(async(t,n,r)=>{if("people"===p){if(t!==e)return}else if("room"===p&&r!==e)return;if(!h.current&&"OFFER"!==n.type)return;const a=h.current||y();switch(n.type){case"OFFER":c(!0),d("incoming"),await a.setRemoteDescription(new RTCSessionDescription(n.offer));break;case"ANSWER":await a.setRemoteDescription(new RTCSessionDescription(n.answer));break;case"CANDIDATE":try{n.candidate&&await a.addIceCandidate(new RTCIceCandidate(n.candidate))}catch(cp){console.error("L\u1ed7i add ICE:",cp)}break;case"END_CALL":b()}}),()=>{}),[e,y,p]);const v=async()=>{try{const e=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});return n(e),e}catch(e){return console.error("Kh\xf4ng th\u1ec3 l\u1ea5y camera:",e),alert("Vui l\xf2ng c\u1ea5p quy\u1ec1n Camera/Micro \u0111\u1ec3 g\u1ecdi video!"),null}},b=()=>{null===t||void 0===t||t.getTracks().forEach(e=>e.stop()),h.current&&(h.current.close(),h.current=null),n(null),o(null),s(!1),c(!1),d(""),lf.sendWebRTCSignal(e,{type:"END_CALL"},p)};return{localStream:t,remoteStream:a,isCalling:i,isIncoming:l,callStatus:u,startCall:async()=>{const t=await v();if(!t)return;s(!0),d("calling");const n=y();t.getTracks().forEach(e=>n.addTrack(e,t));const r=await n.createOffer();await n.setLocalDescription(r),lf.sendWebRTCSignal(e,{type:"OFFER",offer:r},p)},answerCall:async()=>{const t=await v();if(!t)return;c(!1),s(!0),d("connected");const n=h.current;if(!n)return;t.getTracks().forEach(e=>n.addTrack(e,t));const r=await n.createAnswer();await n.setLocalDescription(r),lf.sendWebRTCSignal(e,{type:"ANSWER",answer:r},p)},endCall:b}})(i||"");(0,r.useEffect)(()=>{if(n&&i&&s){m(1),y(!0),b(!1),d.current=0,h.current=null,f.current&&clearTimeout(f.current);const e=setTimeout(()=>{"room"===s?lf.getRoomHistory(i||"",1):lf.getHistory(i||"",1)},50);return()=>{clearTimeout(e)}}},[i,s,n,e]);return(0,r.useLayoutEffect)(()=>{if(v&&u.current){f.current&&clearTimeout(f.current);const e=u.current,t=e.scrollHeight-d.current;t>0&&(console.log(" Restoring scroll: pushed down ".concat(t,"px")),e.scrollTop=t),b(!1)}},[l,v]),(0,r.useEffect)(()=>{if(0===l.length)return;const e=l[l.length-1],t=e.id||e.createAt+e.mes;if(t!==h.current){var n;if(!v)null===(n=c.current)||void 0===n||n.scrollIntoView({behavior:"smooth"});h.current=t}},[l,v]),i?(0,At.jsxs)("div",{className:"flex flex-col h-screen bg-white dark:bg-gray-900 w-full border-l border-gray-300 dark:border-gray-700 relative",children:[(0,At.jsx)(Rf,{onCallClick:E}),(0,At.jsx)(tp,{}),(0,At.jsxs)("div",{ref:u,onScroll:e=>{const{scrollTop:t,scrollHeight:n}=e.currentTarget;if(0===t&&g&&!v&&l.length>0){console.log(" Requesting Page ".concat(p+1,"...")),d.current=n,b(!0),f.current&&clearTimeout(f.current),f.current=setTimeout(()=>{console.warn("\u26a0 Load timer expired. Server returned empty or timed out."),b(!1),y(!1)},2e3);const e=p+1;m(e),"room"===s?lf.getRoomHistory(i||"",e):lf.getHistory(i||"",e)}},className:"flex-1 overflow-y-auto p-4 flex flex-col space-y-0.5 custom-scrollbar relative",children:[v&&(0,At.jsx)("div",{className:"flex justify-center py-2 w-full shrink-0 my-2",children:(0,At.jsx)("div",{className:"bg-white/80 dark:bg-gray-800/80 p-1.5 rounded-full shadow-sm",children:(0,At.jsxs)("svg",{className:"animate-spin h-5 w-5 text-blue-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,At.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,At.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})}),0===l.length&&!v&&(0,At.jsxs)("div",{className:"text-center text-gray-400 dark:text-gray-500 mt-10",children:["B\u1eaft \u0111\u1ea7u cu\u1ed9c tr\xf2 chuy\u1ec7n v\u1edbi ",i,"..."]}),l.filter(e=>{try{return"WEBRTC_SIGNAL"!==JSON.parse(e.mes).type}catch(t){return!0}}).map((e,t)=>{const n=e.name===a,r=l[t-1],o=l[t+1],i=Mf(e.createAt).getTime(),c=r?Mf(r.createAt).getTime():0,u=o?Mf(o.createAt).getTime():0,d=r?(i-c)/6e4:0,h=o?(u-i)/6e4:0;let f=!1;(!r||d>=60)&&(f=!0);const p=!r||r.name!==e.name||f||d>10,m=!o||o.name!==e.name||h>10;return(0,At.jsx)(zf,{msg:e,isMe:n,isFirstInGroup:p,isLastInGroup:m,showTimeSeparator:f,chatType:s,partnerAvatarFallback:_},e.id||t)}),(0,At.jsx)("div",{ref:c})]}),(0,At.jsx)(Jf,{}),(k||C)&&(0,At.jsx)(ep,{localStream:x,remoteStream:w,isIncoming:C,onAnswer:N,onEnd:T,status:S,partnerName:i||"Unknown"})]}):(0,At.jsx)("div",{className:"flex flex-col h-screen bg-white dark:bg-gray-900 w-full border-l border-gray-300 dark:border-gray-700 items-center justify-center text-gray-400 dark:text-gray-500",children:"Ch\u1ecdn m\u1ed9t cu\u1ed9c h\u1ed9i tho\u1ea1i \u0111\u1ec3 b\u1eaft \u0111\u1ea7u"})}const rp=e=>{let{isOpen:t,title:n,message:r,confirmLabel:a="X\xe1c nh\u1eadn",cancelLabel:o="H\u1ee7y",isDanger:i=!1,onConfirm:s,onCancel:l}=e;return t?(0,At.jsx)("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm animate-in fade-in duration-200",children:(0,At.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-sm w-full p-6 transform transition-all scale-100 animate-in zoom-in-95 duration-200 border border-gray-100 dark:border-gray-700",children:[(0,At.jsx)("div",{className:"mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full ".concat(i?"bg-red-100 sm:mx-0 sm:h-10 sm:w-10":"bg-blue-100"),children:i?(0,At.jsx)("svg",{className:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})}):(0,At.jsx)("svg",{className:"h-6 w-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})})}),(0,At.jsxs)("div",{className:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left",children:[(0,At.jsx)("h3",{className:"text-lg font-bold leading-6 text-gray-900 dark:text-white text-center mt-2 mb-2",children:n}),(0,At.jsx)("div",{className:"mt-2",children:(0,At.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center",children:r})})]}),(0,At.jsxs)("div",{className:"mt-6 flex justify-center gap-3",children:[(0,At.jsx)("button",{type:"button",className:"inline-flex w-full justify-center rounded-xl bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto dark:bg-gray-700 dark:text-white dark:ring-gray-600 dark:hover:bg-gray-600",onClick:l,children:o}),(0,At.jsx)("button",{type:"button",className:"inline-flex w-full justify-center rounded-xl px-3 py-2 text-sm font-semibold text-white shadow-sm sm:ml-3 sm:w-auto ".concat(i?"bg-red-600 hover:bg-red-500":"bg-blue-600 hover:bg-blue-500"),onClick:s,children:a})]})]})}):null},ap=e=>{let{username:t,subText:n,actions:r}=e;const a=yf(t);return(0,At.jsxs)("div",{className:"flex items-center justify-between p-4 bg-white dark:bg-gray-800 border border-gray-100 dark:border-gray-700 rounded-2xl shadow-sm hover:shadow-md transition-all",children:[(0,At.jsxs)("div",{className:"flex items-center gap-4",children:[(0,At.jsx)("img",{src:a,alt:t,className:"w-12 h-12 rounded-full object-cover border border-gray-200 dark:border-gray-600"}),(0,At.jsxs)("div",{children:[(0,At.jsx)("h3",{className:"font-bold text-gray-800 dark:text-white text-base",children:t}),n&&(0,At.jsx)("p",{className:"text-xs text-gray-500",children:n})]})]}),(0,At.jsx)("div",{className:"flex items-center gap-2",children:r})]})},op=e=>{let{text:t}=e;return(0,At.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-gray-400 mt-10",children:[(0,At.jsx)("div",{className:"w-20 h-20 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mb-4",children:(0,At.jsx)("svg",{className:"w-10 h-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})})}),(0,At.jsx)("p",{children:t})]})},ip=()=>{const e=sn(e=>{var t;return null===(t=e.auth.user)||void 0===t?void 0:t.username}),t=sn(e=>e.ui.activeContactTab),{friends:n,groups:a,friendRequests:o,groupInvites:i,blocks:s,hiddenGroups:l}=Sf(e),[c,u]=(0,r.useState)({isOpen:!1,title:"",message:"",isDanger:!1,onConfirm:()=>{}}),h=()=>u(d(d({},c),{},{isOpen:!1})),f=function(e,t,n){u({isOpen:!0,title:e,message:t,isDanger:arguments.length>3&&void 0!==arguments[3]&&arguments[3],onConfirm:async()=>{await n(),h()}})},p=async t=>{if(e)try{await(async(e,t)=>{if(!await of(e))throw new Error("Danh s\xe1ch c\u1ee7a b\u1ea1n \u0111\xe3 \u0111\u1ea7y (".concat(4," ng\u01b0\u1eddi/nh\xf3m). H\xe3y x\xf3a b\u1edbt tr\u01b0\u1edbc khi ch\u1ea5p nh\u1eadn."));const n=nh(e),r=nh(t),a={};a["users/".concat(n,"/friends/").concat(r)]=!0,a["users/".concat(r,"/friends/").concat(n)]=!0,a["users/".concat(n,"/friendRequests/").concat(r)]=null;try{await Vd(Hd(th),a),console.log("\u0110\xe3 ch\u1ea5p nh\u1eadn k\u1ebft b\u1ea1n!")}catch(qi){throw console.error("L\u1ed7i ch\u1ea5p nh\u1eadn k\u1ebft b\u1ea1n:",qi),qi}})(e,t),lf.sendMessageToPeople(t,"oke ban")}catch(qi){alert(qi.message)}},m=t=>{e&&f("T\u1eeb ch\u1ed1i k\u1ebft b\u1ea1n?","B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a l\u1eddi m\u1eddi t\u1eeb ".concat(t,"?"),()=>(async(e,t)=>{const n=nh(e),r=nh(t),a=Hd(th,"users/".concat(n,"/friendRequests/").concat(r));await Bd(a)})(e,t),!0)},g=t=>{e&&f("Ch\u1eb7n ng\u01b0\u1eddi d\xf9ng?","B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n ch\u1eb7n ".concat(t,"? H\u1ecd s\u1ebd kh\xf4ng th\u1ec3 nh\u1eafn tin cho b\u1ea1n n\u1eefa."),()=>(async(e,t)=>{const n=nh(e),r=nh(t),a={};a["users/".concat(n,"/blocks/").concat(r)]=!0,a["users/".concat(n,"/friends/").concat(r)]=null,await Vd(Hd(th),a)})(e,t),!0)},y=t=>{e&&f("B\u1ecf ch\u1eb7n?","Cho ph\xe9p ".concat(t," li\xean l\u1ea1c l\u1ea1i v\u1edbi b\u1ea1n?"),()=>(async(e,t)=>{const n=nh(e),r=nh(t);await Bd(Hd(th,"users/".concat(n,"/blocks/").concat(r)))})(e,t))},v=t=>{e&&f("\u1ea8n nh\xf3m chat?","Nh\xf3m ".concat(t,' s\u1ebd b\u1ecb \u1ea9n kh\u1ecfi danh s\xe1ch chat ch\xednh. B\u1ea1n c\xf3 th\u1ec3 t\xecm l\u1ea1i trong m\u1ee5c "Nh\xf3m \u0111\xe3 \u1ea9n".'),()=>(async(e,t)=>{const n=nh(e),r={};r["users/".concat(n,"/groups/").concat(t)]=null,r["users/".concat(n,"/hiddenGroups/").concat(t)]=!0,await Vd(Hd(th),r)})(e,t))},b=async t=>{if(e)try{await(async(e,t)=>{if(!await of(e))throw new Error("Danh s\xe1ch ch\xednh \u0111\xe3 \u0111\u1ea7y (4/4). H\xe3y \u1ea9n b\u1edbt nh\xf3m ho\u1eb7c x\xf3a b\u1ea1n b\xe8 tr\u01b0\u1edbc.");const n=nh(e),r={};r["users/".concat(n,"/hiddenGroups/").concat(t)]=null,r["users/".concat(n,"/groups/").concat(t)]=!0,await Vd(Hd(th),r)})(e,t)}catch(qi){alert(qi.message)}};return(0,At.jsxs)("div",{className:"flex flex-col h-full w-full bg-gray-50 dark:bg-gray-900 relative",children:[(0,At.jsxs)("div",{className:"px-8 py-6 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800",children:[(0,At.jsx)("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:(()=>{switch(t){case"friends":return"Danh s\xe1ch b\u1ea1n b\xe8";case"groups":return"Nh\xf3m & C\u1ed9ng \u0111\u1ed3ng";case"friendRequests":return"L\u1eddi m\u1eddi k\u1ebft b\u1ea1n";case"hiddenGroups":return"Kho l\u01b0u tr\u1eef nh\xf3m";case"blocks":return"Danh s\xe1ch ch\u1eb7n";case"groupInvites":return"L\u1eddi m\u1eddi v\xe0o nh\xf3m";default:return"Danh b\u1ea1"}})()}),(0,At.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Qu\u1ea3n l\xfd c\xe1c m\u1ed1i quan h\u1ec7 c\u1ee7a b\u1ea1n"})]}),(0,At.jsx)("div",{className:"flex-1 overflow-y-auto p-8",children:(()=>{switch(t){case"friends":return 0===n.length?(0,At.jsx)(op,{text:"Ch\u01b0a c\xf3 b\u1ea1n b\xe8 n\xe0o."}):(0,At.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:n.map(e=>(0,At.jsx)(ap,{username:e,subText:"B\u1ea1n b\xe8",actions:(0,At.jsx)("button",{onClick:()=>g(e),className:"px-4 py-2 bg-red-50 text-red-600 hover:bg-red-100 rounded-xl text-sm font-semibold transition-colors",children:"Ch\u1eb7n"})},e))});case"groups":return 0===a.length?(0,At.jsx)(op,{text:"Ch\u01b0a tham gia nh\xf3m n\xe0o."}):(0,At.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:a.map(e=>(0,At.jsx)(ap,{username:e,subText:"Nh\xf3m chat",actions:(0,At.jsxs)("button",{onClick:()=>v(e),className:"px-4 py-2 bg-gray-100 text-gray-600 hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-300 rounded-xl text-sm font-semibold transition-colors flex items-center gap-2",children:[(0,At.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,At.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})})," \u1ea8n"]})},e))});case"friendRequests":return 0===o.length?(0,At.jsx)(op,{text:"Kh\xf4ng c\xf3 l\u1eddi m\u1eddi k\u1ebft b\u1ea1n n\xe0o."}):(0,At.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:o.map(e=>(0,At.jsx)(ap,{username:e,subText:"Mu\u1ed1n k\u1ebft b\u1ea1n v\u1edbi b\u1ea1n",actions:(0,At.jsxs)(At.Fragment,{children:[(0,At.jsx)("button",{onClick:()=>m(e),className:"px-3 py-2 text-gray-500 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-700 rounded-xl text-sm font-semibold transition-colors",children:"X\xf3a"}),(0,At.jsx)("button",{onClick:()=>p(e),className:"px-4 py-2 bg-blue-600 text-white hover:bg-blue-700 rounded-xl text-sm font-semibold shadow-md shadow-blue-500/20 transition-colors",children:"X\xe1c nh\u1eadn"})]})},e))});case"hiddenGroups":return 0===l.length?(0,At.jsx)(op,{text:"Kh\xf4ng c\xf3 nh\xf3m n\xe0o b\u1ecb \u1ea9n."}):(0,At.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:l.map(e=>(0,At.jsx)(ap,{username:e,subText:"\u0110ang b\u1ecb \u1ea9n",actions:(0,At.jsx)("button",{onClick:()=>b(e),className:"px-4 py-2 bg-green-50 text-green-600 hover:bg-green-100 rounded-xl text-sm font-semibold transition-colors",children:"Hi\u1ec7n l\u1ea1i"})},e))});case"blocks":return 0===s.length?(0,At.jsx)(op,{text:"B\u1ea1n ch\u01b0a ch\u1eb7n ai c\u1ea3."}):(0,At.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:s.map(e=>(0,At.jsx)(ap,{username:e,subText:"\u0110\xe3 ch\u1eb7n",actions:(0,At.jsx)("button",{onClick:()=>y(e),className:"px-4 py-2 bg-blue-50 text-blue-600 hover:bg-blue-100 rounded-xl text-sm font-semibold transition-colors",children:"B\u1ecf ch\u1eb7n"})},e))});case"groupInvites":return(0,At.jsx)(op,{text:"T\xednh n\u0103ng \u0111ang ph\xe1t tri\u1ec3n..."});default:return null}})()}),(0,At.jsx)(rp,{isOpen:c.isOpen,title:c.title,message:c.message,isDanger:c.isDanger,onConfirm:c.onConfirm,onCancel:h})]})},sp=()=>{const e=sn(e=>e.ui.activeSidebarTab);return(0,At.jsxs)("div",{className:"flex h-screen w-full overflow-hidden bg-white dark:bg-gray-900",children:[(0,At.jsx)("div",{className:"w-[25%] h-full hidden md:flex flex-row border-r border-gray-300 dark:border-gray-700",children:(0,At.jsx)(jf,{})}),(0,At.jsx)("div",{className:"flex-1 h-full w-[75%] min-w-0 bg-white dark:bg-gray-900 border-l border-gray-200 dark:border-gray-700",children:"contacts"===e?(0,At.jsx)(ip,{}):(0,At.jsx)(np,{})})]})};const lp=function(){const e=sn(e=>e.auth.isAuthenticated),t=sn(e=>e.auth.socketConnected),n=sn(e=>e.auth.socketConnectionError),a=sn(e=>e.theme.mode),o=on(),i=sn(e=>e.auth.user),{friends:s,groups:l}=Sf(null===i||void 0===i?void 0:i.username);return(0,r.useEffect)(()=>{e&&null!==i&&void 0!==i&&i.username&&lf.setWhitelist(s,l)},[s,l,e,i]),(0,r.useEffect)(()=>{const e=document.documentElement;"dark"===a?e.classList.add("dark"):e.classList.remove("dark")},[a]),(0,r.useEffect)(()=>{(async()=>{if(await lf.connect(),e){const e=localStorage.getItem("reLoginCode"),t=localStorage.getItem("username"),n=localStorage.getItem("username");n&&o(ah(n)),e&&t&&(nf.dispatch(ih()),lf.reLogin(t,e))}})()},[e]),t||n?n?(0,At.jsx)(mf,{errorMessage:n}):(0,At.jsxs)(Ke,{children:[(0,At.jsx)(Ve,{path:"/login",element:e?(0,At.jsx)(qe,{to:"/",replace:!0}):(0,At.jsx)(uf,{})}),(0,At.jsx)(Ve,{path:"/register",element:e?(0,At.jsx)(qe,{to:"/",replace:!0}):(0,At.jsx)(ff,{})}),(0,At.jsx)(Ve,{path:"/profile",element:e?(0,At.jsx)(gf,{}):(0,At.jsx)(qe,{to:"/login",replace:!0})}),(0,At.jsx)(Ve,{path:"/",element:e?(0,At.jsx)(sp,{}):(0,At.jsx)(qe,{to:"/login",replace:!0})})]}):(0,At.jsx)(pf,{})};o.createRoot(document.getElementById("root")).render((0,At.jsx)(r.StrictMode,{children:(0,At.jsx)(Qt,{store:nf,children:(0,At.jsx)(Et,{children:(0,At.jsx)(lp,{})})})}))})();
//# sourceMappingURL=main.62685bfc.js.map